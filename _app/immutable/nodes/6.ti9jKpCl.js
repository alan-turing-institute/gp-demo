import{t as uu,a as Kn}from"../chunks/C48UJloe.js";import"../chunks/CYcuvaPY.js";import{a4 as fo,aJ as co,aK as lo,a5 as ho,g as ve,a6 as vo,s as Qe,a7 as Ve,C as po,aL as $t,l as dt,a8 as Ze,n as Do}from"../chunks/Dq82j-jo.js";import{e as dn,s as qt}from"../chunks/dKa16fuL.js";import{b as Qn,i as go}from"../chunks/CrHll51r.js";import{e as Rt,f as mo,g as au,h as wo,j as yo,k as _o,c as kr,m as kn,n as Fo,o as jn,l as ei,s as pt,b as ti,r as ri}from"../chunks/B_Y1jUo5.js";import{i as Ao}from"../chunks/1UpHGkyr.js";import{o as bo}from"../chunks/Cj303KgY.js";var ni=180/Math.PI,wn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ou(e,t,r,n,i,u){var a,f,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(f=Math.sqrt(r*r+n*n))&&(r/=f,n/=f,l/=f),e*n<t*r&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:u,rotate:Math.atan2(t,e)*ni,skewX:Math.atan(l)*ni,scaleX:a,scaleY:f}}var br;function Eo(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?wn:ou(t.a,t.b,t.c,t.d,t.e,t.f)}function Co(e){return e==null||(br||(br=document.createElementNS("http://www.w3.org/2000/svg","g")),br.setAttribute("transform",e),!(e=br.transform.baseVal.consolidate()))?wn:(e=e.matrix,ou(e.a,e.b,e.c,e.d,e.e,e.f))}function su(e,t,r,n){function i(c){return c.length?c.pop()+" ":""}function u(c,o,s,v,d,p){if(c!==s||o!==v){var h=d.push("translate(",null,t,null,r);p.push({i:h-4,x:Rt(c,s)},{i:h-2,x:Rt(o,v)})}else(s||v)&&d.push("translate("+s+t+v+r)}function a(c,o,s,v){c!==o?(c-o>180?o+=360:o-c>180&&(c+=360),v.push({i:s.push(i(s)+"rotate(",null,n)-2,x:Rt(c,o)})):o&&s.push(i(s)+"rotate("+o+n)}function f(c,o,s,v){c!==o?v.push({i:s.push(i(s)+"skewX(",null,n)-2,x:Rt(c,o)}):o&&s.push(i(s)+"skewX("+o+n)}function l(c,o,s,v,d,p){if(c!==s||o!==v){var h=d.push(i(d)+"scale(",null,",",null,")");p.push({i:h-4,x:Rt(c,s)},{i:h-2,x:Rt(o,v)})}else(s!==1||v!==1)&&d.push(i(d)+"scale("+s+","+v+")")}return function(c,o){var s=[],v=[];return c=e(c),o=e(o),u(c.translateX,c.translateY,o.translateX,o.translateY,s,v),a(c.rotate,o.rotate,s,v),f(c.skewX,o.skewX,s,v),l(c.scaleX,c.scaleY,o.scaleX,o.scaleY,s,v),c=o=null,function(d){for(var p=-1,h=v.length,D;++p<h;)s[(D=v[p]).i]=D.x(d);return s.join("")}}}var So=su(Eo,"px, ","px)","deg)"),Bo=su(Co,", ",")",")");function Mo(){var e=0,t=1,r,n,i,u,a=au,f=!1,l;function c(s){return s==null||isNaN(s=+s)?l:a(i===0?.5:(s=(u(s)-r)*i,f?Math.max(0,Math.min(1,s)):s))}c.domain=function(s){return arguments.length?([e,t]=s,r=u(e=+e),n=u(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(s){return arguments.length?(f=!!s,c):f},c.interpolator=function(s){return arguments.length?(a=s,c):a};function o(s){return function(v){var d,p;return arguments.length?([d,p]=v,a=s(d,p),c):[a(0),a(1)]}}return c.range=o(yo),c.rangeRound=o(_o),c.unknown=function(s){return arguments.length?(l=s,c):l},function(s){return u=s,r=s(e),n=s(t),i=r===n?0:1/(n-r),c}}function xo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function fu(){var e=mo(Mo()(au));return e.copy=function(){return xo(e,fu())},wo.apply(e,arguments)}function jr(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}const No=jr(kr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));jr(kr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));jr(kr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));jr(kr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var To={value:()=>{}};function cu(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Mr(r)}function Mr(e){this._=e}function zo(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Mr.prototype=cu.prototype={constructor:Mr,on:function(e,t){var r=this._,n=zo(e+"",r),i,u=-1,a=n.length;if(arguments.length<2){for(;++u<a;)if((i=(e=n[u]).type)&&(i=Io(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<a;)if(i=(e=n[u]).type)r[i]=ii(r[i],e.name,t);else if(t==null)for(i in r)r[i]=ii(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Mr(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,u;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],n=0,i=u.length;n<i;++n)u[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,u=n.length;i<u;++i)n[i].value.apply(t,r)}};function Io(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function ii(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=To,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var yn="http://www.w3.org/1999/xhtml";const ui={svg:"http://www.w3.org/2000/svg",xhtml:yn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function en(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),ui.hasOwnProperty(t)?{space:ui[t],local:e}:e}function Po(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===yn&&t.documentElement.namespaceURI===yn?t.createElement(e):t.createElementNS(r,e)}}function Oo(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function lu(e){var t=en(e);return(t.local?Oo:Po)(t)}function $o(){}function In(e){return e==null?$o:function(){return this.querySelector(e)}}function qo(e){typeof e!="function"&&(e=In(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var u=t[i],a=u.length,f=n[i]=new Array(a),l,c,o=0;o<a;++o)(l=u[o])&&(c=e.call(l,l.__data__,o,u))&&("__data__"in l&&(c.__data__=l.__data__),f[o]=c);return new ht(n,this._parents)}function Ro(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Uo(){return[]}function hu(e){return e==null?Uo:function(){return this.querySelectorAll(e)}}function Lo(e){return function(){return Ro(e.apply(this,arguments))}}function Vo(e){typeof e=="function"?e=Lo(e):e=hu(e);for(var t=this._groups,r=t.length,n=[],i=[],u=0;u<r;++u)for(var a=t[u],f=a.length,l,c=0;c<f;++c)(l=a[c])&&(n.push(e.call(l,l.__data__,c,a)),i.push(l));return new ht(n,i)}function vu(e){return function(){return this.matches(e)}}function du(e){return function(t){return t.matches(e)}}var Zo=Array.prototype.find;function Ho(e){return function(){return Zo.call(this.children,e)}}function Xo(){return this.firstElementChild}function Yo(e){return this.select(e==null?Xo:Ho(typeof e=="function"?e:du(e)))}var Go=Array.prototype.filter;function Jo(){return Array.from(this.children)}function Wo(e){return function(){return Go.call(this.children,e)}}function Ko(e){return this.selectAll(e==null?Jo:Wo(typeof e=="function"?e:du(e)))}function Qo(e){typeof e!="function"&&(e=vu(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var u=t[i],a=u.length,f=n[i]=[],l,c=0;c<a;++c)(l=u[c])&&e.call(l,l.__data__,c,u)&&f.push(l);return new ht(n,this._parents)}function pu(e){return new Array(e.length)}function ko(){return new ht(this._enter||this._groups.map(pu),this._parents)}function Ir(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ir.prototype={constructor:Ir,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function jo(e){return function(){return e}}function es(e,t,r,n,i,u){for(var a=0,f,l=t.length,c=u.length;a<c;++a)(f=t[a])?(f.__data__=u[a],n[a]=f):r[a]=new Ir(e,u[a]);for(;a<l;++a)(f=t[a])&&(i[a]=f)}function ts(e,t,r,n,i,u,a){var f,l,c=new Map,o=t.length,s=u.length,v=new Array(o),d;for(f=0;f<o;++f)(l=t[f])&&(v[f]=d=a.call(l,l.__data__,f,t)+"",c.has(d)?i[f]=l:c.set(d,l));for(f=0;f<s;++f)d=a.call(e,u[f],f,u)+"",(l=c.get(d))?(n[f]=l,l.__data__=u[f],c.delete(d)):r[f]=new Ir(e,u[f]);for(f=0;f<o;++f)(l=t[f])&&c.get(v[f])===l&&(i[f]=l)}function rs(e){return e.__data__}function ns(e,t){if(!arguments.length)return Array.from(this,rs);var r=t?ts:es,n=this._parents,i=this._groups;typeof e!="function"&&(e=jo(e));for(var u=i.length,a=new Array(u),f=new Array(u),l=new Array(u),c=0;c<u;++c){var o=n[c],s=i[c],v=s.length,d=is(e.call(o,o&&o.__data__,c,n)),p=d.length,h=f[c]=new Array(p),D=a[c]=new Array(p),m=l[c]=new Array(v);r(o,s,h,D,m,d,t);for(var _=0,w=0,F,y;_<p;++_)if(F=h[_]){for(_>=w&&(w=_+1);!(y=D[w])&&++w<p;);F._next=y||null}}return a=new ht(a,n),a._enter=f,a._exit=l,a}function is(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function us(){return new ht(this._exit||this._groups.map(pu),this._parents)}function as(e,t,r){var n=this.enter(),i=this,u=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?u.remove():r(u),n&&i?n.merge(i).order():i}function os(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,u=n.length,a=Math.min(i,u),f=new Array(i),l=0;l<a;++l)for(var c=r[l],o=n[l],s=c.length,v=f[l]=new Array(s),d,p=0;p<s;++p)(d=c[p]||o[p])&&(v[p]=d);for(;l<i;++l)f[l]=r[l];return new ht(f,this._parents)}function ss(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,u=n[i],a;--i>=0;)(a=n[i])&&(u&&a.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(a,u),u=a);return this}function fs(e){e||(e=cs);function t(s,v){return s&&v?e(s.__data__,v.__data__):!s-!v}for(var r=this._groups,n=r.length,i=new Array(n),u=0;u<n;++u){for(var a=r[u],f=a.length,l=i[u]=new Array(f),c,o=0;o<f;++o)(c=a[o])&&(l[o]=c);l.sort(t)}return new ht(i,this._parents).order()}function cs(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ls(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function hs(){return Array.from(this)}function vs(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,u=n.length;i<u;++i){var a=n[i];if(a)return a}return null}function ds(){let e=0;for(const t of this)++e;return e}function ps(){return!this.node()}function Ds(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],u=0,a=i.length,f;u<a;++u)(f=i[u])&&e.call(f,f.__data__,u,i);return this}function gs(e){return function(){this.removeAttribute(e)}}function ms(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ws(e,t){return function(){this.setAttribute(e,t)}}function ys(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _s(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Fs(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function As(e,t){var r=en(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?ms:gs:typeof t=="function"?r.local?Fs:_s:r.local?ys:ws)(r,t))}function Du(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function bs(e){return function(){this.style.removeProperty(e)}}function Es(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Cs(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Ss(e,t,r){return arguments.length>1?this.each((t==null?bs:typeof t=="function"?Cs:Es)(e,t,r??"")):Kt(this.node(),e)}function Kt(e,t){return e.style.getPropertyValue(t)||Du(e).getComputedStyle(e,null).getPropertyValue(t)}function Bs(e){return function(){delete this[e]}}function Ms(e,t){return function(){this[e]=t}}function xs(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Ns(e,t){return arguments.length>1?this.each((t==null?Bs:typeof t=="function"?xs:Ms)(e,t)):this.node()[e]}function gu(e){return e.trim().split(/^|\s+/)}function Pn(e){return e.classList||new mu(e)}function mu(e){this._node=e,this._names=gu(e.getAttribute("class")||"")}mu.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function wu(e,t){for(var r=Pn(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function yu(e,t){for(var r=Pn(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function Ts(e){return function(){wu(this,e)}}function zs(e){return function(){yu(this,e)}}function Is(e,t){return function(){(t.apply(this,arguments)?wu:yu)(this,e)}}function Ps(e,t){var r=gu(e+"");if(arguments.length<2){for(var n=Pn(this.node()),i=-1,u=r.length;++i<u;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?Is:t?Ts:zs)(r,t))}function Os(){this.textContent=""}function $s(e){return function(){this.textContent=e}}function qs(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Rs(e){return arguments.length?this.each(e==null?Os:(typeof e=="function"?qs:$s)(e)):this.node().textContent}function Us(){this.innerHTML=""}function Ls(e){return function(){this.innerHTML=e}}function Vs(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Zs(e){return arguments.length?this.each(e==null?Us:(typeof e=="function"?Vs:Ls)(e)):this.node().innerHTML}function Hs(){this.nextSibling&&this.parentNode.appendChild(this)}function Xs(){return this.each(Hs)}function Ys(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gs(){return this.each(Ys)}function Js(e){var t=typeof e=="function"?e:lu(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ws(){return null}function Ks(e,t){var r=typeof e=="function"?e:lu(e),n=t==null?Ws:typeof t=="function"?t:In(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Qs(){var e=this.parentNode;e&&e.removeChild(this)}function ks(){return this.each(Qs)}function js(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ef(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tf(e){return this.select(e?ef:js)}function rf(e){return arguments.length?this.property("__data__",e):this.node().__data__}function nf(e){return function(t){e.call(this,t,this.__data__)}}function uf(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function af(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,u;r<i;++r)u=t[r],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):t[++n]=u;++n?t.length=n:delete this.__on}}}function of(e,t,r){return function(){var n=this.__on,i,u=nf(t);if(n){for(var a=0,f=n.length;a<f;++a)if((i=n[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=u,i.options=r),i.value=t;return}}this.addEventListener(e.type,u,r),i={type:e.type,name:e.name,value:t,listener:u,options:r},n?n.push(i):this.__on=[i]}}function sf(e,t,r){var n=uf(e+""),i,u=n.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var l=0,c=f.length,o;l<c;++l)for(i=0,o=f[l];i<u;++i)if((a=n[i]).type===o.type&&a.name===o.name)return o.value}return}for(f=t?of:af,i=0;i<u;++i)this.each(f(n[i],t,r));return this}function _u(e,t,r){var n=Du(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ff(e,t){return function(){return _u(this,e,t)}}function cf(e,t){return function(){return _u(this,e,t.apply(this,arguments))}}function lf(e,t){return this.each((typeof t=="function"?cf:ff)(e,t))}function*hf(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,u=n.length,a;i<u;++i)(a=n[i])&&(yield a)}var vf=[null];function ht(e,t){this._groups=e,this._parents=t}function Dr(){return new ht([[document.documentElement]],vf)}function df(){return this}ht.prototype=Dr.prototype={constructor:ht,select:qo,selectAll:Vo,selectChild:Yo,selectChildren:Ko,filter:Qo,data:ns,enter:ko,exit:us,join:as,merge:os,selection:df,order:ss,sort:fs,call:ls,nodes:hs,node:vs,size:ds,empty:ps,each:Ds,attr:As,style:Ss,property:Ns,classed:Ps,text:Rs,html:Zs,raise:Xs,lower:Gs,append:Js,insert:Ks,remove:ks,clone:tf,datum:rf,on:sf,dispatch:lf,[Symbol.iterator]:hf};var Qt=0,sr=0,or=0,Fu=1e3,Pr,fr,Or=0,Vt=0,tn=0,lr=typeof performance=="object"&&performance.now?performance:Date,Au=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function On(){return Vt||(Au(pf),Vt=lr.now()+tn)}function pf(){Vt=0}function $r(){this._call=this._time=this._next=null}$r.prototype=bu.prototype={constructor:$r,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?On():+r)+(t==null?0:+t),!this._next&&fr!==this&&(fr?fr._next=this:Pr=this,fr=this),this._call=e,this._time=r,_n()},stop:function(){this._call&&(this._call=null,this._time=1/0,_n())}};function bu(e,t,r){var n=new $r;return n.restart(e,t,r),n}function Df(){On(),++Qt;for(var e=Pr,t;e;)(t=Vt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Qt}function ai(){Vt=(Or=lr.now())+tn,Qt=sr=0;try{Df()}finally{Qt=0,mf(),Vt=0}}function gf(){var e=lr.now(),t=e-Or;t>Fu&&(tn-=t,Or=e)}function mf(){for(var e,t=Pr,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Pr=r);fr=e,_n(n)}function _n(e){if(!Qt){sr&&(sr=clearTimeout(sr));var t=e-Vt;t>24?(e<1/0&&(sr=setTimeout(ai,e-lr.now()-tn)),or&&(or=clearInterval(or))):(or||(Or=lr.now(),or=setInterval(gf,Fu)),Qt=1,Au(ai))}}function oi(e,t,r){var n=new $r;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var wf=cu("start","end","cancel","interrupt"),yf=[],Eu=0,si=1,Fn=2,xr=3,fi=4,An=5,Nr=6;function rn(e,t,r,n,i,u){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;_f(e,r,{name:t,index:n,group:i,on:wf,tween:yf,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Eu})}function $n(e,t){var r=vt(e,t);if(r.state>Eu)throw new Error("too late; already scheduled");return r}function yt(e,t){var r=vt(e,t);if(r.state>xr)throw new Error("too late; already running");return r}function vt(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function _f(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=bu(u,0,r.time);function u(c){r.state=si,r.timer.restart(a,r.delay,r.time),r.delay<=c&&a(c-r.delay)}function a(c){var o,s,v,d;if(r.state!==si)return l();for(o in n)if(d=n[o],d.name===r.name){if(d.state===xr)return oi(a);d.state===fi?(d.state=Nr,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete n[o]):+o<t&&(d.state=Nr,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete n[o])}if(oi(function(){r.state===xr&&(r.state=fi,r.timer.restart(f,r.delay,r.time),f(c))}),r.state=Fn,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Fn){for(r.state=xr,i=new Array(v=r.tween.length),o=0,s=-1;o<v;++o)(d=r.tween[o].value.call(e,e.__data__,r.index,r.group))&&(i[++s]=d);i.length=s+1}}function f(c){for(var o=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=An,1),s=-1,v=i.length;++s<v;)i[s].call(e,o);r.state===An&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=Nr,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function Ff(e,t){var r=e.__transition,n,i,u=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){u=!1;continue}i=n.state>Fn&&n.state<An,n.state=Nr,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}u&&delete e.__transition}}function Af(e){return this.each(function(){Ff(this,e)})}function bf(e,t){var r,n;return function(){var i=yt(this,e),u=i.tween;if(u!==r){n=r=u;for(var a=0,f=n.length;a<f;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function Ef(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var u=yt(this,e),a=u.tween;if(a!==n){i=(n=a).slice();for(var f={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=f;break}l===c&&i.push(f)}u.tween=i}}function Cf(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=vt(this.node(),r).tween,i=0,u=n.length,a;i<u;++i)if((a=n[i]).name===e)return a.value;return null}return this.each((t==null?bf:Ef)(r,e,t))}function qn(e,t,r){var n=e._id;return e.each(function(){var i=yt(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return vt(i,n).value[t]}}function Cu(e,t){var r;return(typeof t=="number"?Rt:t instanceof jn?kn:(r=jn(t))?(t=r,kn):Fo)(e,t)}function Sf(e){return function(){this.removeAttribute(e)}}function Bf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Mf(e,t,r){var n,i=r+"",u;return function(){var a=this.getAttribute(e);return a===i?null:a===n?u:u=t(n=a,r)}}function xf(e,t,r){var n,i=r+"",u;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===n?u:u=t(n=a,r)}}function Nf(e,t,r){var n,i,u;return function(){var a,f=r(this),l;return f==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=f+"",a===l?null:a===n&&l===i?u:(i=l,u=t(n=a,f)))}}function Tf(e,t,r){var n,i,u;return function(){var a,f=r(this),l;return f==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=f+"",a===l?null:a===n&&l===i?u:(i=l,u=t(n=a,f)))}}function zf(e,t){var r=en(e),n=r==="transform"?Bo:Cu;return this.attrTween(e,typeof t=="function"?(r.local?Tf:Nf)(r,n,qn(this,"attr."+e,t)):t==null?(r.local?Bf:Sf)(r):(r.local?xf:Mf)(r,n,t))}function If(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Pf(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Of(e,t){var r,n;function i(){var u=t.apply(this,arguments);return u!==n&&(r=(n=u)&&Pf(e,u)),r}return i._value=t,i}function $f(e,t){var r,n;function i(){var u=t.apply(this,arguments);return u!==n&&(r=(n=u)&&If(e,u)),r}return i._value=t,i}function qf(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=en(e);return this.tween(r,(n.local?Of:$f)(n,t))}function Rf(e,t){return function(){$n(this,e).delay=+t.apply(this,arguments)}}function Uf(e,t){return t=+t,function(){$n(this,e).delay=t}}function Lf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Rf:Uf)(t,e)):vt(this.node(),t).delay}function Vf(e,t){return function(){yt(this,e).duration=+t.apply(this,arguments)}}function Zf(e,t){return t=+t,function(){yt(this,e).duration=t}}function Hf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Vf:Zf)(t,e)):vt(this.node(),t).duration}function Xf(e,t){if(typeof t!="function")throw new Error;return function(){yt(this,e).ease=t}}function Yf(e){var t=this._id;return arguments.length?this.each(Xf(t,e)):vt(this.node(),t).ease}function Gf(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;yt(this,e).ease=r}}function Jf(e){if(typeof e!="function")throw new Error;return this.each(Gf(this._id,e))}function Wf(e){typeof e!="function"&&(e=vu(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var u=t[i],a=u.length,f=n[i]=[],l,c=0;c<a;++c)(l=u[c])&&e.call(l,l.__data__,c,u)&&f.push(l);return new St(n,this._parents,this._name,this._id)}function Kf(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,u=Math.min(n,i),a=new Array(n),f=0;f<u;++f)for(var l=t[f],c=r[f],o=l.length,s=a[f]=new Array(o),v,d=0;d<o;++d)(v=l[d]||c[d])&&(s[d]=v);for(;f<n;++f)a[f]=t[f];return new St(a,this._parents,this._name,this._id)}function Qf(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function kf(e,t,r){var n,i,u=Qf(t)?$n:yt;return function(){var a=u(this,e),f=a.on;f!==n&&(i=(n=f).copy()).on(t,r),a.on=i}}function jf(e,t){var r=this._id;return arguments.length<2?vt(this.node(),r).on.on(e):this.each(kf(r,e,t))}function ec(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function tc(){return this.on("end.remove",ec(this._id))}function rc(e){var t=this._name,r=this._id;typeof e!="function"&&(e=In(e));for(var n=this._groups,i=n.length,u=new Array(i),a=0;a<i;++a)for(var f=n[a],l=f.length,c=u[a]=new Array(l),o,s,v=0;v<l;++v)(o=f[v])&&(s=e.call(o,o.__data__,v,f))&&("__data__"in o&&(s.__data__=o.__data__),c[v]=s,rn(c[v],t,r,v,c,vt(o,r)));return new St(u,this._parents,t,r)}function nc(e){var t=this._name,r=this._id;typeof e!="function"&&(e=hu(e));for(var n=this._groups,i=n.length,u=[],a=[],f=0;f<i;++f)for(var l=n[f],c=l.length,o,s=0;s<c;++s)if(o=l[s]){for(var v=e.call(o,o.__data__,s,l),d,p=vt(o,r),h=0,D=v.length;h<D;++h)(d=v[h])&&rn(d,t,r,h,v,p);u.push(v),a.push(o)}return new St(u,a,t,r)}var ic=Dr.prototype.constructor;function uc(){return new ic(this._groups,this._parents)}function ac(e,t){var r,n,i;return function(){var u=Kt(this,e),a=(this.style.removeProperty(e),Kt(this,e));return u===a?null:u===r&&a===n?i:i=t(r=u,n=a)}}function Su(e){return function(){this.style.removeProperty(e)}}function oc(e,t,r){var n,i=r+"",u;return function(){var a=Kt(this,e);return a===i?null:a===n?u:u=t(n=a,r)}}function sc(e,t,r){var n,i,u;return function(){var a=Kt(this,e),f=r(this),l=f+"";return f==null&&(l=f=(this.style.removeProperty(e),Kt(this,e))),a===l?null:a===n&&l===i?u:(i=l,u=t(n=a,f))}}function fc(e,t){var r,n,i,u="style."+t,a="end."+u,f;return function(){var l=yt(this,e),c=l.on,o=l.value[u]==null?f||(f=Su(t)):void 0;(c!==r||i!==o)&&(n=(r=c).copy()).on(a,i=o),l.on=n}}function cc(e,t,r){var n=(e+="")=="transform"?So:Cu;return t==null?this.styleTween(e,ac(e,n)).on("end.style."+e,Su(e)):typeof t=="function"?this.styleTween(e,sc(e,n,qn(this,"style."+e,t))).each(fc(this._id,e)):this.styleTween(e,oc(e,n,t),r).on("end.style."+e,null)}function lc(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function hc(e,t,r){var n,i;function u(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&lc(e,a,r)),n}return u._value=t,u}function vc(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,hc(e,t,r??""))}function dc(e){return function(){this.textContent=e}}function pc(e){return function(){var t=e(this);this.textContent=t??""}}function Dc(e){return this.tween("text",typeof e=="function"?pc(qn(this,"text",e)):dc(e==null?"":e+""))}function gc(e){return function(t){this.textContent=e.call(this,t)}}function mc(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&gc(i)),t}return n._value=e,n}function wc(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,mc(e))}function yc(){for(var e=this._name,t=this._id,r=Bu(),n=this._groups,i=n.length,u=0;u<i;++u)for(var a=n[u],f=a.length,l,c=0;c<f;++c)if(l=a[c]){var o=vt(l,t);rn(l,e,r,c,a,{time:o.time+o.delay+o.duration,delay:0,duration:o.duration,ease:o.ease})}return new St(n,this._parents,e,r)}function _c(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(u,a){var f={value:a},l={value:function(){--i===0&&u()}};r.each(function(){var c=yt(this,n),o=c.on;o!==e&&(t=(e=o).copy(),t._.cancel.push(f),t._.interrupt.push(f),t._.end.push(l)),c.on=t}),i===0&&u()})}var Fc=0;function St(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Bu(){return++Fc}var bt=Dr.prototype;St.prototype={constructor:St,select:rc,selectAll:nc,selectChild:bt.selectChild,selectChildren:bt.selectChildren,filter:Wf,merge:Kf,selection:uc,transition:yc,call:bt.call,nodes:bt.nodes,node:bt.node,size:bt.size,empty:bt.empty,each:bt.each,on:jf,attr:zf,attrTween:qf,style:cc,styleTween:vc,text:Dc,textTween:wc,remove:tc,tween:Cf,delay:Lf,duration:Hf,ease:Yf,easeVarying:Jf,end:_c,[Symbol.iterator]:bt[Symbol.iterator]};function Ac(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var bc={time:null,delay:0,duration:250,ease:Ac};function Ec(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function Cc(e){var t,r;e instanceof St?(t=e._id,e=e._name):(t=Bu(),(r=bc).time=On(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,u=0;u<i;++u)for(var a=n[u],f=a.length,l,c=0;c<f;++c)(l=a[c])&&rn(l,e,t,c,a,r||Ec(l,t));return new St(n,this._parents,e,t)}Dr.prototype.interrupt=Af;Dr.prototype.transition=Cc;function cr(e,t,r){this.k=e,this.x=t,this.y=r}cr.prototype={constructor:cr,scale:function(e){return e===1?this:new cr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new cr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};cr.prototype;function qr(){return qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qr.apply(null,arguments)}var Mu={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Sc(e,t){if(Rr(e,t))return e[t];throw typeof e[t]=="function"&&Mc(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Bc(e,t,r){if(Rr(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function Rr(e,t){return!xc(e)&&!Array.isArray(e)?!1:vr(Nc,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Mc(e,t){return e==null||typeof e[t]!="function"||vr(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:vr(Tc,t)?!0:!(t in Object.prototype||t in Function.prototype)}function xc(e){return typeof e=="object"&&e&&e.constructor===Object}var Nc={length:!0,name:!0},Tc={toString:!0,valueOf:!0,toLocaleString:!0};class zc{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return Sc(this.wrappedObject,t)}set(t,r){return Bc(this.wrappedObject,t,r),this}has(t){return Rr(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return Ic(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){Rr(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function Ic(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function Se(e){return typeof e=="number"}function Pe(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Pc(e){return typeof e=="bigint"}function xu(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function Nu(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function Tu(e){return e&&e.constructor.prototype.isUnit===!0||!1}function Dt(e){return typeof e=="string"}var Ie=Array.isArray;function Ne(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function hr(e){return Array.isArray(e)||Ne(e)}function zu(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Iu(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Oc(e){return e&&e.constructor.prototype.isRange===!0||!1}function Rn(e){return e&&e.constructor.prototype.isIndex===!0||!1}function $c(e){return typeof e=="boolean"}function qc(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Rc(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Uc(e){return typeof e=="function"}function Lc(e){return e instanceof Date}function Vc(e){return e instanceof RegExp}function Un(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!xu(e)&&!Nu(e))}function Zc(e){return e?e instanceof Map||e instanceof zc||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function Hc(e){return e===null}function Xc(e){return e===void 0}function Yc(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Gc(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Jc(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Wc(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Kc(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Qc(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function kc(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function jc(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function el(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function tl(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function rl(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function nl(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function il(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function ul(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function al(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function ol(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function sl(e){return e&&e.constructor.prototype.isChain===!0||!1}function mt(e){var t=typeof e;return t==="object"?e===null?"null":Pe(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Ce(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return Ce(r)});if(e instanceof Date)return new Date(e.valueOf());if(Pe(e))return e;if(Un(e))return fl(e,Ce);if(t==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function fl(e,t){var r={};for(var n in e)vr(e,n)&&(r[n]=t(e[n]));return r}function cl(e,t){for(var r in t)vr(t,r)&&(e[r]=t[r]);return e}function zt(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!zt(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!zt(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function vr(e,t){return e&&Object.hasOwnProperty.call(e,t)}function ll(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],u=e[i];u!==void 0&&(r[i]=u)}return r}var hl=["Matrix","Array"],vl=["number","BigNumber","Fraction"],rt=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Mu)};qr(rt,Mu,{MATRIX_OPTIONS:hl,NUMBER_OPTIONS:vl});function ci(){return!0}function ut(){return!1}function Yt(){}const li="Argument is not a typed-function.";function Pu(){function e(A){return typeof A=="object"&&A!==null&&A.constructor===Object}const t=[{name:"number",test:function(A){return typeof A=="number"}},{name:"string",test:function(A){return typeof A=="string"}},{name:"boolean",test:function(A){return typeof A=="boolean"}},{name:"Function",test:function(A){return typeof A=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(A){return A instanceof Date}},{name:"RegExp",test:function(A){return A instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(A){return A===null}},{name:"undefined",test:function(A){return A===void 0}}],r={name:"any",test:ci,isAny:!0};let n,i,u=0,a={createCount:0};function f(A){const B=n.get(A);if(B)return B;let x='Unknown type "'+A+'"';const z=A.toLowerCase();let R;for(R of i)if(R.toLowerCase()===z){x+='. Did you mean "'+R+'" ?';break}throw new TypeError(x)}function l(A){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const x=B?f(B).index:i.length,z=[];for(let L=0;L<A.length;++L){if(!A[L]||typeof A[L].name!="string"||typeof A[L].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const J=A[L].name;if(n.has(J))throw new TypeError('Duplicate type name "'+J+'"');z.push(J),n.set(J,{name:J,test:A[L].test,isAny:A[L].isAny,index:x+L,conversionsTo:[]})}const R=i.slice(x);i=i.slice(0,x).concat(z).concat(R);for(let L=x+z.length;L<i.length;++L)n.get(i[L]).index=L}function c(){n=new Map,i=[],u=0,l([r],!1)}c(),l(t);function o(){let A;for(A of i)n.get(A).conversionsTo=[];u=0}function s(A){const B=i.filter(x=>{const z=n.get(x);return!z.isAny&&z.test(A)});return B.length?B:["any"]}function v(A){return A&&typeof A=="function"&&"_typedFunctionData"in A}function d(A,B,x){if(!v(A))throw new TypeError(li);const z=x&&x.exact,R=Array.isArray(B)?B.join(","):B,L=F(R),J=D(L);if(!z||J in A.signatures){const ye=A._typedFunctionData.signatureMap.get(J);if(ye)return ye}const U=L.length;let G;if(z){G=[];let ye;for(ye in A.signatures)G.push(A._typedFunctionData.signatureMap.get(ye))}else G=A._typedFunctionData.signatures;for(let ye=0;ye<U;++ye){const me=L[ye],Te=[];let ke;for(ke of G){const Ke=E(ke.params,ye);if(!(!Ke||me.restParam&&!Ke.restParam)){if(!Ke.hasAny){const st=w(Ke);if(me.types.some(ft=>!st.has(ft.name)))continue}Te.push(ke)}}if(G=Te,G.length===0)break}let H;for(H of G)if(H.params.length<=U)return H;throw new TypeError("Signature not found (signature: "+(A.name||"unnamed")+"("+D(L,", ")+"))")}function p(A,B,x){return d(A,B,x).implementation}function h(A,B){const x=f(B);if(x.test(A))return A;const z=x.conversionsTo;if(z.length===0)throw new Error("There are no conversions to "+B+" defined.");for(let R=0;R<z.length;R++)if(f(z[R].from).test(A))return z[R].convert(A);throw new Error("Cannot convert "+A+" to "+B)}function D(A){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return A.map(x=>x.name).join(B)}function m(A){const B=A.indexOf("...")===0,z=(B?A.length>3?A.slice(3):"any":A).split("|").map(U=>f(U.trim()));let R=!1,L=B?"...":"";return{types:z.map(function(U){return R=U.isAny||R,L+=U.name+"|",{name:U.name,typeIndex:U.index,test:U.test,isAny:U.isAny,conversion:null,conversionIndex:-1}}),name:L.slice(0,-1),hasAny:R,hasConversion:!1,restParam:B}}function _(A){const B=A.types.map(J=>J.name),x=W(B);let z=A.hasAny,R=A.name;const L=x.map(function(J){const U=f(J.from);return z=U.isAny||z,R+="|"+J.from,{name:J.from,typeIndex:U.index,test:U.test,isAny:U.isAny,conversion:J,conversionIndex:J.index}});return{types:A.types.concat(L),name:R,hasAny:z,hasConversion:L.length>0,restParam:A.restParam}}function w(A){return A.typeSet||(A.typeSet=new Set,A.types.forEach(B=>A.typeSet.add(B.name))),A.typeSet}function F(A){const B=[];if(typeof A!="string")throw new TypeError("Signatures must be strings");const x=A.trim();if(x==="")return B;const z=x.split(",");for(let R=0;R<z.length;++R){const L=m(z[R].trim());if(L.restParam&&R!==z.length-1)throw new SyntaxError('Unexpected rest parameter "'+z[R]+'": only allowed for the last parameter');if(L.types.length===0)return null;B.push(L)}return B}function y(A){const B=se(A);return B?B.restParam:!1}function g(A){if(!A||A.types.length===0)return ci;if(A.types.length===1)return f(A.types[0].name).test;if(A.types.length===2){const B=f(A.types[0].name).test,x=f(A.types[1].name).test;return function(R){return B(R)||x(R)}}else{const B=A.types.map(function(x){return f(x.name).test});return function(z){for(let R=0;R<B.length;R++)if(B[R](z))return!0;return!1}}}function C(A){let B,x,z;if(y(A)){B=de(A).map(g);const R=B.length,L=g(se(A)),J=function(U){for(let G=R;G<U.length;G++)if(!L(U[G]))return!1;return!0};return function(G){for(let H=0;H<B.length;H++)if(!B[H](G[H]))return!1;return J(G)&&G.length>=R+1}}else return A.length===0?function(L){return L.length===0}:A.length===1?(x=g(A[0]),function(L){return x(L[0])&&L.length===1}):A.length===2?(x=g(A[0]),z=g(A[1]),function(L){return x(L[0])&&z(L[1])&&L.length===2}):(B=A.map(g),function(L){for(let J=0;J<B.length;J++)if(!B[J](L[J]))return!1;return L.length===B.length})}function E(A,B){return B<A.length?A[B]:y(A)?se(A):null}function b(A,B){const x=E(A,B);return x?w(x):new Set}function S(A){return A.conversion===null||A.conversion===void 0}function M(A,B){const x=new Set;return A.forEach(z=>{const R=b(z.params,B);let L;for(L of R)x.add(L)}),x.has("any")?["any"]:Array.from(x)}function I(A,B,x){let z,R;const L=A||"unnamed";let J=x,U;for(U=0;U<B.length;U++){const me=[];if(J.forEach(Te=>{const ke=E(Te.params,U),Ke=g(ke);(U<Te.params.length||y(Te.params))&&Ke(B[U])&&me.push(Te)}),me.length===0){if(R=M(J,U),R.length>0){const Te=s(B[U]);return z=new TypeError("Unexpected type of argument in function "+L+" (expected: "+R.join(" or ")+", actual: "+Te.join(" | ")+", index: "+U+")"),z.data={category:"wrongType",fn:L,index:U,actual:Te,expected:R},z}}else J=me}const G=J.map(function(me){return y(me.params)?1/0:me.params.length});if(B.length<Math.min.apply(null,G))return R=M(J,U),z=new TypeError("Too few arguments in function "+L+" (expected: "+R.join(" or ")+", index: "+B.length+")"),z.data={category:"tooFewArgs",fn:L,index:B.length,expected:R},z;const H=Math.max.apply(null,G);if(B.length>H)return z=new TypeError("Too many arguments in function "+L+" (expected: "+H+", actual: "+B.length+")"),z.data={category:"tooManyArgs",fn:L,index:B.length,expectedLength:H},z;const ye=[];for(let me=0;me<B.length;++me)ye.push(s(B[me]).join("|"));return z=new TypeError('Arguments of type "'+ye.join(", ")+'" do not match any of the defined signatures of function '+L+"."),z.data={category:"mismatch",actual:ye},z}function V(A){let B=i.length+1;for(let x=0;x<A.types.length;x++)S(A.types[x])&&(B=Math.min(B,A.types[x].typeIndex));return B}function P(A){let B=u+1;for(let x=0;x<A.types.length;x++)S(A.types[x])||(B=Math.min(B,A.types[x].conversionIndex));return B}function O(A,B){if(A.hasAny){if(!B.hasAny)return 1}else if(B.hasAny)return-1;if(A.restParam){if(!B.restParam)return 1}else if(B.restParam)return-1;if(A.hasConversion){if(!B.hasConversion)return 1}else if(B.hasConversion)return-1;const x=V(A)-V(B);if(x<0)return-1;if(x>0)return 1;const z=P(A)-P(B);return z<0?-1:z>0?1:0}function N(A,B){const x=A.params,z=B.params,R=se(x),L=se(z),J=y(x),U=y(z);if(J&&R.hasAny){if(!U||!L.hasAny)return 1}else if(U&&L.hasAny)return-1;let G=0,H=0,ye;for(ye of x)ye.hasAny&&++G,ye.hasConversion&&++H;let me=0,Te=0;for(ye of z)ye.hasAny&&++me,ye.hasConversion&&++Te;if(G!==me)return G-me;if(J&&R.hasConversion){if(!U||!L.hasConversion)return 1}else if(U&&L.hasConversion)return-1;if(H!==Te)return H-Te;if(J){if(!U)return 1}else if(U)return-1;const ke=(x.length-z.length)*(J?-1:1);if(ke!==0)return ke;const Ke=[];let st=0;for(let Xt=0;Xt<x.length;++Xt){const Fr=O(x[Xt],z[Xt]);Ke.push(Fr),st+=Fr}if(st!==0)return st;let ft;for(ft of Ke)if(ft!==0)return ft;return 0}function W(A){if(A.length===0)return[];const B=A.map(f);A.length>1&&B.sort((R,L)=>R.index-L.index);let x=B[0].conversionsTo;if(A.length===1)return x;x=x.concat([]);const z=new Set(A);for(let R=1;R<B.length;++R){let L;for(L of B[R].conversionsTo)z.has(L.from)||(x.push(L),z.add(L.from))}return x}function X(A,B){let x=B;if(A.some(R=>R.hasConversion)){const R=y(A),L=A.map(T);x=function(){const U=[],G=R?arguments.length-1:arguments.length;for(let H=0;H<G;H++)U[H]=L[H](arguments[H]);return R&&(U[G]=arguments[G].map(L[G])),B.apply(this,U)}}let z=x;if(y(A)){const R=A.length-1;z=function(){return x.apply(this,ne(arguments,0,R).concat([ne(arguments,R)]))}}return z}function T(A){let B,x,z,R;const L=[],J=[];switch(A.types.forEach(function(U){U.conversion&&(L.push(f(U.conversion.from).test),J.push(U.conversion.convert))}),J.length){case 0:return function(G){return G};case 1:return B=L[0],z=J[0],function(G){return B(G)?z(G):G};case 2:return B=L[0],x=L[1],z=J[0],R=J[1],function(G){return B(G)?z(G):x(G)?R(G):G};default:return function(G){for(let H=0;H<J.length;H++)if(L[H](G))return J[H](G);return G}}}function Y(A){function B(x,z,R){if(z<x.length){const L=x[z];let J=[];if(L.restParam){const U=L.types.filter(S);U.length<L.types.length&&J.push({types:U,name:"..."+U.map(G=>G.name).join("|"),hasAny:U.some(G=>G.isAny),hasConversion:!1,restParam:!0}),J.push(L)}else J=L.types.map(function(U){return{types:[U],name:U.name,hasAny:U.isAny,hasConversion:U.conversion,restParam:!1}});return Fe(J,function(U){return B(x,z+1,R.concat([U]))})}else return[R]}return B(A,0,[])}function k(A,B){const x=Math.max(A.length,B.length);for(let U=0;U<x;U++){const G=b(A,U),H=b(B,U);let ye=!1,me;for(me of H)if(G.has(me)){ye=!0;break}if(!ye)return!1}const z=A.length,R=B.length,L=y(A),J=y(B);return L?J?z===R:R>=z:J?z>=R:z===R}function ae(A){return A.map(B=>Le(B)?Oe(B.referToSelf.callback):Ue(B)?De(B.referTo.references,B.referTo.callback):B)}function re(A,B,x){const z=[];let R;for(R of A){let L=x[R];if(typeof L!="number")throw new TypeError('No definition for referenced signature "'+R+'"');if(L=B[L],typeof L!="function")return!1;z.push(L)}return z}function j(A,B,x){const z=ae(A),R=new Array(z.length).fill(!1);let L=!0;for(;L;){L=!1;let J=!0;for(let U=0;U<z.length;++U){if(R[U])continue;const G=z[U];if(Le(G))z[U]=G.referToSelf.callback(x),z[U].referToSelf=G.referToSelf,R[U]=!0,J=!1;else if(Ue(G)){const H=re(G.referTo.references,z,B);H?(z[U]=G.referTo.callback.apply(this,H),z[U].referTo=G.referTo,R[U]=!0,J=!1):L=!0}}if(J&&L)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return z}function we(A){const B=/\bthis(\(|\.signatures\b)/;Object.keys(A).forEach(x=>{const z=A[x];if(B.test(z.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ce(A,B){if(a.createCount++,Object.keys(B).length===0)throw new SyntaxError("No signatures provided");a.warnAgainstDeprecatedThis&&we(B);const x=[],z=[],R={},L=[];let J;for(J in B){if(!Object.prototype.hasOwnProperty.call(B,J))continue;const Ae=F(J);if(!Ae)continue;x.forEach(function(ar){if(k(ar,Ae))throw new TypeError('Conflicting signatures "'+D(ar)+'" and "'+D(Ae)+'".')}),x.push(Ae);const je=z.length;z.push(B[J]);const oo=Ae.map(_);let Ar;for(Ar of Y(oo)){const ar=D(Ar);L.push({params:Ar,name:ar,fn:je}),Ar.every(so=>!so.hasConversion)&&(R[ar]=je)}}L.sort(N);const U=j(z,R,ur);let G;for(G in R)Object.prototype.hasOwnProperty.call(R,G)&&(R[G]=U[R[G]]);const H=[],ye=new Map;for(G of L)ye.has(G.name)||(G.fn=U[G.fn],H.push(G),ye.set(G.name,G));const me=H[0]&&H[0].params.length<=2&&!y(H[0].params),Te=H[1]&&H[1].params.length<=2&&!y(H[1].params),ke=H[2]&&H[2].params.length<=2&&!y(H[2].params),Ke=H[3]&&H[3].params.length<=2&&!y(H[3].params),st=H[4]&&H[4].params.length<=2&&!y(H[4].params),ft=H[5]&&H[5].params.length<=2&&!y(H[5].params),Xt=me&&Te&&ke&&Ke&&st&&ft;for(let Ae=0;Ae<H.length;++Ae)H[Ae].test=C(H[Ae].params);const Fr=me?g(H[0].params[0]):ut,za=Te?g(H[1].params[0]):ut,Ia=ke?g(H[2].params[0]):ut,Pa=Ke?g(H[3].params[0]):ut,Oa=st?g(H[4].params[0]):ut,$a=ft?g(H[5].params[0]):ut,qa=me?g(H[0].params[1]):ut,Ra=Te?g(H[1].params[1]):ut,Ua=ke?g(H[2].params[1]):ut,La=Ke?g(H[3].params[1]):ut,Va=st?g(H[4].params[1]):ut,Za=ft?g(H[5].params[1]):ut;for(let Ae=0;Ae<H.length;++Ae)H[Ae].implementation=X(H[Ae].params,H[Ae].fn);const Ha=me?H[0].implementation:Yt,Xa=Te?H[1].implementation:Yt,Ya=ke?H[2].implementation:Yt,Ga=Ke?H[3].implementation:Yt,Ja=st?H[4].implementation:Yt,Wa=ft?H[5].implementation:Yt,Ka=me?H[0].params.length:-1,Qa=Te?H[1].params.length:-1,ka=ke?H[2].params.length:-1,ja=Ke?H[3].params.length:-1,eo=st?H[4].params.length:-1,to=ft?H[5].params.length:-1,ro=Xt?6:0,no=H.length,io=H.map(Ae=>Ae.test),uo=H.map(Ae=>Ae.implementation),ao=function(){for(let je=ro;je<no;je++)if(io[je](arguments))return uo[je].apply(this,arguments);return a.onMismatch(A,arguments,H)};function ur(Ae,je){return arguments.length===Ka&&Fr(Ae)&&qa(je)?Ha.apply(this,arguments):arguments.length===Qa&&za(Ae)&&Ra(je)?Xa.apply(this,arguments):arguments.length===ka&&Ia(Ae)&&Ua(je)?Ya.apply(this,arguments):arguments.length===ja&&Pa(Ae)&&La(je)?Ga.apply(this,arguments):arguments.length===eo&&Oa(Ae)&&Va(je)?Ja.apply(this,arguments):arguments.length===to&&$a(Ae)&&Za(je)?Wa.apply(this,arguments):ao.apply(this,arguments)}try{Object.defineProperty(ur,"name",{value:A})}catch{}return ur.signatures=R,ur._typedFunctionData={signatures:H,signatureMap:ye},ur}function ue(A,B,x){throw I(A,B,x)}function de(A){return ne(A,0,A.length-1)}function se(A){return A[A.length-1]}function ne(A,B,x){return Array.prototype.slice.call(A,B,x)}function Ee(A,B){for(let x=0;x<A.length;x++)if(B(A[x]))return A[x]}function Fe(A,B){return Array.prototype.concat.apply([],A.map(B))}function fe(){const A=de(arguments).map(x=>D(F(x))),B=se(arguments);if(typeof B!="function")throw new TypeError("Callback function expected as last argument");return De(A,B)}function De(A,B){return{referTo:{references:A,callback:B}}}function Oe(A){if(typeof A!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:A}}}function Ue(A){return A&&typeof A.referTo=="object"&&Array.isArray(A.referTo.references)&&typeof A.referTo.callback=="function"}function Le(A){return A&&typeof A.referToSelf=="object"&&typeof A.referToSelf.callback=="function"}function pe(A,B){if(!A)return B;if(B&&B!==A){const x=new Error("Function names do not match (expected: "+A+", actual: "+B+")");throw x.data={actual:B,expected:A},x}return A}function qe(A){let B;for(const x in A)Object.prototype.hasOwnProperty.call(A,x)&&(v(A[x])||typeof A[x].signature=="string")&&(B=pe(B,A[x].name));return B}function it(A,B){let x;for(x in B)if(Object.prototype.hasOwnProperty.call(B,x)){if(x in A&&B[x]!==A[x]){const z=new Error('Signature "'+x+'" is defined twice');throw z.data={signature:x,sourceFunction:B[x],destFunction:A[x]},z}A[x]=B[x]}}const q=a;a=function(A){const B=typeof A=="string",x=B?1:0;let z=B?A:"";const R={};for(let L=x;L<arguments.length;++L){const J=arguments[L];let U={},G;if(typeof J=="function"?(G=J.name,typeof J.signature=="string"?U[J.signature]=J:v(J)&&(U=J.signatures)):e(J)&&(U=J,B||(G=qe(J))),Object.keys(U).length===0){const H=new TypeError("Argument to 'typed' at index "+L+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw H.data={index:L,argument:J},H}B||(z=pe(z,G)),it(R,U)}return ce(z||"",R)},a.create=Pu,a.createCount=q.createCount,a.onMismatch=ue,a.throwMismatchError=ue,a.createError=I,a.clear=c,a.clearConversions=o,a.addTypes=l,a._findType=f,a.referTo=fe,a.referToSelf=Oe,a.convert=h,a.findSignature=d,a.find=p,a.isTypedFunction=v,a.warnAgainstDeprecatedThis=!0,a.addType=function(A,B){let x="any";B!==!1&&n.has("Object")&&(x="Object"),a.addTypes([A],x)};function ge(A){if(!A||typeof A.from!="string"||typeof A.to!="string"||typeof A.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(A.to===A.from)throw new SyntaxError('Illegal to define conversion from "'+A.from+'" to itself.')}return a.addConversion=function(A){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};ge(A);const x=f(A.to),z=x.conversionsTo.find(R=>R.from===A.from);if(z)if(B&&B.override)a.removeConversion({from:z.from,to:A.to,convert:z.convert});else throw new Error('There is already a conversion from "'+A.from+'" to "'+x.name+'"');x.conversionsTo.push({from:A.from,convert:A.convert,index:u++})},a.addConversions=function(A,B){A.forEach(x=>a.addConversion(x,B))},a.removeConversion=function(A){ge(A);const B=f(A.to),x=Ee(B.conversionsTo,R=>R.from===A.from);if(!x)throw new Error("Attempt to remove nonexistent conversion from "+A.from+" to "+A.to);if(x.convert!==A.convert)throw new Error("Conversion to remove does not match existing conversion");const z=B.conversionsTo.indexOf(x);B.conversionsTo.splice(z,1)},a.resolve=function(A,B){if(!v(A))throw new TypeError(li);const x=A._typedFunctionData.signatures;for(let z=0;z<x.length;++z)if(x[z].test(B))return x[z];return null},a}const Ur=Pu();function Q(e,t,r,n){function i(u){var a=ll(u,t.map(Dl));return dl(e,t,u),r(a)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),n&&(i.meta=n),i}function dl(e,t,r){var n=t.filter(u=>!pl(u)).every(u=>r[u]!==void 0);if(!n){var i=t.filter(u=>r[u]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function pl(e){return e&&e[0]==="?"}function Dl(e){return e&&e[0]==="?"?e.slice(1):e}function Be(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function gl(e,t){if(t.number==="bigint")try{BigInt(e)}catch{return t.numberFallback}return t.number}function pn(e,t,r){var n={2:"0b",8:"0o",16:"0x"},i=n[t],u="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Be(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Be(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),u="i".concat(r)}var a="";return e<0&&(e=-e,a="-"),"".concat(a).concat(i).concat(e.toString(t)).concat(u)}function bn(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:i}=Ou(t);switch(r){case"fixed":return wl(e,n);case"exponential":return $u(e,n);case"engineering":return ml(e,n);case"bin":return pn(e,2,i);case"oct":return pn(e,8,i);case"hex":return pn(e,16,i);case"auto":return yl(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],a=arguments[4];return u!=="."?u+a:a});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ou(e){var t="auto",r,n;if(e!==void 0)if(Se(e))r=e;else if(Pe(e))r=e.toNumber();else if(Un(e))e.precision!==void 0&&(r=hi(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=hi(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:n}}function nn(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),u=n.indexOf(".");i+=u!==-1?u-1:n.length-1;var a=n.replace(".","").replace(/^0*/,function(f){return i-=f.length,""}).replace(/0*$/,"").split("").map(function(f){return parseInt(f)});return a.length===0&&(a.push(0),i++),{sign:r,coefficients:a,exponent:i}}function ml(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=nn(e),n=un(r,t),i=n.exponent,u=n.coefficients,a=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Se(t))for(;t>u.length||i-a+1>u.length;)u.push(0);else for(var f=Math.abs(i-a)-(u.length-1),l=0;l<f;l++)u.push(0);for(var c=Math.abs(i-a),o=1;c>0;)o++,c--;var s=u.slice(o).join(""),v=Se(t)&&s.length||s.match(/[1-9]/)?"."+s:"",d=u.slice(0,o).join("")+v+"e"+(i>=0?"+":"")+a.toString();return n.sign+d}function wl(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=nn(e),n=typeof t=="number"?un(r,r.exponent+1+t):r,i=n.coefficients,u=n.exponent+1,a=u+(t||0);return i.length<a&&(i=i.concat(Wt(a-i.length))),u<0&&(i=Wt(-u+1).concat(i),u=1),u<i.length&&i.splice(u,0,u===0?"0.":"."),n.sign+i.join("")}function $u(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=nn(e),n=t?un(r,t):r,i=n.coefficients,u=n.exponent;i.length<t&&(i=i.concat(Wt(t-i.length)));var a=i.shift();return n.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(u>=0?"+":"")+u}function yl(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=vi(r==null?void 0:r.lowerExp,-3),i=vi(r==null?void 0:r.upperExp,5),u=nn(e),a=t?un(u,t):u;if(a.exponent<n||a.exponent>=i)return $u(e,t);var f=a.coefficients,l=a.exponent;f.length<t&&(f=f.concat(Wt(t-f.length))),f=f.concat(Wt(l-f.length+1+(f.length<t?t-f.length:0))),f=Wt(-l).concat(f);var c=l>0?l:0;return c<f.length-1&&f.splice(c+1,0,"."),a.sign+f.join("")}function un(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var i=n.splice(t,n.length-t);if(i[0]>=5){var u=t-1;for(n[u]++;n[u]===10;)n.pop(),u===0&&(n.unshift(0),r.exponent++,u++),u--,n[u]++}}return r}function Wt(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function _l(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Bt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!isFinite(e)||!isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n)}function hi(e,t){if(Se(e))return e;if(Pe(e))return e.toNumber();t()}function vi(e,t){return Se(e)?e:Pe(e)?e.toNumber():t}var qu=function(){return qu=Ur.create,Ur},Fl=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Al=Q("typed",Fl,function(t){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:u}=t,a=qu();return a.clear(),a.addTypes([{name:"number",test:Se},{name:"Complex",test:xu},{name:"BigNumber",test:Pe},{name:"bigint",test:Pc},{name:"Fraction",test:Nu},{name:"Unit",test:Tu},{name:"identifier",test:f=>Dt&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(f)},{name:"string",test:Dt},{name:"Chain",test:sl},{name:"Array",test:Ie},{name:"Matrix",test:Ne},{name:"DenseMatrix",test:zu},{name:"SparseMatrix",test:Iu},{name:"Range",test:Oc},{name:"Index",test:Rn},{name:"boolean",test:$c},{name:"ResultSet",test:qc},{name:"Help",test:Rc},{name:"function",test:Uc},{name:"Date",test:Lc},{name:"RegExp",test:Vc},{name:"null",test:Hc},{name:"undefined",test:Xc},{name:"AccessorNode",test:Yc},{name:"ArrayNode",test:Gc},{name:"AssignmentNode",test:Jc},{name:"BlockNode",test:Wc},{name:"ConditionalNode",test:Kc},{name:"ConstantNode",test:Qc},{name:"FunctionNode",test:jc},{name:"FunctionAssignmentNode",test:kc},{name:"IndexNode",test:el},{name:"Node",test:tl},{name:"ObjectNode",test:rl},{name:"OperatorNode",test:nl},{name:"ParenthesisNode",test:il},{name:"RangeNode",test:ul},{name:"RelationalNode",test:al},{name:"SymbolNode",test:ol},{name:"Map",test:Zc},{name:"Object",test:Un}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(r||Er(l),_l(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new r(l)}},{from:"number",to:"Complex",convert:function(l){return n||Cr(l),new n(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return n||Cr(l),new n(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return r||Er(l),new r(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return u||Sr(l),new u(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return n||Cr(l),new n(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){u||Sr(l);var c=new u(l);if(c.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(l){var c=Number(l);if(isNaN(c))throw new Error('Cannot convert "'+l+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(l){r||Er(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){u||Sr(l);try{return new u(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){n||Cr(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return r||Er(l),new r(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return u||Sr(l),new u(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||bl(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),a.onMismatch=(f,l,c)=>{var o=a.createError(f,l,c);if(["wrongType","mismatch"].includes(o.data.category)&&l.length===1&&hr(l[0])&&c.some(v=>!v.params.includes(","))){var s=new TypeError("Function '".concat(f,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(f,")'."));throw s.data=o.data,s}throw o},a.onMismatch=(f,l,c)=>{var o=a.createError(f,l,c);if(["wrongType","mismatch"].includes(o.data.category)&&l.length===1&&hr(l[0])&&c.some(v=>!v.params.includes(","))){var s=new TypeError("Function '".concat(f,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(f,")'."));throw s.data=o.data,s}throw o},a});function Er(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Cr(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function bl(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Sr(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var En=9e15,Pt=1e9,Cn="0123456789abcdef",Lr="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Vr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Sn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:En,crypto:!1},Ru,Ct,oe=!0,an="[DecimalError] ",It=an+"Invalid argument: ",Uu=an+"Precision limit exceeded",Lu=an+"crypto unavailable",Vu="[object Decimal]",We=Math.floor,Re=Math.pow,El=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Cl=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Sl=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Zu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lt=1e7,ie=7,Bl=9007199254740991,Ml=Lr.length-1,Bn=Vr.length-1,Z={toStringTag:Vu};Z.absoluteValue=Z.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),te(e)};Z.ceil=function(){return te(new this.constructor(this),this.e+1,2)};Z.clampedTo=Z.clamp=function(e,t){var r,n=this,i=n.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(It+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new i(n)};Z.comparedTo=Z.cmp=function(e){var t,r,n,i,u=this,a=u.d,f=(e=new u.constructor(e)).d,l=u.s,c=e.s;if(!a||!f)return!l||!c?NaN:l!==c?l:a===f?0:!a^l<0?1:-1;if(!a[0]||!f[0])return a[0]?l:f[0]?-c:0;if(l!==c)return l;if(u.e!==e.e)return u.e>e.e^l<0?1:-1;for(n=a.length,i=f.length,t=0,r=n<i?n:i;t<r;++t)if(a[t]!==f[t])return a[t]>f[t]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1};Z.cosine=Z.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+ie,n.rounding=1,r=xl(n,Ju(n,r)),n.precision=e,n.rounding=t,te(Ct==2||Ct==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};Z.cubeRoot=Z.cbrt=function(){var e,t,r,n,i,u,a,f,l,c,o=this,s=o.constructor;if(!o.isFinite()||o.isZero())return new s(o);for(oe=!1,u=o.s*Re(o.s*o,1/3),!u||Math.abs(u)==1/0?(r=Ge(o.d),e=o.e,(u=(e-r.length+1)%3)&&(r+=u==1||u==-2?"0":"00"),u=Re(r,1/3),e=We((e+1)/3)-(e%3==(e<0?-1:2)),u==1/0?r="5e"+e:(r=u.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new s(r),n.s=o.s):n=new s(u.toString()),a=(e=s.precision)+3;;)if(f=n,l=f.times(f).times(f),c=l.plus(o),n=be(c.plus(o).times(f),c.plus(l),a+2,1),Ge(f.d).slice(0,a)===(r=Ge(n.d)).slice(0,a))if(r=r.slice(a-3,a+1),r=="9999"||!i&&r=="4999"){if(!i&&(te(f,e+1,0),f.times(f).times(f).eq(o))){n=f;break}a+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(te(n,e+1,1),t=!n.times(n).times(n).eq(o));break}return oe=!0,te(n,e,s.rounding,t)};Z.decimalPlaces=Z.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-We(this.e/ie))*ie,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};Z.dividedBy=Z.div=function(e){return be(this,new this.constructor(e))};Z.dividedToIntegerBy=Z.divToInt=function(e){var t=this,r=t.constructor;return te(be(t,new r(e),0,1,1),r.precision,r.rounding)};Z.equals=Z.eq=function(e){return this.cmp(e)===0};Z.floor=function(){return te(new this.constructor(this),this.e+1,3)};Z.greaterThan=Z.gt=function(e){return this.cmp(e)>0};Z.greaterThanOrEqualTo=Z.gte=function(e){var t=this.cmp(e);return t==1||t===0};Z.hyperbolicCosine=Z.cosh=function(){var e,t,r,n,i,u=this,a=u.constructor,f=new a(1);if(!u.isFinite())return new a(u.s?1/0:NaN);if(u.isZero())return f;r=a.precision,n=a.rounding,a.precision=r+Math.max(u.e,u.sd())+4,a.rounding=1,i=u.d.length,i<32?(e=Math.ceil(i/3),t=(1/sn(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),u=kt(a,1,u.times(t),new a(1),!0);for(var l,c=e,o=new a(8);c--;)l=u.times(u),u=f.minus(l.times(o.minus(l.times(o))));return te(u,a.precision=r,a.rounding=n,!0)};Z.hyperbolicSine=Z.sinh=function(){var e,t,r,n,i=this,u=i.constructor;if(!i.isFinite()||i.isZero())return new u(i);if(t=u.precision,r=u.rounding,u.precision=t+Math.max(i.e,i.sd())+4,u.rounding=1,n=i.d.length,n<3)i=kt(u,2,i,i,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,i=i.times(1/sn(5,e)),i=kt(u,2,i,i,!0);for(var a,f=new u(5),l=new u(16),c=new u(20);e--;)a=i.times(i),i=i.times(f.plus(a.times(l.times(a).plus(c))))}return u.precision=t,u.rounding=r,te(i,t,r,!0)};Z.hyperbolicTangent=Z.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,be(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};Z.inverseCosine=Z.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return r!==-1?r===0?e.isNeg()?gt(t,n,i):new t(0):new t(NaN):e.isZero()?gt(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))};Z.inverseHyperbolicCosine=Z.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,oe=!1,r=r.times(r).minus(1).sqrt().plus(r),oe=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};Z.inverseHyperbolicSine=Z.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,oe=!1,r=r.times(r).plus(1).sqrt().plus(r),oe=!0,n.precision=e,n.rounding=t,r.ln())};Z.inverseHyperbolicTangent=Z.atanh=function(){var e,t,r,n,i=this,u=i.constructor;return i.isFinite()?i.e>=0?new u(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=u.precision,t=u.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?te(new u(i),e,t,!0):(u.precision=r=n-i.e,i=be(i.plus(1),new u(1).minus(i),r+e,1),u.precision=e+4,u.rounding=1,i=i.ln(),u.precision=e,u.rounding=t,i.times(.5))):new u(NaN)};Z.inverseSine=Z.asin=function(){var e,t,r,n,i=this,u=i.constructor;return i.isZero()?new u(i):(t=i.abs().cmp(1),r=u.precision,n=u.rounding,t!==-1?t===0?(e=gt(u,r+4,n).times(.5),e.s=i.s,e):new u(NaN):(u.precision=r+6,u.rounding=1,i=i.div(new u(1).minus(i.times(i)).sqrt().plus(1)).atan(),u.precision=r,u.rounding=n,i.times(2)))};Z.inverseTangent=Z.atan=function(){var e,t,r,n,i,u,a,f,l,c=this,o=c.constructor,s=o.precision,v=o.rounding;if(c.isFinite()){if(c.isZero())return new o(c);if(c.abs().eq(1)&&s+4<=Bn)return a=gt(o,s+4,v).times(.25),a.s=c.s,a}else{if(!c.s)return new o(NaN);if(s+4<=Bn)return a=gt(o,s+4,v).times(.5),a.s=c.s,a}for(o.precision=f=s+10,o.rounding=1,r=Math.min(28,f/ie+2|0),e=r;e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(oe=!1,t=Math.ceil(f/ie),n=1,l=c.times(c),a=new o(c),i=c;e!==-1;)if(i=i.times(l),u=a.minus(i.div(n+=2)),i=i.times(l),a=u.plus(i.div(n+=2)),a.d[t]!==void 0)for(e=t;a.d[e]===u.d[e]&&e--;);return r&&(a=a.times(2<<r-1)),oe=!0,te(a,o.precision=s,o.rounding=v,!0)};Z.isFinite=function(){return!!this.d};Z.isInteger=Z.isInt=function(){return!!this.d&&We(this.e/ie)>this.d.length-2};Z.isNaN=function(){return!this.s};Z.isNegative=Z.isNeg=function(){return this.s<0};Z.isPositive=Z.isPos=function(){return this.s>0};Z.isZero=function(){return!!this.d&&this.d[0]===0};Z.lessThan=Z.lt=function(e){return this.cmp(e)<0};Z.lessThanOrEqualTo=Z.lte=function(e){return this.cmp(e)<1};Z.logarithm=Z.log=function(e){var t,r,n,i,u,a,f,l,c=this,o=c.constructor,s=o.precision,v=o.rounding,d=5;if(e==null)e=new o(10),t=!0;else{if(e=new o(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new o(NaN);t=e.eq(10)}if(r=c.d,c.s<0||!r||!r[0]||c.eq(1))return new o(r&&!r[0]?-1/0:c.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)u=!0;else{for(i=r[0];i%10===0;)i/=10;u=i!==1}if(oe=!1,f=s+d,a=Tt(c,f),n=t?Zr(o,f+10):Tt(e,f),l=be(a,n,f,1),dr(l.d,i=s,v))do if(f+=10,a=Tt(c,f),n=t?Zr(o,f+10):Tt(e,f),l=be(a,n,f,1),!u){+Ge(l.d).slice(i+1,i+15)+1==1e14&&(l=te(l,s+1,0));break}while(dr(l.d,i+=10,v));return oe=!0,te(l,s,v)};Z.minus=Z.sub=function(e){var t,r,n,i,u,a,f,l,c,o,s,v,d=this,p=d.constructor;if(e=new p(e),!d.d||!e.d)return!d.s||!e.s?e=new p(NaN):d.d?e.s=-e.s:e=new p(e.d||d.s!==e.s?d:NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(c=d.d,v=e.d,f=p.precision,l=p.rounding,!c[0]||!v[0]){if(v[0])e.s=-e.s;else if(c[0])e=new p(d);else return new p(l===3?-0:0);return oe?te(e,f,l):e}if(r=We(e.e/ie),o=We(d.e/ie),c=c.slice(),u=o-r,u){for(s=u<0,s?(t=c,u=-u,a=v.length):(t=v,r=o,a=c.length),n=Math.max(Math.ceil(f/ie),a)+2,u>n&&(u=n,t.length=1),t.reverse(),n=u;n--;)t.push(0);t.reverse()}else{for(n=c.length,a=v.length,s=n<a,s&&(a=n),n=0;n<a;n++)if(c[n]!=v[n]){s=c[n]<v[n];break}u=0}for(s&&(t=c,c=v,v=t,e.s=-e.s),a=c.length,n=v.length-a;n>0;--n)c[a++]=0;for(n=v.length;n>u;){if(c[--n]<v[n]){for(i=n;i&&c[--i]===0;)c[i]=lt-1;--c[i],c[n]+=lt}c[n]-=v[n]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=on(c,r),oe?te(e,f,l):e):new p(l===3?-0:0)};Z.modulo=Z.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?te(new n(r),n.precision,n.rounding):(oe=!1,n.modulo==9?(t=be(r,e.abs(),0,3,1),t.s*=e.s):t=be(r,e,0,n.modulo,1),t=t.times(e),oe=!0,r.minus(t))};Z.naturalExponential=Z.exp=function(){return Mn(this)};Z.naturalLogarithm=Z.ln=function(){return Tt(this)};Z.negated=Z.neg=function(){var e=new this.constructor(this);return e.s=-e.s,te(e)};Z.plus=Z.add=function(e){var t,r,n,i,u,a,f,l,c,o,s=this,v=s.constructor;if(e=new v(e),!s.d||!e.d)return!s.s||!e.s?e=new v(NaN):s.d||(e=new v(e.d||s.s===e.s?s:NaN)),e;if(s.s!=e.s)return e.s=-e.s,s.minus(e);if(c=s.d,o=e.d,f=v.precision,l=v.rounding,!c[0]||!o[0])return o[0]||(e=new v(s)),oe?te(e,f,l):e;if(u=We(s.e/ie),n=We(e.e/ie),c=c.slice(),i=u-n,i){for(i<0?(r=c,i=-i,a=o.length):(r=o,n=u,a=c.length),u=Math.ceil(f/ie),a=u>a?u+1:a+1,i>a&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(a=c.length,i=o.length,a-i<0&&(i=a,r=o,o=c,c=r),t=0;i;)t=(c[--i]=c[i]+o[i]+t)/lt|0,c[i]%=lt;for(t&&(c.unshift(t),++n),a=c.length;c[--a]==0;)c.pop();return e.d=c,e.e=on(c,n),oe?te(e,f,l):e};Z.precision=Z.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(It+e);return r.d?(t=Hu(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};Z.round=function(){var e=this,t=e.constructor;return te(new t(e),e.e+1,t.rounding)};Z.sine=Z.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+ie,n.rounding=1,r=Tl(n,Ju(n,r)),n.precision=e,n.rounding=t,te(Ct>2?r.neg():r,e,t,!0)):new n(NaN)};Z.squareRoot=Z.sqrt=function(){var e,t,r,n,i,u,a=this,f=a.d,l=a.e,c=a.s,o=a.constructor;if(c!==1||!f||!f[0])return new o(!c||c<0&&(!f||f[0])?NaN:f?a:1/0);for(oe=!1,c=Math.sqrt(+a),c==0||c==1/0?(t=Ge(f),(t.length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=We((l+1)/2)-(l<0||l%2),c==1/0?t="5e"+l:(t=c.toExponential(),t=t.slice(0,t.indexOf("e")+1)+l),n=new o(t)):n=new o(c.toString()),r=(l=o.precision)+3;;)if(u=n,n=u.plus(be(a,u,r+2,1)).times(.5),Ge(u.d).slice(0,r)===(t=Ge(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!i&&t=="4999"){if(!i&&(te(u,l+1,0),u.times(u).eq(a))){n=u;break}r+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(te(n,l+1,1),e=!n.times(n).eq(a));break}return oe=!0,te(n,l,o.rounding,e)};Z.tangent=Z.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=be(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,te(Ct==2||Ct==4?r.neg():r,e,t,!0)):new n(NaN)};Z.times=Z.mul=function(e){var t,r,n,i,u,a,f,l,c,o=this,s=o.constructor,v=o.d,d=(e=new s(e)).d;if(e.s*=o.s,!v||!v[0]||!d||!d[0])return new s(!e.s||v&&!v[0]&&!d||d&&!d[0]&&!v?NaN:!v||!d?e.s/0:e.s*0);for(r=We(o.e/ie)+We(e.e/ie),l=v.length,c=d.length,l<c&&(u=v,v=d,d=u,a=l,l=c,c=a),u=[],a=l+c,n=a;n--;)u.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)f=u[i]+d[n]*v[i-n-1]+t,u[i--]=f%lt|0,t=f/lt|0;u[i]=(u[i]+t)%lt|0}for(;!u[--a];)u.pop();return t?++r:u.shift(),e.d=u,e.e=on(u,r),oe?te(e,s.precision,s.rounding):e};Z.toBinary=function(e,t){return Ln(this,2,e,t)};Z.toDecimalPlaces=Z.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(tt(e,0,Pt),t===void 0?t=n.rounding:tt(t,0,8),te(r,e+r.e+1,t))};Z.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=wt(n,!0):(tt(e,0,Pt),t===void 0?t=i.rounding:tt(t,0,8),n=te(new i(n),e+1,t),r=wt(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};Z.toFixed=function(e,t){var r,n,i=this,u=i.constructor;return e===void 0?r=wt(i):(tt(e,0,Pt),t===void 0?t=u.rounding:tt(t,0,8),n=te(new u(i),e+i.e+1,t),r=wt(n,!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};Z.toFraction=function(e){var t,r,n,i,u,a,f,l,c,o,s,v,d=this,p=d.d,h=d.constructor;if(!p)return new h(d);if(c=r=new h(1),n=l=new h(0),t=new h(n),u=t.e=Hu(p)-d.e-1,a=u%ie,t.d[0]=Re(10,a<0?ie+a:a),e==null)e=u>0?t:c;else{if(f=new h(e),!f.isInt()||f.lt(c))throw Error(It+f);e=f.gt(t)?u>0?t:c:f}for(oe=!1,f=new h(Ge(p)),o=h.precision,h.precision=u=p.length*ie*2;s=be(f,t,0,1,1),i=r.plus(s.times(n)),i.cmp(e)!=1;)r=n,n=i,i=c,c=l.plus(s.times(i)),l=i,i=t,t=f.minus(s.times(i)),f=i;return i=be(e.minus(r),n,0,1,1),l=l.plus(i.times(c)),r=r.plus(i.times(n)),l.s=c.s=d.s,v=be(c,n,u,1).minus(d).abs().cmp(be(l,r,u,1).minus(d).abs())<1?[c,n]:[l,r],h.precision=o,oe=!0,v};Z.toHexadecimal=Z.toHex=function(e,t){return Ln(this,16,e,t)};Z.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:tt(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(oe=!1,r=be(r,e,0,t,1).times(e),oe=!0,te(r)):(e.s=r.s,r=e),r};Z.toNumber=function(){return+this};Z.toOctal=function(e,t){return Ln(this,8,e,t)};Z.toPower=Z.pow=function(e){var t,r,n,i,u,a,f=this,l=f.constructor,c=+(e=new l(e));if(!f.d||!e.d||!f.d[0]||!e.d[0])return new l(Re(+f,c));if(f=new l(f),f.eq(1))return f;if(n=l.precision,u=l.rounding,e.eq(1))return te(f,n,u);if(t=We(e.e/ie),t>=e.d.length-1&&(r=c<0?-c:c)<=Bl)return i=Xu(l,f,r,n),e.s<0?new l(1).div(i):te(i,n,u);if(a=f.s,a<0){if(t<e.d.length-1)return new l(NaN);if((e.d[t]&1)==0&&(a=1),f.e==0&&f.d[0]==1&&f.d.length==1)return f.s=a,f}return r=Re(+f,c),t=r==0||!isFinite(r)?We(c*(Math.log("0."+Ge(f.d))/Math.LN10+f.e+1)):new l(r+"").e,t>l.maxE+1||t<l.minE-1?new l(t>0?a/0:0):(oe=!1,l.rounding=f.s=1,r=Math.min(12,(t+"").length),i=Mn(e.times(Tt(f,n+r)),n),i.d&&(i=te(i,n+5,1),dr(i.d,n,u)&&(t=n+10,i=te(Mn(e.times(Tt(f,t+r)),t),t+5,1),+Ge(i.d).slice(n+1,n+15)+1==1e14&&(i=te(i,n+1,0)))),i.s=a,oe=!0,l.rounding=u,te(i,n,u))};Z.toPrecision=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=wt(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(tt(e,1,Pt),t===void 0?t=i.rounding:tt(t,0,8),n=te(new i(n),e,t),r=wt(n,e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};Z.toSignificantDigits=Z.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(tt(e,1,Pt),t===void 0?t=n.rounding:tt(t,0,8)),te(new n(r),e,t)};Z.toString=function(){var e=this,t=e.constructor,r=wt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};Z.truncated=Z.trunc=function(){return te(new this.constructor(this),this.e+1,1)};Z.valueOf=Z.toJSON=function(){var e=this,t=e.constructor,r=wt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Ge(e){var t,r,n,i=e.length-1,u="",a=e[0];if(i>0){for(u+=a,t=1;t<i;t++)n=e[t]+"",r=ie-n.length,r&&(u+=xt(r)),u+=n;a=e[t],n=a+"",r=ie-n.length,r&&(u+=xt(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return u+a}function tt(e,t,r){if(e!==~~e||e<t||e>r)throw Error(It+e)}function dr(e,t,r,n){var i,u,a,f;for(u=e[0];u>=10;u/=10)--t;return--t<0?(t+=ie,i=0):(i=Math.ceil((t+1)/ie),t%=ie),u=Re(10,ie-t),f=e[i]%u|0,n==null?t<3?(t==0?f=f/100|0:t==1&&(f=f/10|0),a=r<4&&f==99999||r>3&&f==49999||f==5e4||f==0):a=(r<4&&f+1==u||r>3&&f+1==u/2)&&(e[i+1]/u/100|0)==Re(10,t-2)-1||(f==u/2||f==0)&&(e[i+1]/u/100|0)==0:t<4?(t==0?f=f/1e3|0:t==1?f=f/100|0:t==2&&(f=f/10|0),a=(n||r<4)&&f==9999||!n&&r>3&&f==4999):a=((n||r<4)&&f+1==u||!n&&r>3&&f+1==u/2)&&(e[i+1]/u/1e3|0)==Re(10,t-3)-1,a}function Tr(e,t,r){for(var n,i=[0],u,a=0,f=e.length;a<f;){for(u=i.length;u--;)i[u]*=t;for(i[0]+=Cn.indexOf(e.charAt(a++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function xl(e,t){var r,n,i;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),i=(1/sn(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=kt(e,1,t.times(i),new e(1));for(var u=r;u--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=r,t}var be=function(){function e(n,i,u){var a,f=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+f,n[l]=a%u|0,f=a/u|0;return f&&n.unshift(f),n}function t(n,i,u,a){var f,l;if(u!=a)l=u>a?1:-1;else for(f=l=0;f<u;f++)if(n[f]!=i[f]){l=n[f]>i[f]?1:-1;break}return l}function r(n,i,u,a){for(var f=0;u--;)n[u]-=f,f=n[u]<i[u]?1:0,n[u]=f*a+n[u]-i[u];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,u,a,f,l){var c,o,s,v,d,p,h,D,m,_,w,F,y,g,C,E,b,S,M,I,V=n.constructor,P=n.s==i.s?1:-1,O=n.d,N=i.d;if(!O||!O[0]||!N||!N[0])return new V(!n.s||!i.s||(O?N&&O[0]==N[0]:!N)?NaN:O&&O[0]==0||!N?P*0:P/0);for(l?(d=1,o=n.e-i.e):(l=lt,d=ie,o=We(n.e/d)-We(i.e/d)),M=N.length,b=O.length,m=new V(P),_=m.d=[],s=0;N[s]==(O[s]||0);s++);if(N[s]>(O[s]||0)&&o--,u==null?(g=u=V.precision,a=V.rounding):f?g=u+(n.e-i.e)+1:g=u,g<0)_.push(1),p=!0;else{if(g=g/d+2|0,s=0,M==1){for(v=0,N=N[0],g++;(s<b||v)&&g--;s++)C=v*l+(O[s]||0),_[s]=C/N|0,v=C%N|0;p=v||s<b}else{for(v=l/(N[0]+1)|0,v>1&&(N=e(N,v,l),O=e(O,v,l),M=N.length,b=O.length),E=M,w=O.slice(0,M),F=w.length;F<M;)w[F++]=0;I=N.slice(),I.unshift(0),S=N[0],N[1]>=l/2&&++S;do v=0,c=t(N,w,M,F),c<0?(y=w[0],M!=F&&(y=y*l+(w[1]||0)),v=y/S|0,v>1?(v>=l&&(v=l-1),h=e(N,v,l),D=h.length,F=w.length,c=t(h,w,D,F),c==1&&(v--,r(h,M<D?I:N,D,l))):(v==0&&(c=v=1),h=N.slice()),D=h.length,D<F&&h.unshift(0),r(w,h,F,l),c==-1&&(F=w.length,c=t(N,w,M,F),c<1&&(v++,r(w,M<F?I:N,F,l))),F=w.length):c===0&&(v++,w=[0]),_[s++]=v,c&&w[0]?w[F++]=O[E]||0:(w=[O[E]],F=1);while((E++<b||w[0]!==void 0)&&g--);p=w[0]!==void 0}_[0]||_.shift()}if(d==1)m.e=o,Ru=p;else{for(s=1,v=_[0];v>=10;v/=10)s++;m.e=s+o*d-1,te(m,f?u+m.e+1:u,a,p)}return m}}();function te(e,t,r,n){var i,u,a,f,l,c,o,s,v,d=e.constructor;e:if(t!=null){if(s=e.d,!s)return e;for(i=1,f=s[0];f>=10;f/=10)i++;if(u=t-i,u<0)u+=ie,a=t,o=s[v=0],l=o/Re(10,i-a-1)%10|0;else if(v=Math.ceil((u+1)/ie),f=s.length,v>=f)if(n){for(;f++<=v;)s.push(0);o=l=0,i=1,u%=ie,a=u-ie+1}else break e;else{for(o=f=s[v],i=1;f>=10;f/=10)i++;u%=ie,a=u-ie+i,l=a<0?0:o/Re(10,i-a-1)%10|0}if(n=n||t<0||s[v+1]!==void 0||(a<0?o:o%Re(10,i-a-1)),c=r<4?(l||n)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||n||r==6&&(u>0?a>0?o/Re(10,i-a):0:s[v-1])%10&1||r==(e.s<0?8:7)),t<1||!s[0])return s.length=0,c?(t-=e.e+1,s[0]=Re(10,(ie-t%ie)%ie),e.e=-t||0):s[0]=e.e=0,e;if(u==0?(s.length=v,f=1,v--):(s.length=v+1,f=Re(10,ie-u),s[v]=a>0?(o/Re(10,i-a)%Re(10,a)|0)*f:0),c)for(;;)if(v==0){for(u=1,a=s[0];a>=10;a/=10)u++;for(a=s[0]+=f,f=1;a>=10;a/=10)f++;u!=f&&(e.e++,s[0]==lt&&(s[0]=1));break}else{if(s[v]+=f,s[v]!=lt)break;s[v--]=0,f=1}for(u=s.length;s[--u]===0;)s.pop()}return oe&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function wt(e,t,r){if(!e.isFinite())return Gu(e);var n,i=e.e,u=Ge(e.d),a=u.length;return t?(r&&(n=r-a)>0?u=u.charAt(0)+"."+u.slice(1)+xt(n):a>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):i<0?(u="0."+xt(-i-1)+u,r&&(n=r-a)>0&&(u+=xt(n))):i>=a?(u+=xt(i+1-a),r&&(n=r-i-1)>0&&(u=u+"."+xt(n))):((n=i+1)<a&&(u=u.slice(0,n)+"."+u.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(u+="."),u+=xt(n))),u}function on(e,t){var r=e[0];for(t*=ie;r>=10;r/=10)t++;return t}function Zr(e,t,r){if(t>Ml)throw oe=!0,r&&(e.precision=r),Error(Uu);return te(new e(Lr),t,1,!0)}function gt(e,t,r){if(t>Bn)throw Error(Uu);return te(new e(Vr),t,r,!0)}function Hu(e){var t=e.length-1,r=t*ie+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function xt(e){for(var t="";e--;)t+="0";return t}function Xu(e,t,r,n){var i,u=new e(1),a=Math.ceil(n/ie+4);for(oe=!1;;){if(r%2&&(u=u.times(t),pi(u.d,a)&&(i=!0)),r=We(r/2),r===0){r=u.d.length-1,i&&u.d[r]===0&&++u.d[r];break}t=t.times(t),pi(t.d,a)}return oe=!0,u}function di(e){return e.d[e.d.length-1]&1}function Yu(e,t,r){for(var n,i,u=new e(t[0]),a=0;++a<t.length;){if(i=new e(t[a]),!i.s){u=i;break}n=u.cmp(i),(n===r||n===0&&u.s===r)&&(u=i)}return u}function Mn(e,t){var r,n,i,u,a,f,l,c=0,o=0,s=0,v=e.constructor,d=v.rounding,p=v.precision;if(!e.d||!e.d[0]||e.e>17)return new v(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(oe=!1,l=p):l=t,f=new v(.03125);e.e>-2;)e=e.times(f),s+=5;for(n=Math.log(Re(2,s))/Math.LN10*2+5|0,l+=n,r=u=a=new v(1),v.precision=l;;){if(u=te(u.times(e),l,1),r=r.times(++o),f=a.plus(be(u,r,l,1)),Ge(f.d).slice(0,l)===Ge(a.d).slice(0,l)){for(i=s;i--;)a=te(a.times(a),l,1);if(t==null)if(c<3&&dr(a.d,l-n,d,c))v.precision=l+=10,r=u=f=new v(1),o=0,c++;else return te(a,v.precision=p,d,oe=!0);else return v.precision=p,a}a=f}}function Tt(e,t){var r,n,i,u,a,f,l,c,o,s,v,d=1,p=10,h=e,D=h.d,m=h.constructor,_=m.rounding,w=m.precision;if(h.s<0||!D||!D[0]||!h.e&&D[0]==1&&D.length==1)return new m(D&&!D[0]?-1/0:h.s!=1?NaN:D?0:h);if(t==null?(oe=!1,o=w):o=t,m.precision=o+=p,r=Ge(D),n=r.charAt(0),Math.abs(u=h.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Ge(h.d),n=r.charAt(0),d++;u=h.e,n>1?(h=new m("0."+r),u++):h=new m(n+"."+r.slice(1))}else return c=Zr(m,o+2,w).times(u+""),h=Tt(new m(n+"."+r.slice(1)),o-p).plus(c),m.precision=w,t==null?te(h,w,_,oe=!0):h;for(s=h,l=a=h=be(h.minus(1),h.plus(1),o,1),v=te(h.times(h),o,1),i=3;;){if(a=te(a.times(v),o,1),c=l.plus(be(a,new m(i),o,1)),Ge(c.d).slice(0,o)===Ge(l.d).slice(0,o))if(l=l.times(2),u!==0&&(l=l.plus(Zr(m,o+2,w).times(u+""))),l=be(l,new m(d),o,1),t==null)if(dr(l.d,o-p,_,f))m.precision=o+=p,c=a=h=be(s.minus(1),s.plus(1),o,1),v=te(h.times(h),o,1),i=f=1;else return te(l,m.precision=w,_,oe=!0);else return m.precision=w,l;l=c,i+=2}}function Gu(e){return String(e.s*e.s/0)}function zr(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(n,i),t){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%ie,r<0&&(n+=ie),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ie;n<i;)e.d.push(+t.slice(n,n+=ie));t=t.slice(n),n=ie-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),oe&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Nl(e,t){var r,n,i,u,a,f,l,c,o;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Zu.test(t))return zr(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Cl.test(t))r=16,t=t.toLowerCase();else if(El.test(t))r=2;else if(Sl.test(t))r=8;else throw Error(It+t);for(u=t.search(/p/i),u>0?(l=+t.slice(u+1),t=t.substring(2,u)):t=t.slice(2),u=t.indexOf("."),a=u>=0,n=e.constructor,a&&(t=t.replace(".",""),f=t.length,u=f-u,i=Xu(n,new n(r),u,u*2)),c=Tr(t,r,lt),o=c.length-1,u=o;c[u]===0;--u)c.pop();return u<0?new n(e.s*0):(e.e=on(c,o),e.d=c,oe=!1,a&&(e=be(e,i,f*4)),l&&(e=e.times(Math.abs(l)<54?Re(2,l):jt.pow(2,l))),oe=!0,e)}function Tl(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:kt(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/sn(5,r)),t=kt(e,2,t,t);for(var i,u=new e(5),a=new e(16),f=new e(20);r--;)i=t.times(t),t=t.times(u.plus(i.times(a.times(i).minus(f))));return t}function kt(e,t,r,n,i){var u,a,f,l,c=e.precision,o=Math.ceil(c/ie);for(oe=!1,l=r.times(r),f=new e(n);;){if(a=be(f.times(l),new e(t++*t++),c,1),f=i?n.plus(a):n.minus(a),n=be(a.times(l),new e(t++*t++),c,1),a=f.plus(n),a.d[o]!==void 0){for(u=o;a.d[u]===f.d[u]&&u--;);if(u==-1)break}u=f,f=n,n=a,a=u}return oe=!0,a.d.length=o+1,a}function sn(e,t){for(var r=e;--t;)r*=e;return r}function Ju(e,t){var r,n=t.s<0,i=gt(e,e.precision,1),u=i.times(.5);if(t=t.abs(),t.lte(u))return Ct=n?4:1,t;if(r=t.divToInt(i),r.isZero())Ct=n?3:2;else{if(t=t.minus(r.times(i)),t.lte(u))return Ct=di(r)?n?2:3:n?4:1,t;Ct=di(r)?n?1:4:n?3:2}return t.minus(i).abs()}function Ln(e,t,r,n){var i,u,a,f,l,c,o,s,v,d=e.constructor,p=r!==void 0;if(p?(tt(r,1,Pt),n===void 0?n=d.rounding:tt(n,0,8)):(r=d.precision,n=d.rounding),!e.isFinite())o=Gu(e);else{for(o=wt(e),a=o.indexOf("."),p?(i=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):i=t,a>=0&&(o=o.replace(".",""),v=new d(1),v.e=o.length-a,v.d=Tr(wt(v),10,i),v.e=v.d.length),s=Tr(o,10,i),u=l=s.length;s[--l]==0;)s.pop();if(!s[0])o=p?"0p+0":"0";else{if(a<0?u--:(e=new d(e),e.d=s,e.e=u,e=be(e,v,r,n,0,i),s=e.d,u=e.e,c=Ru),a=s[r],f=i/2,c=c||s[r+1]!==void 0,c=n<4?(a!==void 0||c)&&(n===0||n===(e.s<0?3:2)):a>f||a===f&&(n===4||c||n===6&&s[r-1]&1||n===(e.s<0?8:7)),s.length=r,c)for(;++s[--r]>i-1;)s[r]=0,r||(++u,s.unshift(1));for(l=s.length;!s[l-1];--l);for(a=0,o="";a<l;a++)o+=Cn.charAt(s[a]);if(p){if(l>1)if(t==16||t==8){for(a=t==16?4:3,--l;l%a;l++)o+="0";for(s=Tr(o,i,t),l=s.length;!s[l-1];--l);for(a=1,o="1.";a<l;a++)o+=Cn.charAt(s[a])}else o=o.charAt(0)+"."+o.slice(1);o=o+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)o="0"+o;o="0."+o}else if(++u>l)for(u-=l;u--;)o+="0";else u<l&&(o=o.slice(0,u)+"."+o.slice(u))}o=(t==16?"0x":t==2?"0b":t==8?"0o":"")+o}return e.s<0?"-"+o:o}function pi(e,t){if(e.length>t)return e.length=t,!0}function zl(e){return new this(e).abs()}function Il(e){return new this(e).acos()}function Pl(e){return new this(e).acosh()}function Ol(e,t){return new this(e).plus(t)}function $l(e){return new this(e).asin()}function ql(e){return new this(e).asinh()}function Rl(e){return new this(e).atan()}function Ul(e){return new this(e).atanh()}function Ll(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,u=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=gt(this,u,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?gt(this,n,i):new this(0),r.s=e.s):!e.d||t.isZero()?(r=gt(this,u,1).times(.5),r.s=e.s):t.s<0?(this.precision=u,this.rounding=1,r=this.atan(be(e,t,u,1)),t=gt(this,u,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(be(e,t,u,1)),r}function Vl(e){return new this(e).cbrt()}function Zl(e){return te(e=new this(e),e.e+1,2)}function Hl(e,t,r){return new this(e).clamp(t,r)}function Xl(e){if(!e||typeof e!="object")throw Error(an+"Object expected");var t,r,n,i=e.defaults===!0,u=["precision",1,Pt,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,En,"maxE",0,En,"minE",-9e15,0,"modulo",0,9];for(t=0;t<u.length;t+=3)if(r=u[t],i&&(this[r]=Sn[r]),(n=e[r])!==void 0)if(We(n)===n&&n>=u[t+1]&&n<=u[t+2])this[r]=n;else throw Error(It+r+": "+n);if(r="crypto",i&&(this[r]=Sn[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Lu);else this[r]=!1;else throw Error(It+r+": "+n);return this}function Yl(e){return new this(e).cos()}function Gl(e){return new this(e).cosh()}function Wu(e){var t,r,n;function i(u){var a,f,l,c=this;if(!(c instanceof i))return new i(u);if(c.constructor=i,Di(u)){c.s=u.s,oe?!u.d||u.e>i.maxE?(c.e=NaN,c.d=null):u.e<i.minE?(c.e=0,c.d=[0]):(c.e=u.e,c.d=u.d.slice()):(c.e=u.e,c.d=u.d?u.d.slice():u.d);return}if(l=typeof u,l==="number"){if(u===0){c.s=1/u<0?-1:1,c.e=0,c.d=[0];return}if(u<0?(u=-u,c.s=-1):c.s=1,u===~~u&&u<1e7){for(a=0,f=u;f>=10;f/=10)a++;oe?a>i.maxE?(c.e=NaN,c.d=null):a<i.minE?(c.e=0,c.d=[0]):(c.e=a,c.d=[u]):(c.e=a,c.d=[u]);return}if(u*0!==0){u||(c.s=NaN),c.e=NaN,c.d=null;return}return zr(c,u.toString())}if(l==="string")return(f=u.charCodeAt(0))===45?(u=u.slice(1),c.s=-1):(f===43&&(u=u.slice(1)),c.s=1),Zu.test(u)?zr(c,u):Nl(c,u);if(l==="bigint")return u<0?(u=-u,c.s=-1):c.s=1,zr(c,u.toString());throw Error(It+u)}if(i.prototype=Z,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Xl,i.clone=Wu,i.isDecimal=Di,i.abs=zl,i.acos=Il,i.acosh=Pl,i.add=Ol,i.asin=$l,i.asinh=ql,i.atan=Rl,i.atanh=Ul,i.atan2=Ll,i.cbrt=Vl,i.ceil=Zl,i.clamp=Hl,i.cos=Yl,i.cosh=Gl,i.div=Jl,i.exp=Wl,i.floor=Kl,i.hypot=Ql,i.ln=kl,i.log=jl,i.log10=t0,i.log2=e0,i.max=r0,i.min=n0,i.mod=i0,i.mul=u0,i.pow=a0,i.random=o0,i.round=s0,i.sign=f0,i.sin=c0,i.sinh=l0,i.sqrt=h0,i.sub=v0,i.sum=d0,i.tan=p0,i.tanh=D0,i.trunc=g0,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Jl(e,t){return new this(e).div(t)}function Wl(e){return new this(e).exp()}function Kl(e){return te(e=new this(e),e.e+1,3)}function Ql(){var e,t,r=new this(0);for(oe=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return oe=!0,new this(1/0);r=t}return oe=!0,r.sqrt()}function Di(e){return e instanceof jt||e&&e.toStringTag===Vu||!1}function kl(e){return new this(e).ln()}function jl(e,t){return new this(e).log(t)}function e0(e){return new this(e).log(2)}function t0(e){return new this(e).log(10)}function r0(){return Yu(this,arguments,-1)}function n0(){return Yu(this,arguments,1)}function i0(e,t){return new this(e).mod(t)}function u0(e,t){return new this(e).mul(t)}function a0(e,t){return new this(e).pow(t)}function o0(e){var t,r,n,i,u=0,a=new this(1),f=[];if(e===void 0?e=this.precision:tt(e,1,Pt),n=Math.ceil(e/ie),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));u<n;)i=t[u],i>=429e7?t[u]=crypto.getRandomValues(new Uint32Array(1))[0]:f[u++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);u<n;)i=t[u]+(t[u+1]<<8)+(t[u+2]<<16)+((t[u+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,u):(f.push(i%1e7),u+=4);u=n/4}else throw Error(Lu);else for(;u<n;)f[u++]=Math.random()*1e7|0;for(n=f[--u],e%=ie,n&&e&&(i=Re(10,ie-e),f[u]=(n/i|0)*i);f[u]===0;u--)f.pop();if(u<0)r=0,f=[0];else{for(r=-1;f[0]===0;r-=ie)f.shift();for(n=1,i=f[0];i>=10;i/=10)n++;n<ie&&(r-=ie-n)}return a.e=r,a.d=f,a}function s0(e){return te(e=new this(e),e.e+1,this.rounding)}function f0(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function c0(e){return new this(e).sin()}function l0(e){return new this(e).sinh()}function h0(e){return new this(e).sqrt()}function v0(e,t){return new this(e).sub(t)}function d0(){var e=0,t=arguments,r=new this(t[e]);for(oe=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return oe=!0,te(r,this.precision,this.rounding)}function p0(e){return new this(e).tan()}function D0(e){return new this(e).tanh()}function g0(e){return te(e=new this(e),e.e+1,1)}Z[Symbol.for("nodejs.util.inspect.custom")]=Z.toString;Z[Symbol.toStringTag]="Decimal";var jt=Z.constructor=Wu(Sn);Lr=new jt(Lr);Vr=new jt(Vr);var m0="BigNumber",w0=["?on","config"],y0=Q(m0,w0,e=>{var{on:t,config:r}=e,n=jt.clone({precision:r.precision,modulo:jt.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},t&&t("config",function(i,u){i.precision!==u.precision&&n.config({precision:i.precision})}),n},{isClass:!0});const Je=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},at=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},_0=function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const r=e*e;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},Dn=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},Gt=function(){throw SyntaxError("Invalid Param")};function gn(e,t){const r=Math.abs(e),n=Math.abs(t);return e===0?Math.log(n):t===0?Math.log(r):r<3e3&&n<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const F0={re:0,im:0},Ut=function(e,t){const r=F0;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return $.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return $.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):Gt();break;case"string":r.im=r.re=0;const n=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,u=0;n===null&&Gt();for(let a=0;a<n.length;a++){const f=n[a];f===" "||f==="	"||f===`
`||(f==="+"?i++:f==="-"?u++:f==="i"||f==="I"?(i+u===0&&Gt(),n[a+1]!==" "&&!isNaN(n[a+1])?(r.im+=parseFloat((u%2?"-":"")+n[a+1]),a++):r.im+=parseFloat((u%2?"-":"")+"1"),i=u=0):((i+u===0||isNaN(f))&&Gt(),n[a+1]==="i"||n[a+1]==="I"?(r.im+=parseFloat((u%2?"-":"")+f),a++):r.re+=parseFloat((u%2?"-":"")+f),i=u=0))}i+u>0&&Gt();break;case"number":r.im=0,r.re=e;break;default:Gt()}return isNaN(r.re)||isNaN(r.im),r};function $(e,t){if(!(this instanceof $))return new $(e,t);const r=Ut(e,t);this.re=r.re,this.im=r.im}$.prototype={re:0,im:0,sign:function(){const e=Dn(this.re,this.im);return new $(this.re/e,this.im/e)},add:function(e,t){const r=Ut(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?$.NAN:$.INFINITY:new $(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=Ut(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?$.NAN:$.INFINITY:new $(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=Ut(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),u=this.re===0&&this.im===0,a=r.re===0&&r.im===0;return n&&a||i&&u?$.NAN:n||i?$.INFINITY:r.im===0&&this.im===0?new $(this.re*r.re,0):new $(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=Ut(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),u=this.re===0&&this.im===0,a=r.re===0&&r.im===0;if(u&&a||n&&i)return $.NAN;if(a||n)return $.INFINITY;if(u||i)return $.ZERO;if(r.im===0)return new $(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const f=r.re/r.im,l=r.re*f+r.im;return new $((this.re*f+this.im)/l,(this.im*f-this.re)/l)}else{const f=r.im/r.re,l=r.im*f+r.re;return new $((this.re+this.im*f)/l,(this.im-this.re*f)/l)}},pow:function(e,t){const r=Ut(e,t),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return $.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new $(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new $(Math.pow(this.im,r.re),0);case 1:return new $(0,Math.pow(this.im,r.re));case 2:return new $(-Math.pow(this.im,r.re),0);case 3:return new $(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return $.ZERO;const u=Math.atan2(this.im,this.re),a=gn(this.re,this.im);let f=Math.exp(r.re*a-r.im*u),l=r.im*a+r.re*u;return new $(f*Math.cos(l),f*Math.sin(l))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new $(Math.sqrt(e),0):new $(0,Math.sqrt(-e));const r=Dn(e,t);let n=Math.sqrt(.5*(r+Math.abs(e))),i=Math.abs(t)/(2*n);return e>=0?new $(n,t<0?-i:i):new $(i,t<0?-n:n)},exp:function(){const e=Math.exp(this.re);return this.im===0?new $(e,0):new $(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new $(Math.expm1(e)*Math.cos(t)+_0(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new $(Math.log(e),0):new $(gn(e,t),Math.atan2(t,e))},abs:function(){return Dn(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new $(Math.sin(e)*Je(t),Math.cos(e)*at(t))},cos:function(){const e=this.re,t=this.im;return new $(Math.cos(e)*Je(t),-Math.sin(e)*at(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+Je(t);return new $(Math.sin(e)/r,at(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-Je(t);return new $(-Math.sin(e)/r,at(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*Je(2*t)+.5*Math.cos(2*e);return new $(Math.cos(e)*Je(t)/r,Math.sin(e)*at(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*Je(2*t)-.5*Math.cos(2*e);return new $(Math.sin(e)*Je(t)/r,-Math.cos(e)*at(t)/r)},asin:function(){const e=this.re,t=this.im,r=new $(t*t-e*e+1,-2*e*t).sqrt(),n=new $(r.re-t,r.im+e).log();return new $(n.im,-n.re)},acos:function(){const e=this.re,t=this.im,r=new $(t*t-e*e+1,-2*e*t).sqrt(),n=new $(r.re-t,r.im+e).log();return new $(Math.PI/2-n.im,n.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new $(0,1/0);if(t===-1)return new $(0,-1/0)}const r=e*e+(1-t)*(1-t),n=new $((1-t*t-e*e)/r,-2*e/r).log();return new $(-.5*n.im,.5*n.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new $(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new $(e/r,-t/r).atan():new $(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new $(0,1/0);const r=e*e+t*t;return r!==0?new $(e/r,-t/r).acos():new $(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new $(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new $(e/r,-t/r).asin():new $(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new $(at(e)*Math.cos(t),Je(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new $(Je(e)*Math.cos(t),at(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=Je(e)+Math.cos(t);return new $(at(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=Je(e)-Math.cos(t);return new $(at(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-Je(2*e);return new $(-2*at(e)*Math.cos(t)/r,2*Je(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+Je(2*e);return new $(2*Je(e)*Math.cos(t)/r,-2*at(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,r=e>1&&t===0,n=1-e,i=1+e,u=n*n+t*t,a=u!==0?new $((i*n-t*t)/u,(t*n+i*t)/u):new $(e!==-1?e/0:0,t!==0?t/0:0),f=a.re;return a.re=gn(a.re,a.im)/2,a.im=Math.atan2(a.im,f)/2,r&&(a.im=-a.im),a},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new $(0,Math.PI/2);const r=e*e+t*t;return r!==0?new $(e/r,-t/r).atanh():new $(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0)return new $(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const r=e*e+t*t;return r!==0?new $(e/r,-t/r).asinh():new $(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return $.INFINITY;const r=e*e+t*t;return r!==0?new $(e/r,-t/r).acosh():new $(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return $.INFINITY;if(this.isInfinite())return $.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new $(e/r,-t/r)},conjugate:function(){return new $(this.re,-this.im)},neg:function(){return new $(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new $(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new $(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new $(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=Ut(e,t);return Math.abs(r.re-this.re)<=$.EPSILON&&Math.abs(r.im-this.im)<=$.EPSILON},clone:function(){return new $(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<$.EPSILON&&(e=0),Math.abs(t)<$.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};$.ZERO=new $(0,0);$.ONE=new $(1,0);$.I=new $(0,1);$.PI=new $(Math.PI,0);$.E=new $(Math.E,0);$.INFINITY=new $(1/0,1/0);$.NAN=new $(NaN,NaN);$.EPSILON=1e-15;var A0="Complex",b0=[],E0=Q(A0,b0,()=>(Object.defineProperty($,"name",{value:"Complex"}),$.prototype.constructor=$,$.prototype.type="Complex",$.prototype.isComplex=!0,$.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},$.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},$.prototype.format=function(e){var t="",r=this.im,n=this.re,i=bn(this.re,e),u=bn(this.im,e),a=Se(e)?e:e?e.precision:null;if(a!==null){var f=Math.pow(10,-a);Math.abs(n/r)<f&&(n=0),Math.abs(r/n)<f&&(r=0)}return r===0?t=i:n===0?r===1?t="i":r===-1?t="-i":t=u+"i":r<0?r===-1?t=i+" - i":t=i+" - "+u.substring(1)+"i":r===1?t=i+" + i":t=i+" + "+u+"i",t},$.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return $(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(Se(r)){if(Tu(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Se(n))return new $({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},$.prototype.valueOf=$.prototype.toString,$.fromJSON=function(e){return new $(e)},$.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},$),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const ee=BigInt(0),le=BigInt(1),pr=BigInt(2),xn=BigInt(5),et=BigInt(10),C0=2e3,K={s:le,n:ee,d:le};function Et(e,t){try{e=BigInt(e)}catch{throw Mt()}return e*t}function ct(e){return typeof e=="bigint"?e:Math.floor(e)}function Me(e,t){if(t===ee)throw Vn();const r=Object.create(ot.prototype);r.s=e<ee?-le:le,e=e<ee?-e:e;const n=Lt(e,t);return r.n=e/n,r.d=t/n,r}function Jt(e){const t={};let r=e,n=pr,i=xn-le;for(;i<=r;){for(;r%n===ee;)r/=n,t[n]=(t[n]||ee)+le;i+=le+pr*n++}return r!==e?r>1&&(t[r]=(t[r]||ee)+le):t[e]=(t[e]||ee)+le,t}const Xe=function(e,t){let r=ee,n=le,i=le;if(e!=null)if(t!==void 0){if(typeof e=="bigint")r=e;else{if(isNaN(e))throw Mt();if(e%1!==0)throw gi();r=BigInt(e)}if(typeof t=="bigint")n=t;else{if(isNaN(t))throw Mt();if(t%1!==0)throw gi();n=BigInt(t)}i=r*n}else if(typeof e=="object"){if("d"in e&&"n"in e)r=BigInt(e.n),n=BigInt(e.d),"s"in e&&(r*=BigInt(e.s));else if(0 in e)r=BigInt(e[0]),1 in e&&(n=BigInt(e[1]));else if(typeof e=="bigint")r=e;else throw Mt();i=r*n}else if(typeof e=="number"){if(isNaN(e))throw Mt();if(e<0&&(i=-le,e=-e),e%1===0)r=BigInt(e);else if(e>0){let u=1,a=0,f=1,l=1,c=1,o=1e7;for(e>=1&&(u=10**Math.floor(1+Math.log10(e)),e/=u);f<=o&&c<=o;){let s=(a+l)/(f+c);if(e===s){f+c<=o?(r=a+l,n=f+c):c>f?(r=l,n=c):(r=a,n=f);break}else e>s?(a+=l,f+=c):(l+=a,c+=f),f>o?(r=l,n=c):(r=a,n=f)}r=BigInt(r)*BigInt(u),n=BigInt(n)}}else if(typeof e=="string"){let u=0,a=ee,f=ee,l=ee,c=le,o=le,s=e.replace(/_/g,"").match(/\d+|./g);if(s===null)throw Mt();if(s[u]==="-"?(i=-le,u++):s[u]==="+"&&u++,s.length===u+1?f=Et(s[u++],i):s[u+1]==="."||s[u]==="."?(s[u]!=="."&&(a=Et(s[u++],i)),u++,(u+1===s.length||s[u+1]==="("&&s[u+3]===")"||s[u+1]==="'"&&s[u+3]==="'")&&(f=Et(s[u],i),c=et**BigInt(s[u].length),u++),(s[u]==="("&&s[u+2]===")"||s[u]==="'"&&s[u+2]==="'")&&(l=Et(s[u+1],i),o=et**BigInt(s[u+1].length)-le,u+=3)):s[u+1]==="/"||s[u+1]===":"?(f=Et(s[u],i),c=Et(s[u+2],le),u+=3):s[u+3]==="/"&&s[u+1]===" "&&(a=Et(s[u],i),f=Et(s[u+2],i),c=Et(s[u+4],le),u+=5),s.length<=u)n=c*o,i=r=l+n*a+o*f;else throw Mt()}else if(typeof e=="bigint")r=e,i=e,n=le;else throw Mt();if(n===ee)throw Vn();K.s=i<ee?-le:le,K.n=r<ee?-r:r,K.d=n<ee?-n:n};function S0(e,t,r){let n=le;for(;t>ee;e=e*e%r,t>>=le)t&le&&(n=n*e%r);return n}function B0(e,t){for(;t%pr===ee;t/=pr);for(;t%xn===ee;t/=xn);if(t===le)return ee;let r=et%t,n=1;for(;r!==le;n++)if(r=r*et%t,n>C0)return ee;return BigInt(n)}function M0(e,t,r){let n=le,i=S0(et,r,t);for(let u=0;u<300;u++){if(n===i)return BigInt(u);n=n*et%t,i=i*et%t}return 0}function Lt(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function ot(e,t){if(Xe(e,t),this instanceof ot)e=Lt(K.d,K.n),this.s=K.s,this.n=K.n/e,this.d=K.d/e;else return Me(K.s*K.n,K.d)}var Vn=function(){return new Error("Division by Zero")},Mt=function(){return new Error("Invalid argument")},gi=function(){return new Error("Parameters must be integer")};ot.prototype={s:le,n:ee,d:le,abs:function(){return Me(this.n,this.d)},neg:function(){return Me(-this.s*this.n,this.d)},add:function(e,t){return Xe(e,t),Me(this.s*this.n*K.d+K.s*this.d*K.n,this.d*K.d)},sub:function(e,t){return Xe(e,t),Me(this.s*this.n*K.d-K.s*this.d*K.n,this.d*K.d)},mul:function(e,t){return Xe(e,t),Me(this.s*K.s*this.n*K.n,this.d*K.d)},div:function(e,t){return Xe(e,t),Me(this.s*K.s*this.n*K.d,this.d*K.n)},clone:function(){return Me(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return Me(this.s*this.n%this.d,le);if(Xe(e,t),ee===K.n*this.d)throw Vn();return Me(this.s*(K.d*this.n)%(K.n*this.d),K.d*this.d)},gcd:function(e,t){return Xe(e,t),Me(Lt(K.n,this.n)*Lt(K.d,this.d),K.d*this.d)},lcm:function(e,t){return Xe(e,t),K.n===ee&&this.n===ee?Me(ee,le):Me(K.n*this.n,Lt(K.n,this.n)*Lt(K.d,this.d))},inverse:function(){return Me(this.s*this.d,this.n)},pow:function(e,t){if(Xe(e,t),K.d===le)return K.s<ee?Me((this.s*this.d)**K.n,this.n**K.n):Me((this.s*this.n)**K.n,this.d**K.n);if(this.s<ee)return null;let r=Jt(this.n),n=Jt(this.d),i=le,u=le;for(let a in r)if(a!=="1"){if(a==="0"){i=ee;break}if(r[a]*=K.n,r[a]%K.d===ee)r[a]/=K.d;else return null;i*=BigInt(a)**r[a]}for(let a in n)if(a!=="1"){if(n[a]*=K.n,n[a]%K.d===ee)n[a]/=K.d;else return null;u*=BigInt(a)**n[a]}return K.s<ee?Me(u,i):Me(i,u)},log:function(e,t){if(Xe(e,t),this.s<=ee||K.s<=ee)return null;const r={},n=Jt(K.n),i=Jt(K.d),u=Jt(this.n),a=Jt(this.d);for(const c in i)n[c]=(n[c]||ee)-i[c];for(const c in a)u[c]=(u[c]||ee)-a[c];for(const c in n)c!=="1"&&(r[c]=!0);for(const c in u)c!=="1"&&(r[c]=!0);let f=null,l=null;for(const c in r){const o=n[c]||ee,s=u[c]||ee;if(o===ee){if(s!==ee)return null;continue}let v=s,d=o;const p=Lt(v,d);if(v/=p,d/=p,f===null&&l===null)f=v,l=d;else if(v*l!==f*d)return null}return f!==null&&l!==null?Me(f,l):null},equals:function(e,t){return Xe(e,t),this.s*this.n*K.d===K.s*K.n*this.d},lt:function(e,t){return Xe(e,t),this.s*this.n*K.d<K.s*K.n*this.d},lte:function(e,t){return Xe(e,t),this.s*this.n*K.d<=K.s*K.n*this.d},gt:function(e,t){return Xe(e,t),this.s*this.n*K.d>K.s*K.n*this.d},gte:function(e,t){return Xe(e,t),this.s*this.n*K.d>=K.s*K.n*this.d},compare:function(e,t){Xe(e,t);let r=this.s*this.n*K.d-K.s*K.n*this.d;return(ee<r)-(r<ee)},ceil:function(e){return e=et**BigInt(e||0),Me(ct(this.s*e*this.n/this.d)+(e*this.n%this.d>ee&&this.s>=ee?le:ee),e)},floor:function(e){return e=et**BigInt(e||0),Me(ct(this.s*e*this.n/this.d)-(e*this.n%this.d>ee&&this.s<ee?le:ee),e)},round:function(e){return e=et**BigInt(e||0),Me(ct(this.s*e*this.n/this.d)+this.s*((this.s>=ee?le:ee)+pr*(e*this.n%this.d)>this.d?le:ee),e)},roundTo:function(e,t){Xe(e,t);const r=this.n*K.d,n=this.d*K.n,i=r%n;let u=ct(r/n);return i+i>=n&&u++,Me(this.s*u*K.n,K.d)},divisible:function(e,t){return Xe(e,t),!(!(K.n*this.d)||this.n*K.d%(K.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let t=this.n,r=this.d;e=e||15;let n=B0(t,r),i=M0(t,r,n),u=this.s<ee?"-":"";if(u+=ct(t/r),t%=r,t*=et,t&&(u+="."),n){for(let a=i;a--;)u+=ct(t/r),t%=r,t*=et;u+="(";for(let a=n;a--;)u+=ct(t/r),t%=r,t*=et;u+=")"}else for(let a=e;t&&a--;)u+=ct(t/r),t%=r,t*=et;return u},toFraction:function(e){let t=this.n,r=this.d,n=this.s<ee?"-":"";if(r===le)n+=t;else{let i=ct(t/r);e&&i>ee&&(n+=i,n+=" ",t%=r),n+=t,n+="/",n+=r}return n},toLatex:function(e){let t=this.n,r=this.d,n=this.s<ee?"-":"";if(r===le)n+=t;else{let i=ct(t/r);e&&i>ee&&(n+=i,t%=r),n+="\\frac{",n+=t,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let e=this.n,t=this.d,r=[];do{r.push(ct(e/t));let n=e%t;e=t,t=n}while(e!==le);return r},simplify:function(e){const t=BigInt(1/(e||.001)|0),r=this.abs(),n=r.toContinued();for(let i=1;i<n.length;i++){let u=Me(n[i-1],le);for(let f=i-2;f>=0;f--)u=u.inverse().add(n[f]);let a=u.sub(r);if(a.n*t<a.d)return u.mul(this.s)}return this}};var x0="Fraction",N0=[],T0=Q(x0,N0,()=>(Object.defineProperty(ot,"name",{value:"Fraction"}),ot.prototype.constructor=ot,ot.prototype.type="Fraction",ot.prototype.isFraction=!0,ot.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},ot.fromJSON=function(e){return new ot(e)},ot),{isClass:!0}),z0="Matrix",I0=[],P0=Q(z0,I0,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function mn(e,t,r){var n=e.constructor,i=new n(2),u="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Be(r))throw new Error("size must be an integer");if(e.greaterThan(i.pow(r-1).sub(1))||e.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(r))),u="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(u);case 8:return"".concat(e.toOctal()).concat(u);case 16:return"".concat(e.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(t," not supported "))}}function O0(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=Ou(t);switch(r){case"fixed":return q0(e,n);case"exponential":return mi(e,n);case"engineering":return $0(e,n);case"bin":return mn(e,2,i);case"oct":return mn(e,8,i);case"hex":return mn(e,16,i);case"auto":{var u=wi(t==null?void 0:t.lowerExp,-3),a=wi(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var f,l=e.toSignificantDigits(n),c=l.e;return c>=u&&c<a?f=l.toFixed():f=mi(e,n),f.replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],s=arguments[4];return o!=="."?o+s:s})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function $0(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=e.mul(Math.pow(10,-n)),u=i.toPrecision(t);if(u.includes("e")){var a=e.constructor;u=new a(u).toFixed()}return u+"e"+(r>=0?"+":"")+n.toString()}function mi(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function q0(e,t){return e.toFixed(t)}function wi(e,t){return Se(e)?e:Pe(e)?e.toNumber():t}function xe(e,t){var r=R0(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function R0(e,t){if(typeof e=="number")return bn(e,t);if(Pe(e))return O0(e,t);if(U0(e))return!t||t.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return Ku(e,t);if(Dt(e))return yi(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>yi(n)+": "+xe(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function yi(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);r+=i in _i?_i[i]:i,n++}return'"'+r+'"'}var _i={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Ku(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=Ku(e[i],t);return r+="]",r}else return xe(e,t)}function U0(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function _e(e,t,r){if(!(this instanceof _e))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}_e.prototype=new RangeError;_e.prototype.constructor=RangeError;_e.prototype.name="DimensionError";_e.prototype.isDimensionError=!0;function Ot(e,t,r){if(!(this instanceof Ot))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Ot.prototype=new RangeError;Ot.prototype.constructor=RangeError;Ot.prototype.name="IndexError";Ot.prototype.isIndexError=!0;function Ye(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Qu(e,t,r){var n,i=e.length;if(i!==t[r])throw new _e(i,t[r]);if(r<t.length-1){var u=r+1;for(n=0;n<i;n++){var a=e[n];if(!Array.isArray(a))throw new _e(t.length-1,t.length,"<");Qu(e[n],t,u)}}else for(n=0;n<i;n++)if(Array.isArray(e[n]))throw new _e(t.length+1,t.length,">")}function Fi(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new _e(e.length,0)}else Qu(e,t,0)}function ze(e,t){if(e!==void 0){if(!Se(e)||!Be(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new Ot(e,t)}}function Hr(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!Se(i)||!Be(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xe(t)+")")}),(Se(e)||Pe(e))&&(e=[e]);var n=r!==void 0?r:0;return Nn(e,t,0,n),e}function Nn(e,t,r,n){var i,u,a=e.length,f=t[r],l=Math.min(a,f);if(e.length=f,r<t.length-1){var c=r+1;for(i=0;i<l;i++)u=e[i],Array.isArray(u)||(u=[u],e[i]=u),Nn(u,t,c,n);for(i=l;i<f;i++)u=[],e[i]=u,Nn(u,t,c,n)}else{for(i=0;i<l;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=l;i<f;i++)e[i]=n}}function ku(e,t){var r=V0(e),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new _e(0,n,"!=");t=Zn(t,n);var i=ju(t);if(n!==i)throw new _e(i,n,"!=");try{return L0(r,t)}catch(u){throw u instanceof _e?new _e(i,n,"!="):u}}function Zn(e,t){var r=ju(e),n=e.slice(),i=-1,u=e.indexOf(i),a=e.indexOf(i,u+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var f=u>=0,l=t%r===0;if(f)if(l)n[u]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function ju(e){return e.reduce((t,r)=>t*r,1)}function L0(e,t){for(var r=e,n,i=t.length-1;i>0;i--){var u=t[i];n=[];for(var a=r.length/u,f=0;f<a;f++)n.push(r.slice(f*u,(f+1)*u));r=n}return r}function ea(e,t,r,n){var i=n||Ye(e);if(r)for(var u=0;u<r;u++)e=[e],i.unshift(1);for(e=ta(e,t,0);i.length<t;)i.push(1);return e}function ta(e,t,r){var n,i;if(Array.isArray(e)){var u=r+1;for(n=0,i=e.length;n<i;n++)e[n]=ta(e[n],t,u)}else for(var a=r;a<t;a++)e=[e];return e}function V0(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(n){Array.isArray(n)?n.forEach(r):t.push(n)}),t}function Hn(e,t){for(var r,n=0,i=0;i<e.length;i++){var u=e[i],a=Array.isArray(u);if(i===0&&a&&(n=u.length),a&&u.length!==n)return;var f=a?Hn(u,t):t(u);if(r===void 0)r=f;else if(r!==f)return"mixed"}return r}function ra(e,t,r,n){if(n<r){if(e.length!==t.length)throw new _e(e.length,t.length);for(var i=[],u=0;u<e.length;u++)i[u]=ra(e[u],t[u],r,n+1);return i}else return e.concat(t)}function na(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,n){return ra(r,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function ia(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(v=>v.length),i=Math.max(...n),u=new Array(i).fill(null),a=0;a<t.length;a++)for(var f=t[a],l=n[a],c=0;c<l;c++){var o=i-l+c;f[c]>u[o]&&(u[o]=f[c])}for(var s=0;s<t.length;s++)ua(t[s],u);return u}function ua(e,t){for(var r=t.length,n=e.length,i=0;i<n;i++){var u=r-n+i;if(e[i]<t[u]&&e[i]>1||e[i]>t[u])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[i]," to size ").concat(t[u]))}}function Tn(e,t){var r=Ye(e);if(zt(r,t))return e;ua(r,t);var n=ia(r,t),i=n.length,u=[...Array(i-r.length).fill(1),...r],a=H0(e);r.length<i&&(a=ku(a,u),r=Ye(a));for(var f=0;f<i;f++)r[f]<n[f]&&(a=Z0(a,n[f],f),r=Ye(a));return a}function Z0(e,t,r){return na(...Array(t).fill(e),r)}function aa(e,t){if(!Array.isArray(e))throw new Error("Array expected");var r=Ye(e);if(t.length!==r.length)throw new _e(t.length,r.length);for(var n=0;n<t.length;n++)ze(t[n],r[n]);return t.reduce((i,u)=>i[u],e)}function H0(e){return qr([],e)}function Xr(e,t,r){if(Ur.isTypedFunction(e)){var n=(t.isMatrix?t.size():Ye(t)).map(()=>0),i=t.isMatrix?t.get(n):aa(t,n),u=Object.keys(e.signatures).length===1,a=X0(e,i,n,t),f=u?Object.values(e.signatures)[0]:e;return a>=1&&a<=3?function(){for(var l=arguments.length,c=new Array(l),o=0;o<l;o++)c[o]=arguments[o];return Ai(f,c.slice(0,a),r,e.name)}:function(){for(var l=arguments.length,c=new Array(l),o=0;o<l;o++)c[o]=arguments[o];return Ai(f,c,r,e.name)}}return e}function X0(e,t,r,n){for(var i=[t,r,n],u=3;u>0;u--){var a=i.slice(0,u);if(Ur.resolve(e,a)!==null)return u}}function Ai(e,t,r,n){try{return e(...t)}catch(i){Y0(i,t,r,n)}}function Y0(e,t,r,n){var i;if(e instanceof TypeError&&((i=e.data)===null||i===void 0?void 0:i.category)==="wrongType"){var u=[];throw u.push("value: ".concat(mt(t[0]))),t.length>=2&&u.push("index: ".concat(mt(t[1]))),t.length>=3&&u.push("array: ".concat(mt(t[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(u.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(e.message))}var G0="DenseMatrix",J0=["Matrix"],W0=Q(G0,J0,e=>{var{Matrix:t}=e;function r(o,s){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!Dt(s))throw new Error("Invalid datatype: "+s);if(Ne(o))o.type==="DenseMatrix"?(this._data=Ce(o._data),this._size=Ce(o._size),this._datatype=s||o._datatype):(this._data=o.toArray(),this._size=o.size(),this._datatype=s||o._datatype);else if(o&&Ie(o.data)&&Ie(o.size))this._data=o.data,this._size=o.size,Fi(this._data,this._size),this._datatype=s||o.datatype;else if(Ie(o))this._data=c(o),this._size=Ye(this._data),Fi(this._data,this._size),this._datatype=s;else{if(o)throw new TypeError("Unsupported type of data ("+mt(o)+")");this._data=[],this._size=[0],this._datatype=s}}r.prototype=new t,r.prototype.createDenseMatrix=function(o,s){return new r(o,s)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Hn(this._data,mt)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(o,s){return new r(o,s)},r.prototype.subset=function(o,s,v){switch(arguments.length){case 1:return n(this,o);case 2:case 3:return u(this,o,s,v);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(o){return aa(this._data,o)},r.prototype.set=function(o,s,v){if(!Ie(o))throw new TypeError("Array expected");if(o.length<this._size.length)throw new _e(o.length,this._size.length,"<");var d,p,h,D=o.map(function(_){return _+1});l(this,D,v);var m=this._data;for(d=0,p=o.length-1;d<p;d++)h=o[d],ze(h,m.length),m=m[h];return h=o[o.length-1],ze(h,m.length),m[h]=s,this};function n(o,s){if(!Rn(s))throw new TypeError("Invalid index");var v=s.isScalar();if(v)return o.get(s.min());var d=s.size();if(d.length!==o._size.length)throw new _e(d.length,o._size.length);for(var p=s.min(),h=s.max(),D=0,m=o._size.length;D<m;D++)ze(p[D],o._size[D]),ze(h[D],o._size[D]);return new r(i(o._data,s,d.length,0),o._datatype)}function i(o,s,v,d){var p=d===v-1,h=s.dimension(d);return p?h.map(function(D){return ze(D,o.length),o[D]}).valueOf():h.map(function(D){ze(D,o.length);var m=o[D];return i(m,s,v,d+1)}).valueOf()}function u(o,s,v,d){if(!s||s.isIndex!==!0)throw new TypeError("Invalid index");var p=s.size(),h=s.isScalar(),D;if(Ne(v)?(D=v.size(),v=v.valueOf()):D=Ye(v),h){if(D.length!==0)throw new TypeError("Scalar expected");o.set(s.min(),v,d)}else{if(!zt(D,p))try{D.length===0?v=Tn([v],p):v=Tn(v,p),D=Ye(v)}catch{}if(p.length<o._size.length)throw new _e(p.length,o._size.length,"<");if(D.length<p.length){for(var m=0,_=0;p[m]===1&&D[m]===1;)m++;for(;p[m]===1;)_++,m++;v=ea(v,p.length,_,D)}if(!zt(p,D))throw new _e(p,D,">");var w=s.max().map(function(g){return g+1});l(o,w,d);var F=p.length,y=0;a(o._data,s,v,F,y)}return o}function a(o,s,v,d,p){var h=p===d-1,D=s.dimension(p);h?D.forEach(function(m,_){ze(m),o[m]=v[_[0]]}):D.forEach(function(m,_){ze(m),a(o[m],s,v[_[0]],d,p+1)})}r.prototype.resize=function(o,s,v){if(!hr(o))throw new TypeError("Array or Matrix expected");var d=o.valueOf().map(h=>Array.isArray(h)&&h.length===1?h[0]:h),p=v?this.clone():this;return f(p,d,s)};function f(o,s,v){if(s.length===0){for(var d=o._data;Ie(d);)d=d[0];return d}return o._size=s.slice(0),o._data=Hr(o._data,o._size,v),o}r.prototype.reshape=function(o,s){var v=s?this.clone():this;v._data=ku(v._data,o);var d=v._size.reduce((p,h)=>p*h);return v._size=Zn(o,d),v};function l(o,s,v){for(var d=o._size.slice(0),p=!1;d.length<s.length;)d.push(0),p=!0;for(var h=0,D=s.length;h<D;h++)s[h]>d[h]&&(d[h]=s[h],p=!0);p&&f(o,d,v)}r.prototype.clone=function(){var o=new r({data:Ce(this._data),size:Ce(this._size),datatype:this._datatype});return o},r.prototype.size=function(){return this._size.slice(0)},r.prototype._forEach=function(o){var s=this,v=s.size();if(v.length===1){for(var d=0;d<v[0];d++)o(s._data,d,[d]);return}var p=Array(v.length).fill(0),h=Array(v.length-1),D=h.length-1;h[0]=s._data[0];for(var m=0;m<D;m++)h[m+1]=h[m][0];for(p[D]=-1;;){var _=void 0;for(_=D;_>=0;_--){if(p[_]++,p[_]===v[_]){p[_]=0;continue}h[_]=_===0?s._data[p[_]]:h[_-1][p[_]];for(var w=_;w<D;w++)h[w+1]=h[w][0];for(var F=0;F<v[h.length];F++)p[h.length]=F,o(h[D],F,p.slice(0));break}if(_===-1)break}},r.prototype.map=function(o){var s=this,v=new r(s),d=Xr(o,s._data,"map");return v._forEach(function(p,h,D){p[h]=d(p[h],D,s)}),v},r.prototype.forEach=function(o){var s=this,v=Xr(o,s._data,"map");s._forEach(function(d,p,h){v(d[p],h,s)})},r.prototype[Symbol.iterator]=function*(){var o=function*(v,d){if(Ie(v))for(var p=0;p<v.length;p++)yield*o(v[p],d.concat(p));else yield{value:v,index:d}};yield*o(this._data,[])},r.prototype.rows=function(){var o=[],s=this.size();if(s.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var v=this._data;for(var d of v)o.push(new r([d],this._datatype));return o},r.prototype.columns=function(){var o=this,s=[],v=this.size();if(v.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var d=this._data,p=function(m){var _=d.map(w=>[w[m]]);s.push(new r(_,o._datatype))},h=0;h<v[1];h++)p(h);return s},r.prototype.toArray=function(){return Ce(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(o){return xe(this._data,o)},r.prototype.toString=function(){return xe(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(o){if(o){if(Pe(o)&&(o=o.toNumber()),!Se(o)||!Be(o))throw new TypeError("The parameter k must be an integer number")}else o=0;for(var s=o>0?o:0,v=o<0?-o:0,d=this._size[0],p=this._size[1],h=Math.min(d-v,p-s),D=[],m=0;m<h;m++)D[m]=this._data[m+v][m+s];return new r({data:D,size:[h],datatype:this._datatype})},r.diagonal=function(o,s,v,d){if(!Ie(o))throw new TypeError("Array expected, size parameter");if(o.length!==2)throw new Error("Only two dimensions matrix are supported");if(o=o.map(function(C){if(Pe(C)&&(C=C.toNumber()),!Se(C)||!Be(C)||C<1)throw new Error("Size values must be positive integers");return C}),v){if(Pe(v)&&(v=v.toNumber()),!Se(v)||!Be(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var p=v>0?v:0,h=v<0?-v:0,D=o[0],m=o[1],_=Math.min(D-h,m-p),w;if(Ie(s)){if(s.length!==_)throw new Error("Invalid value array length");w=function(E){return s[E]}}else if(Ne(s)){var F=s.size();if(F.length!==1||F[0]!==_)throw new Error("Invalid matrix length");w=function(E){return s.get([E])}}else w=function(){return s};d||(d=Pe(w(0))?w(0).mul(0):0);var y=[];if(o.length>0){y=Hr(y,o,d);for(var g=0;g<_;g++)y[g+h][g+p]=w(g)}return new r({data:y,size:[D,m]})},r.fromJSON=function(o){return new r(o)},r.prototype.swapRows=function(o,s){if(!Se(o)||!Be(o)||!Se(s)||!Be(s))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ze(o,this._size[0]),ze(s,this._size[0]),r._swapRows(o,s,this._data),this},r._swapRows=function(o,s,v){var d=v[o];v[o]=v[s],v[s]=d};function c(o){return Ne(o)?c(o.valueOf()):Ie(o)?o.map(c):o}return r},{isClass:!0});function K0(e){var t=e.length,r=e[0].length,n,i,u=[];for(i=0;i<r;i++){var a=[];for(n=0;n<t;n++)a.push(e[n][i]);u.push(a)}return u}function Q0(e){for(var t=0;t<e.length;t++)if(hr(e[t]))return!0;return!1}function oa(e,t){Ne(e)&&(e=e.valueOf());for(var r=0,n=e.length;r<n;r++){var i=e[r];Array.isArray(i)?oa(i,t):t(i)}}function _t(e,t,r){return e&&typeof e.map=="function"?e.map(function(n){return _t(n,t)}):t(e)}function k0(e,t,r){var n=Array.isArray(e)?Ye(e):e.size();if(t<0||t>=n.length)throw new Ot(t,n.length);return Ne(e)?e.create(Yr(e.valueOf(),t,r),e.datatype()):Yr(e,t,r)}function Yr(e,t,r){var n,i,u,a;if(t<=0)if(Array.isArray(e[0])){for(a=K0(e),i=[],n=0;n<a.length;n++)i[n]=Yr(a[n],t-1,r);return i}else{for(u=e[0],n=1;n<e.length;n++)u=r(u,e[n]);return u}else{for(i=[],n=0;n<e.length;n++)i[n]=Yr(e[n],t-1,r);return i}}var bi="isInteger",j0=["typed"],eh=Q(bi,j0,e=>{var{typed:t}=e;return t(bi,{number:Be,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1n},"Array | Matrix":t.referToSelf(r=>n=>_t(n,r))})}),Xn="number",fn="number, number";function sa(e){return Math.abs(e)}sa.signature=Xn;function fa(e,t){return e+t}fa.signature=fn;function ca(e,t){return e-t}ca.signature=fn;function la(e,t){return e*t}la.signature=fn;function ha(e){return-e}ha.signature=Xn;function va(e){return Math.exp(e)}va.signature=Xn;function da(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}da.signature=fn;var th="number";function pa(e){return e>0}pa.signature=th;function er(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n))}var Ei="isPositive",rh=["typed","config"],nh=Q(Ei,rh,e=>{var{typed:t,config:r}=e;return t(Ei,{number:n=>Bt(n,0,r.relTol,r.absTol)?!1:pa(n),BigNumber:n=>er(n,new n.constructor(0),r.relTol,r.absTol)?!1:!n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n>0n,Fraction:n=>n.s>0n&&n.n>0n,Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>_t(i,n))})}),Ci="isZero",ih=["typed","equalScalar"],uh=Q(Ci,ih,e=>{var{typed:t,equalScalar:r}=e;return t(Ci,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>_t(i,n))})});function ah(e,t,r,n){return Bt(e.re,t.re,r,n)&&Bt(e.im,t.im,r,n)}var gr=Q("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}}),Gr="equalScalar",oh=["typed","config"],sh=Q(Gr,oh,e=>{var{typed:t,config:r}=e,n=gr({typed:t});return t(Gr,{"boolean, boolean":function(u,a){return u===a},"number, number":function(u,a){return Bt(u,a,r.relTol,r.absTol)},"BigNumber, BigNumber":function(u,a){return u.eq(a)||er(u,a,r.relTol,r.absTol)},"bigint, bigint":function(u,a){return u===a},"Fraction, Fraction":function(u,a){return u.equals(a)},"Complex, Complex":function(u,a){return ah(u,a,r.relTol,r.absTol)}},n)});Q(Gr,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Gr,{"number, number":function(i,u){return Bt(i,u,r.relTol,r.absTol)}})});var fh="SparseMatrix",ch=["typed","equalScalar","Matrix"],lh=Q(fh,ch,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function i(h,D){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(D&&!Dt(D))throw new Error("Invalid datatype: "+D);if(Ne(h))u(this,h,D);else if(h&&Ie(h.index)&&Ie(h.ptr)&&Ie(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=D||h.datatype;else if(Ie(h))a(this,h,D);else{if(h)throw new TypeError("Unsupported type of data ("+mt(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=D}}function u(h,D,m){D.type==="SparseMatrix"?(h._values=D._values?Ce(D._values):void 0,h._index=Ce(D._index),h._ptr=Ce(D._ptr),h._size=Ce(D._size),h._datatype=m||D._datatype):a(h,D.valueOf(),m||D._datatype)}function a(h,D,m){h._values=[],h._index=[],h._ptr=[],h._datatype=m;var _=D.length,w=0,F=r,y=0;if(Dt(m)&&(F=t.find(r,[m,m])||r,y=t.convert(0,m)),_>0){var g=0;do{h._ptr.push(h._index.length);for(var C=0;C<_;C++){var E=D[C];if(Ie(E)){if(g===0&&w<E.length&&(w=E.length),g<E.length){var b=E[g];F(b,y)||(h._values.push(b),h._index.push(C))}}else g===0&&w<1&&(w=1),F(E,y)||(h._values.push(E),h._index.push(C))}g++}while(g<w)}h._ptr.push(h._index.length),h._size=[_,w]}i.prototype=new n,i.prototype.createSparseMatrix=function(h,D){return new i(h,D)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Hn(this._values,mt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(h,D){return new i(h,D)},i.prototype.density=function(){var h=this._size[0],D=this._size[1];return h!==0&&D!==0?this._index.length/(h*D):0},i.prototype.subset=function(h,D,m){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return f(this,h);case 2:case 3:return l(this,h,D,m);default:throw new SyntaxError("Wrong number of arguments")}};function f(h,D){if(!Rn(D))throw new TypeError("Invalid index");var m=D.isScalar();if(m)return h.get(D.min());var _=D.size();if(_.length!==h._size.length)throw new _e(_.length,h._size.length);var w,F,y,g,C=D.min(),E=D.max();for(w=0,F=h._size.length;w<F;w++)ze(C[w],h._size[w]),ze(E[w],h._size[w]);var b=h._values,S=h._index,M=h._ptr,I=D.dimension(0),V=D.dimension(1),P=[],O=[];I.forEach(function(T,Y){O[T]=Y[0],P[T]=!0});var N=b?[]:void 0,W=[],X=[];return V.forEach(function(T){for(X.push(W.length),y=M[T],g=M[T+1];y<g;y++)w=S[y],P[w]===!0&&(W.push(O[w]),N&&N.push(b[y]))}),X.push(W.length),new i({values:N,index:W,ptr:X,size:_,datatype:h._datatype})}function l(h,D,m,_){if(!D||D.isIndex!==!0)throw new TypeError("Invalid index");var w=D.size(),F=D.isScalar(),y;if(Ne(m)?(y=m.size(),m=m.toArray()):y=Ye(m),F){if(y.length!==0)throw new TypeError("Scalar expected");h.set(D.min(),m,_)}else{if(w.length!==1&&w.length!==2)throw new _e(w.length,h._size.length,"<");if(y.length<w.length){for(var g=0,C=0;w[g]===1&&y[g]===1;)g++;for(;w[g]===1;)C++,g++;m=ea(m,w.length,C,y)}if(!zt(w,y))throw new _e(w,y,">");if(w.length===1){var E=D.dimension(0);E.forEach(function(M,I){ze(M),h.set([M,0],m[I[0]],_)})}else{var b=D.dimension(0),S=D.dimension(1);b.forEach(function(M,I){ze(M),S.forEach(function(V,P){ze(V),h.set([M,V],m[I[0]][P[0]],_)})})}}return h}i.prototype.get=function(h){if(!Ie(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new _e(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var D=h[0],m=h[1];ze(D,this._size[0]),ze(m,this._size[1]);var _=c(D,this._ptr[m],this._ptr[m+1],this._index);return _<this._ptr[m+1]&&this._index[_]===D?this._values[_]:0},i.prototype.set=function(h,D,m){if(!Ie(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new _e(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var _=h[0],w=h[1],F=this._size[0],y=this._size[1],g=r,C=0;Dt(this._datatype)&&(g=t.find(r,[this._datatype,this._datatype])||r,C=t.convert(0,this._datatype)),(_>F-1||w>y-1)&&(v(this,Math.max(_+1,F),Math.max(w+1,y),m),F=this._size[0],y=this._size[1]),ze(_,F),ze(w,y);var E=c(_,this._ptr[w],this._ptr[w+1],this._index);return E<this._ptr[w+1]&&this._index[E]===_?g(D,C)?o(E,w,this._values,this._index,this._ptr):this._values[E]=D:g(D,C)||s(E,_,w,D,this._values,this._index,this._ptr),this};function c(h,D,m,_){if(m-D===0)return m;for(var w=D;w<m;w++)if(_[w]===h)return w;return D}function o(h,D,m,_,w){m.splice(h,1),_.splice(h,1);for(var F=D+1;F<w.length;F++)w[F]--}function s(h,D,m,_,w,F,y){w.splice(h,0,_),F.splice(h,0,D);for(var g=m+1;g<y.length;g++)y[g]++}i.prototype.resize=function(h,D,m){if(!hr(h))throw new TypeError("Array or Matrix expected");var _=h.valueOf().map(F=>Array.isArray(F)&&F.length===1?F[0]:F);if(_.length!==2)throw new Error("Only two dimensions matrix are supported");_.forEach(function(F){if(!Se(F)||!Be(F)||F<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xe(_)+")")});var w=m?this.clone():this;return v(w,_[0],_[1],D)};function v(h,D,m,_){var w=_||0,F=r,y=0;Dt(h._datatype)&&(F=t.find(r,[h._datatype,h._datatype])||r,y=t.convert(0,h._datatype),w=t.convert(w,h._datatype));var g=!F(w,y),C=h._size[0],E=h._size[1],b,S,M;if(m>E){for(S=E;S<m;S++)if(h._ptr[S]=h._values.length,g)for(b=0;b<C;b++)h._values.push(w),h._index.push(b);h._ptr[m]=h._values.length}else m<E&&(h._ptr.splice(m+1,E-m),h._values.splice(h._ptr[m],h._values.length),h._index.splice(h._ptr[m],h._index.length));if(E=m,D>C){if(g){var I=0;for(S=0;S<E;S++){h._ptr[S]=h._ptr[S]+I,M=h._ptr[S+1]+I;var V=0;for(b=C;b<D;b++,V++)h._values.splice(M+V,0,w),h._index.splice(M+V,0,b),I++}h._ptr[E]=h._values.length}}else if(D<C){var P=0;for(S=0;S<E;S++){h._ptr[S]=h._ptr[S]-P;var O=h._ptr[S],N=h._ptr[S+1]-P;for(M=O;M<N;M++)b=h._index[M],b>D-1&&(h._values.splice(M,1),h._index.splice(M,1),P++)}h._ptr[S]=h._values.length}return h._size[0]=D,h._size[1]=m,h}i.prototype.reshape=function(h,D){if(!Ie(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(T){if(!Se(T)||!Be(T)||T<=-2||T===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+xe(h)+")")});var m=this._size[0]*this._size[1];h=Zn(h,m);var _=h[0]*h[1];if(m!==_)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=D?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return w;for(var F=[],y=0;y<w._ptr.length;y++)for(var g=0;g<w._ptr[y+1]-w._ptr[y];g++)F.push(y);for(var C=w._values.slice(),E=w._index.slice(),b=0;b<w._index.length;b++){var S=E[b],M=F[b],I=S*w._size[1]+M;F[b]=I%h[1],E[b]=Math.floor(I/h[1])}w._values.length=0,w._index.length=0,w._ptr.length=h[1]+1,w._size=h.slice();for(var V=0;V<w._ptr.length;V++)w._ptr[V]=0;for(var P=0;P<C.length;P++){var O=E[P],N=F[P],W=C[P],X=c(O,w._ptr[N],w._ptr[N+1],w._index);s(X,O,N,W,w._values,w._index,w._ptr)}return w},i.prototype.clone=function(){var h=new i({values:this._values?Ce(this._values):void 0,index:Ce(this._index),ptr:Ce(this._ptr),size:Ce(this._size),datatype:this._datatype});return h},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(h,D){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var m=this,_=this._size[0],w=this._size[1],F=Xr(h,m,"map"),y=function(C,E,b){return F(C,[E,b],m)};return d(this,0,_-1,0,w-1,y,D)};function d(h,D,m,_,w,F,y){var g=[],C=[],E=[],b=r,S=0;Dt(h._datatype)&&(b=t.find(r,[h._datatype,h._datatype])||r,S=t.convert(0,h._datatype));for(var M=function(re,j,we){var ce=F(re,j,we);b(ce,S)||(g.push(ce),C.push(j))},I=_;I<=w;I++){E.push(g.length);var V=h._ptr[I],P=h._ptr[I+1];if(y)for(var O=V;O<P;O++){var N=h._index[O];N>=D&&N<=m&&M(h._values[O],N-D,I-_)}else{for(var W={},X=V;X<P;X++){var T=h._index[X];W[T]=h._values[X]}for(var Y=D;Y<=m;Y++){var k=Y in W?W[Y]:0;M(k,Y-D,I-_)}}}return E.push(g.length),new i({values:g,index:C,ptr:E,size:[m-D+1,w-_+1]})}i.prototype.forEach=function(h,D){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var m=this,_=this._size[0],w=this._size[1],F=Xr(h,m,"forEach"),y=0;y<w;y++){var g=this._ptr[y],C=this._ptr[y+1];if(D)for(var E=g;E<C;E++){var b=this._index[E];F(this._values[E],[b,y],m)}else{for(var S={},M=g;M<C;M++){var I=this._index[M];S[I]=this._values[M]}for(var V=0;V<_;V++){var P=V in S?S[V]:0;F(P,[V,y],m)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],D=0;D<h;D++)for(var m=this._ptr[D],_=this._ptr[D+1],w=m;w<_;w++){var F=this._index[w];yield{value:this._values[w],index:[F,D]}}},i.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)};function p(h,D,m,_,w){var F=_[0],y=_[1],g=[],C,E;for(C=0;C<F;C++)for(g[C]=[],E=0;E<y;E++)g[C][E]=0;for(E=0;E<y;E++)for(var b=m[E],S=m[E+1],M=b;M<S;M++)C=D[M],g[C][E]=h?w?Ce(h[M]):h[M]:1;return g}return i.prototype.format=function(h){for(var D=this._size[0],m=this._size[1],_=this.density(),w="Sparse Matrix ["+xe(D,h)+" x "+xe(m,h)+"] density: "+xe(_,h)+`
`,F=0;F<m;F++)for(var y=this._ptr[F],g=this._ptr[F+1],C=y;C<g;C++){var E=this._index[C];w+=`
    (`+xe(E,h)+", "+xe(F,h)+") ==> "+(this._values?xe(this._values[C],h):"X")}return w},i.prototype.toString=function(){return xe(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(h){if(h){if(Pe(h)&&(h=h.toNumber()),!Se(h)||!Be(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var D=h>0?h:0,m=h<0?-h:0,_=this._size[0],w=this._size[1],F=Math.min(_-m,w-D),y=[],g=[],C=[];C[0]=0;for(var E=D;E<w&&y.length<F;E++)for(var b=this._ptr[E],S=this._ptr[E+1],M=b;M<S;M++){var I=this._index[M];if(I===E-D+m){y.push(this._values[M]),g[y.length-1]=I-m;break}}return C.push(y.length),new i({values:y,index:g,ptr:C,size:[F,1]})},i.fromJSON=function(h){return new i(h)},i.diagonal=function(h,D,m,_,w){if(!Ie(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(T){if(Pe(T)&&(T=T.toNumber()),!Se(T)||!Be(T)||T<1)throw new Error("Size values must be positive integers");return T}),m){if(Pe(m)&&(m=m.toNumber()),!Se(m)||!Be(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var F=r,y=0;Dt(w)&&(F=t.find(r,[w,w])||r,y=t.convert(0,w));var g=m>0?m:0,C=m<0?-m:0,E=h[0],b=h[1],S=Math.min(E-C,b-g),M;if(Ie(D)){if(D.length!==S)throw new Error("Invalid value array length");M=function(Y){return D[Y]}}else if(Ne(D)){var I=D.size();if(I.length!==1||I[0]!==S)throw new Error("Invalid matrix length");M=function(Y){return D.get([Y])}}else M=function(){return D};for(var V=[],P=[],O=[],N=0;N<b;N++){O.push(V.length);var W=N-g;if(W>=0&&W<S){var X=M(W);F(X,y)||(P.push(W+C),V.push(X))}}return O.push(V.length),new i({values:V,index:P,ptr:O,size:[E,b]})},i.prototype.swapRows=function(h,D){if(!Se(h)||!Be(h)||!Se(D)||!Be(D))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ze(h,this._size[0]),ze(D,this._size[0]),i._swapRows(h,D,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(h,D,m,_,w){for(var F=_[h],y=_[h+1],g=F;g<y;g++)w(m[g],D[g])},i._swapRows=function(h,D,m,_,w,F){for(var y=0;y<m;y++){var g=F[y],C=F[y+1],E=c(h,g,C,w),b=c(D,g,C,w);if(E<C&&b<C&&w[E]===h&&w[b]===D){if(_){var S=_[E];_[E]=_[b],_[b]=S}continue}if(E<C&&w[E]===h&&(b>=C||w[b]!==D)){var M=_?_[E]:void 0;w.splice(b,0,D),_&&_.splice(b,0,M),w.splice(b<=E?E+1:E,1),_&&_.splice(b<=E?E+1:E,1);continue}if(b<C&&w[b]===D&&(E>=C||w[E]!==h)){var I=_?_[b]:void 0;w.splice(E,0,h),_&&_.splice(E,0,I),w.splice(E<=b?b+1:b,1),_&&_.splice(E<=b?b+1:b,1)}}},i},{isClass:!0}),hh="number",vh=["typed"];function dh(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],i=t[3];return{input:e,radix:r,integerPart:n,fractionalPart:i}}else return null}function ph(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++){var i=parseInt(e.fractionalPart[n],e.radix);r+=i/Math.pow(e.radix,n+1)}var u=t+r;if(isNaN(u))throw new SyntaxError('String "'+e.input+'" is not a valid number');return u}var Dh=Q(hh,vh,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var u=dh(i);if(u)return ph(u);var a=0,f=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);f&&(a=Number(f[2]),i=f[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(f){if(l>2**a-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(a-1)&&(l=l-2**a)}return l},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),null:function(i){return 0},"Unit, string | Unit":function(i,u){return i.toNumber(u)},"Array | Matrix":t.referToSelf(n=>i=>_t(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),gh="bignumber",mh=["typed","BigNumber"],wh=Q(gh,mh,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var a=u[2],f=r(u[1]),l=new r(2).pow(Number(a));if(f.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var c=new r(2).pow(Number(a)-1);return f.gte(c)?f.sub(l):f}return new r(i)},BigNumber:function(i){return i},bigint:function(i){return new r(i.toString())},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),Fraction:function(i){return new r(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new r(0)},"Array | Matrix":t.referToSelf(n=>i=>_t(i,n))})}),yh="fraction",_h=["typed","Fraction"],Fh=Q(yh,_h,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,u){return new r(i,u)},"bigint, bigint":function(i,u){return new r(i,u)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},bigint:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),Object:function(i){return new r(i)},"Array | Matrix":t.referToSelf(n=>i=>_t(i,n))})}),Si="matrix",Ah=["typed","Matrix","DenseMatrix","SparseMatrix"],bh=Q(Si,Ah,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t(Si,{"":function(){return u([])},string:function(f){return u([],f)},"string, string":function(f,l){return u([],f,l)},Array:function(f){return u(f)},Matrix:function(f){return u(f,f.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(a,f,l){if(f==="dense"||f==="default"||f===void 0)return new n(a,l);if(f==="sparse")return new i(a,l);throw new TypeError("Unknown matrix type "+JSON.stringify(f)+".")}}),Bi="unaryMinus",Eh=["typed"],Ch=Q(Bi,Eh,e=>{var{typed:t}=e;return t(Bi,{number:ha,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>n=>{var i=n.clone();return i.value=t.find(r,i.valueType())(n.value),i}),"Array | Matrix":t.referToSelf(r=>n=>_t(n,r))})}),Mi="abs",Sh=["typed"],Bh=Q(Mi,Sh,e=>{var{typed:t}=e;return t(Mi,{number:sa,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>n=>_t(n,r))})}),xi="addScalar",Mh=["typed"],xh=Q(xi,Mh,e=>{var{typed:t}=e;return t(xi,{"number, number":fa,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var u=n.clone();return u.value=t.find(r,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),Ni="subtractScalar",Nh=["typed"],Th=Q(Ni,Nh,e=>{var{typed:t}=e;return t(Ni,{"number, number":ca,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"bigint, bigint":function(n,i){return n-i},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var u=n.clone();return u.value=t.find(r,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),zh="matAlgo11xS0s",Ih=["typed","equalScalar"],Da=Q(zh,Ih,e=>{var{typed:t,equalScalar:r}=e;return function(i,u,a,f){var l=i._values,c=i._index,o=i._ptr,s=i._size,v=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=s[0],p=s[1],h,D=r,m=0,_=a;typeof v=="string"&&(h=v,D=t.find(r,[h,h]),m=t.convert(0,h),u=t.convert(u,h),_=t.find(a,[h,h]));for(var w=[],F=[],y=[],g=0;g<p;g++){y[g]=F.length;for(var C=o[g],E=o[g+1],b=C;b<E;b++){var S=c[b],M=f?_(u,l[b]):_(l[b],u);D(M,m)||(F.push(S),w.push(M))}}return y[p]=F.length,i.createSparseMatrix({values:w,index:F,ptr:y,size:[d,p],datatype:h})}}),Ph="matAlgo12xSfs",Oh=["typed","DenseMatrix"],tr=Q(Ph,Oh,e=>{var{typed:t,DenseMatrix:r}=e;return function(i,u,a,f){var l=i._values,c=i._index,o=i._ptr,s=i._size,v=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=s[0],p=s[1],h,D=a;typeof v=="string"&&(h=v,u=t.convert(u,h),D=t.find(a,[h,h]));for(var m=[],_=[],w=[],F=0;F<p;F++){for(var y=F+1,g=o[F],C=o[F+1],E=g;E<C;E++){var b=c[E];_[b]=l[E],w[b]=y}for(var S=0;S<d;S++)F===0&&(m[S]=[]),w[S]===y?m[S][F]=f?D(u,_[S]):D(_[S],u):m[S][F]=f?D(u,0):D(0,u)}return new r({data:m,size:[d,p],datatype:h})}}),$h="matAlgo14xDs",qh=["typed"],ga=Q($h,qh,e=>{var{typed:t}=e;return function(i,u,a,f){var l=i._data,c=i._size,o=i._datatype,s,v=a;typeof o=="string"&&(s=o,u=t.convert(u,s),v=t.find(a,[s,s]));var d=c.length>0?r(v,0,c,c[0],l,u,f):[];return i.createDenseMatrix({data:d,size:Ce(c),datatype:s})};function r(n,i,u,a,f,l,c){var o=[];if(i===u.length-1)for(var s=0;s<a;s++)o[s]=c?n(l,f[s]):n(f[s],l);else for(var v=0;v<a;v++)o[v]=r(n,i+1,u,u[i+1],f[v],l,c);return o}}),Ti="exp",Rh=["typed"],Uh=Q(Ti,Rh,e=>{var{typed:t}=e;return t(Ti,{number:va,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})}),Lh="matAlgo03xDSf",Vh=["typed"],rr=Q(Lh,Vh,e=>{var{typed:t}=e;return function(n,i,u,a){var f=n._data,l=n._size,c=n._datatype||n.getDataType(),o=i._values,s=i._index,v=i._ptr,d=i._size,p=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==d.length)throw new _e(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=l[0],D=l[1],m,_=0,w=u;typeof c=="string"&&c===p&&c!=="mixed"&&(m=c,_=t.convert(0,m),w=t.find(u,[m,m]));for(var F=[],y=0;y<h;y++)F[y]=[];for(var g=[],C=[],E=0;E<D;E++){for(var b=E+1,S=v[E],M=v[E+1],I=S;I<M;I++){var V=s[I];g[V]=a?w(o[I],f[V][E]):w(f[V][E],o[I]),C[V]=b}for(var P=0;P<h;P++)C[P]===b?F[P][E]=g[P]:F[P][E]=a?w(_,f[P][E]):w(f[P][E],_)}return n.createDenseMatrix({data:F,size:[h,D],datatype:c===n._datatype&&p===i._datatype?m:void 0})}}),Zh="matAlgo05xSfSf",Hh=["typed","equalScalar"],Xh=Q(Zh,Hh,e=>{var{typed:t,equalScalar:r}=e;return function(i,u,a){var f=i._values,l=i._index,c=i._ptr,o=i._size,s=i._datatype||i._data===void 0?i._datatype:i.getDataType(),v=u._values,d=u._index,p=u._ptr,h=u._size,D=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(o.length!==h.length)throw new _e(o.length,h.length);if(o[0]!==h[0]||o[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+h+")");var m=o[0],_=o[1],w,F=r,y=0,g=a;typeof s=="string"&&s===D&&s!=="mixed"&&(w=s,F=t.find(r,[w,w]),y=t.convert(0,w),g=t.find(a,[w,w]));var C=f&&v?[]:void 0,E=[],b=[],S=C?[]:void 0,M=C?[]:void 0,I=[],V=[],P,O,N,W;for(O=0;O<_;O++){b[O]=E.length;var X=O+1;for(N=c[O],W=c[O+1];N<W;N++)P=l[N],E.push(P),I[P]=X,S&&(S[P]=f[N]);for(N=p[O],W=p[O+1];N<W;N++)P=d[N],I[P]!==X&&E.push(P),V[P]=X,M&&(M[P]=v[N]);if(C)for(N=b[O];N<E.length;){P=E[N];var T=I[P],Y=V[P];if(T===X||Y===X){var k=T===X?S[P]:y,ae=Y===X?M[P]:y,re=g(k,ae);F(re,y)?E.splice(N,1):(C.push(re),N++)}}}return b[_]=E.length,i.createSparseMatrix({values:C,index:E,ptr:b,size:[m,_],datatype:s===i._datatype&&D===u._datatype?w:void 0})}}),Yh="matAlgo13xDD",Gh=["typed"],Jh=Q(Yh,Gh,e=>{var{typed:t}=e;return function(i,u,a){var f=i._data,l=i._size,c=i._datatype,o=u._data,s=u._size,v=u._datatype,d=[];if(l.length!==s.length)throw new _e(l.length,s.length);for(var p=0;p<l.length;p++){if(l[p]!==s[p])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+s+")");d[p]=l[p]}var h,D=a;typeof c=="string"&&c===v&&(h=c,D=t.find(a,[h,h]));var m=d.length>0?r(D,0,d,d[0],f,o):[];return i.createDenseMatrix({data:m,size:d,datatype:h})};function r(n,i,u,a,f,l){var c=[];if(i===u.length-1)for(var o=0;o<a;o++)c[o]=n(f[o],l[o]);else for(var s=0;s<a;s++)c[s]=r(n,i+1,u,u[i+1],f[s],l[s]);return c}});function He(e,t){if(zt(e.size(),t.size()))return[e,t];var r=ia(e.size(),t.size());return[e,t].map(n=>Wh(n,r))}function Wh(e,t){return zt(e.size(),t)?e:e.create(Tn(e.valueOf(),t),e.datatype())}var Kh="matrixAlgorithmSuite",Qh=["typed","matrix"],Zt=Q(Kh,Qh,e=>{var{typed:t,matrix:r}=e,n=Jh({typed:t}),i=ga({typed:t});return function(a){var f=a.elop,l=a.SD||a.DS,c;f?(c={"DenseMatrix, DenseMatrix":(d,p)=>n(...He(d,p),f),"Array, Array":(d,p)=>n(...He(r(d),r(p)),f).valueOf(),"Array, DenseMatrix":(d,p)=>n(...He(r(d),p),f),"DenseMatrix, Array":(d,p)=>n(...He(d,r(p)),f)},a.SS&&(c["SparseMatrix, SparseMatrix"]=(d,p)=>a.SS(...He(d,p),f,!1)),a.DS&&(c["DenseMatrix, SparseMatrix"]=(d,p)=>a.DS(...He(d,p),f,!1),c["Array, SparseMatrix"]=(d,p)=>a.DS(...He(r(d),p),f,!1)),l&&(c["SparseMatrix, DenseMatrix"]=(d,p)=>l(...He(p,d),f,!0),c["SparseMatrix, Array"]=(d,p)=>l(...He(r(p),d),f,!0))):(c={"DenseMatrix, DenseMatrix":t.referToSelf(d=>(p,h)=>n(...He(p,h),d)),"Array, Array":t.referToSelf(d=>(p,h)=>n(...He(r(p),r(h)),d).valueOf()),"Array, DenseMatrix":t.referToSelf(d=>(p,h)=>n(...He(r(p),h),d)),"DenseMatrix, Array":t.referToSelf(d=>(p,h)=>n(...He(p,r(h)),d))},a.SS&&(c["SparseMatrix, SparseMatrix"]=t.referToSelf(d=>(p,h)=>a.SS(...He(p,h),d,!1))),a.DS&&(c["DenseMatrix, SparseMatrix"]=t.referToSelf(d=>(p,h)=>a.DS(...He(p,h),d,!1)),c["Array, SparseMatrix"]=t.referToSelf(d=>(p,h)=>a.DS(...He(r(p),h),d,!1))),l&&(c["SparseMatrix, DenseMatrix"]=t.referToSelf(d=>(p,h)=>l(...He(h,p),d,!0)),c["SparseMatrix, Array"]=t.referToSelf(d=>(p,h)=>l(...He(r(h),p),d,!0))));var o=a.scalar||"any",s=a.Ds||a.Ss;s&&(f?(c["DenseMatrix,"+o]=(d,p)=>i(d,p,f,!1),c[o+", DenseMatrix"]=(d,p)=>i(p,d,f,!0),c["Array,"+o]=(d,p)=>i(r(d),p,f,!1).valueOf(),c[o+", Array"]=(d,p)=>i(r(p),d,f,!0).valueOf()):(c["DenseMatrix,"+o]=t.referToSelf(d=>(p,h)=>i(p,h,d,!1)),c[o+", DenseMatrix"]=t.referToSelf(d=>(p,h)=>i(h,p,d,!0)),c["Array,"+o]=t.referToSelf(d=>(p,h)=>i(r(p),h,d,!1).valueOf()),c[o+", Array"]=t.referToSelf(d=>(p,h)=>i(r(h),p,d,!0).valueOf())));var v=a.sS!==void 0?a.sS:a.Ss;return f?(a.Ss&&(c["SparseMatrix,"+o]=(d,p)=>a.Ss(d,p,f,!1)),v&&(c[o+", SparseMatrix"]=(d,p)=>v(p,d,f,!0))):(a.Ss&&(c["SparseMatrix,"+o]=t.referToSelf(d=>(p,h)=>a.Ss(p,h,d,!1))),v&&(c[o+", SparseMatrix"]=t.referToSelf(d=>(p,h)=>v(h,p,d,!0)))),f&&f.signatures&&cl(c,f.signatures),c}}),kh="matAlgo01xDSid",jh=["typed"],ma=Q(kh,jh,e=>{var{typed:t}=e;return function(n,i,u,a){var f=n._data,l=n._size,c=n._datatype||n.getDataType(),o=i._values,s=i._index,v=i._ptr,d=i._size,p=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==d.length)throw new _e(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=l[0],D=l[1],m=typeof c=="string"&&c!=="mixed"&&c===p?c:void 0,_=m?t.find(u,[m,m]):u,w,F,y=[];for(w=0;w<h;w++)y[w]=[];var g=[],C=[];for(F=0;F<D;F++){for(var E=F+1,b=v[F],S=v[F+1],M=b;M<S;M++)w=s[M],g[w]=a?_(o[M],f[w][F]):_(f[w][F],o[M]),C[w]=E;for(w=0;w<h;w++)C[w]===E?y[w][F]=g[w]:y[w][F]=f[w][F]}return n.createDenseMatrix({data:y,size:[h,D],datatype:c===n._datatype&&p===i._datatype?m:void 0})}}),ev="matAlgo04xSidSid",tv=["typed","equalScalar"],rv=Q(ev,tv,e=>{var{typed:t,equalScalar:r}=e;return function(i,u,a){var f=i._values,l=i._index,c=i._ptr,o=i._size,s=i._datatype||i._data===void 0?i._datatype:i.getDataType(),v=u._values,d=u._index,p=u._ptr,h=u._size,D=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(o.length!==h.length)throw new _e(o.length,h.length);if(o[0]!==h[0]||o[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+h+")");var m=o[0],_=o[1],w,F=r,y=0,g=a;typeof s=="string"&&s===D&&s!=="mixed"&&(w=s,F=t.find(r,[w,w]),y=t.convert(0,w),g=t.find(a,[w,w]));var C=f&&v?[]:void 0,E=[],b=[],S=f&&v?[]:void 0,M=f&&v?[]:void 0,I=[],V=[],P,O,N,W,X;for(O=0;O<_;O++){b[O]=E.length;var T=O+1;for(W=c[O],X=c[O+1],N=W;N<X;N++)P=l[N],E.push(P),I[P]=T,S&&(S[P]=f[N]);for(W=p[O],X=p[O+1],N=W;N<X;N++)if(P=d[N],I[P]===T){if(S){var Y=g(S[P],v[N]);F(Y,y)?I[P]=null:S[P]=Y}}else E.push(P),V[P]=T,M&&(M[P]=v[N]);if(S&&M)for(N=b[O];N<E.length;)P=E[N],I[P]===T?(C[N]=S[P],N++):V[P]===T?(C[N]=M[P],N++):E.splice(N,1)}return b[_]=E.length,i.createSparseMatrix({values:C,index:E,ptr:b,size:[m,_],datatype:s===i._datatype&&D===u._datatype?w:void 0})}}),nv="matAlgo10xSids",iv=["typed","DenseMatrix"],wa=Q(nv,iv,e=>{var{typed:t,DenseMatrix:r}=e;return function(i,u,a,f){var l=i._values,c=i._index,o=i._ptr,s=i._size,v=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=s[0],p=s[1],h,D=a;typeof v=="string"&&(h=v,u=t.convert(u,h),D=t.find(a,[h,h]));for(var m=[],_=[],w=[],F=0;F<p;F++){for(var y=F+1,g=o[F],C=o[F+1],E=g;E<C;E++){var b=c[E];_[b]=l[E],w[b]=y}for(var S=0;S<d;S++)F===0&&(m[S]=[]),w[S]===y?m[S][F]=f?D(u,_[S]):D(_[S],u):m[S][F]=u}return new r({data:m,size:[d,p],datatype:h})}}),uv="multiplyScalar",av=["typed"],ov=Q(uv,av,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":la,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),zi="multiply",sv=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],fv=Q(zi,sv,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:u,dot:a}=e,f=Da({typed:t,equalScalar:u}),l=ga({typed:t});function c(y,g){switch(y.length){case 1:switch(g.length){case 1:if(y[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(y[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+y[0]+") must match Matrix rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;case 2:switch(g.length){case 1:if(y[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+y[1]+") must match Vector length ("+g[0]+")");break;case 2:if(y[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+y[1]+") must match Matrix B rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+y.length+" dimensions)")}}function o(y,g,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return a(y,g)}function s(y,g){if(g.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return v(y,g)}function v(y,g){var C=y._data,E=y._size,b=y._datatype||y.getDataType(),S=g._data,M=g._size,I=g._datatype||g.getDataType(),V=E[0],P=M[1],O,N=n,W=i;b&&I&&b===I&&typeof b=="string"&&b!=="mixed"&&(O=b,N=t.find(n,[O,O]),W=t.find(i,[O,O]));for(var X=[],T=0;T<P;T++){for(var Y=W(C[0],S[0][T]),k=1;k<V;k++)Y=N(Y,W(C[k],S[k][T]));X[T]=Y}return y.createDenseMatrix({data:X,size:[P],datatype:b===y._datatype&&I===g._datatype?O:void 0})}var d=t("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":_}),p=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":D,"DenseMatrix, SparseMatrix":m,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":F});function h(y,g){var C=y._data,E=y._size,b=y._datatype||y.getDataType(),S=g._data,M=g._datatype||g.getDataType(),I=E[0],V=E[1],P,O=n,N=i;b&&M&&b===M&&typeof b=="string"&&b!=="mixed"&&(P=b,O=t.find(n,[P,P]),N=t.find(i,[P,P]));for(var W=[],X=0;X<I;X++){for(var T=C[X],Y=N(T[0],S[0]),k=1;k<V;k++)Y=O(Y,N(T[k],S[k]));W[X]=Y}return y.createDenseMatrix({data:W,size:[I],datatype:b===y._datatype&&M===g._datatype?P:void 0})}function D(y,g){var C=y._data,E=y._size,b=y._datatype||y.getDataType(),S=g._data,M=g._size,I=g._datatype||g.getDataType(),V=E[0],P=E[1],O=M[1],N,W=n,X=i;b&&I&&b===I&&typeof b=="string"&&b!=="mixed"&&b!=="mixed"&&(N=b,W=t.find(n,[N,N]),X=t.find(i,[N,N]));for(var T=[],Y=0;Y<V;Y++){var k=C[Y];T[Y]=[];for(var ae=0;ae<O;ae++){for(var re=X(k[0],S[0][ae]),j=1;j<P;j++)re=W(re,X(k[j],S[j][ae]));T[Y][ae]=re}}return y.createDenseMatrix({data:T,size:[V,O],datatype:b===y._datatype&&I===g._datatype?N:void 0})}function m(y,g){var C=y._data,E=y._size,b=y._datatype||y.getDataType(),S=g._values,M=g._index,I=g._ptr,V=g._size,P=g._datatype||g._data===void 0?g._datatype:g.getDataType();if(!S)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var O=E[0],N=V[1],W,X=n,T=i,Y=u,k=0;b&&P&&b===P&&typeof b=="string"&&b!=="mixed"&&(W=b,X=t.find(n,[W,W]),T=t.find(i,[W,W]),Y=t.find(u,[W,W]),k=t.convert(0,W));for(var ae=[],re=[],j=[],we=g.createSparseMatrix({values:ae,index:re,ptr:j,size:[O,N],datatype:b===y._datatype&&P===g._datatype?W:void 0}),ce=0;ce<N;ce++){j[ce]=re.length;var ue=I[ce],de=I[ce+1];if(de>ue)for(var se=0,ne=0;ne<O;ne++){for(var Ee=ne+1,Fe=void 0,fe=ue;fe<de;fe++){var De=M[fe];se!==Ee?(Fe=T(C[ne][De],S[fe]),se=Ee):Fe=X(Fe,T(C[ne][De],S[fe]))}se===Ee&&!Y(Fe,k)&&(re.push(ne),ae.push(Fe))}}return j[N]=re.length,we}function _(y,g){var C=y._values,E=y._index,b=y._ptr,S=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=g._data,I=g._datatype||g.getDataType(),V=y._size[0],P=g._size[0],O=[],N=[],W=[],X,T=n,Y=i,k=u,ae=0;S&&I&&S===I&&typeof S=="string"&&S!=="mixed"&&(X=S,T=t.find(n,[X,X]),Y=t.find(i,[X,X]),k=t.find(u,[X,X]),ae=t.convert(0,X));var re=[],j=[];W[0]=0;for(var we=0;we<P;we++){var ce=M[we];if(!k(ce,ae))for(var ue=b[we],de=b[we+1],se=ue;se<de;se++){var ne=E[se];j[ne]?re[ne]=T(re[ne],Y(ce,C[se])):(j[ne]=!0,N.push(ne),re[ne]=Y(ce,C[se]))}}for(var Ee=N.length,Fe=0;Fe<Ee;Fe++){var fe=N[Fe];O[Fe]=re[fe]}return W[1]=N.length,y.createSparseMatrix({values:O,index:N,ptr:W,size:[V,1],datatype:S===y._datatype&&I===g._datatype?X:void 0})}function w(y,g){var C=y._values,E=y._index,b=y._ptr,S=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=g._data,I=g._datatype||g.getDataType(),V=y._size[0],P=g._size[0],O=g._size[1],N,W=n,X=i,T=u,Y=0;S&&I&&S===I&&typeof S=="string"&&S!=="mixed"&&(N=S,W=t.find(n,[N,N]),X=t.find(i,[N,N]),T=t.find(u,[N,N]),Y=t.convert(0,N));for(var k=[],ae=[],re=[],j=y.createSparseMatrix({values:k,index:ae,ptr:re,size:[V,O],datatype:S===y._datatype&&I===g._datatype?N:void 0}),we=[],ce=[],ue=0;ue<O;ue++){re[ue]=ae.length;for(var de=ue+1,se=0;se<P;se++){var ne=M[se][ue];if(!T(ne,Y))for(var Ee=b[se],Fe=b[se+1],fe=Ee;fe<Fe;fe++){var De=E[fe];ce[De]!==de?(ce[De]=de,ae.push(De),we[De]=X(ne,C[fe])):we[De]=W(we[De],X(ne,C[fe]))}}for(var Oe=re[ue],Ue=ae.length,Le=Oe;Le<Ue;Le++){var pe=ae[Le];k[Le]=we[pe]}}return re[O]=ae.length,j}function F(y,g){var C=y._values,E=y._index,b=y._ptr,S=y._datatype||y._data===void 0?y._datatype:y.getDataType(),M=g._values,I=g._index,V=g._ptr,P=g._datatype||g._data===void 0?g._datatype:g.getDataType(),O=y._size[0],N=g._size[1],W=C&&M,X,T=n,Y=i;S&&P&&S===P&&typeof S=="string"&&S!=="mixed"&&(X=S,T=t.find(n,[X,X]),Y=t.find(i,[X,X]));for(var k=W?[]:void 0,ae=[],re=[],j=y.createSparseMatrix({values:k,index:ae,ptr:re,size:[O,N],datatype:S===y._datatype&&P===g._datatype?X:void 0}),we=W?[]:void 0,ce=[],ue,de,se,ne,Ee,Fe,fe,De,Oe=0;Oe<N;Oe++){re[Oe]=ae.length;var Ue=Oe+1;for(Ee=V[Oe],Fe=V[Oe+1],ne=Ee;ne<Fe;ne++)if(De=I[ne],W)for(de=b[De],se=b[De+1],ue=de;ue<se;ue++)fe=E[ue],ce[fe]!==Ue?(ce[fe]=Ue,ae.push(fe),we[fe]=Y(M[ne],C[ue])):we[fe]=T(we[fe],Y(M[ne],C[ue]));else for(de=b[De],se=b[De+1],ue=de;ue<se;ue++)fe=E[ue],ce[fe]!==Ue&&(ce[fe]=Ue,ae.push(fe));if(W)for(var Le=re[Oe],pe=ae.length,qe=Le;qe<pe;qe++){var it=ae[qe];k[qe]=we[it]}}return re[N]=ae.length,j}return t(zi,i,{"Array, Array":t.referTo("Matrix, Matrix",y=>(g,C)=>{c(Ye(g),Ye(C));var E=y(r(g),r(C));return Ne(E)?E.valueOf():E}),"Matrix, Matrix":function(g,C){var E=g.size(),b=C.size();return c(E,b),E.length===1?b.length===1?o(g,C,E[0]):s(g,C):b.length===1?d(g,C):p(g,C)},"Matrix, Array":t.referTo("Matrix,Matrix",y=>(g,C)=>y(g,r(C))),"Array, Matrix":t.referToSelf(y=>(g,C)=>y(r(g,C.storage()),C)),"SparseMatrix, any":function(g,C){return f(g,C,i,!1)},"DenseMatrix, any":function(g,C){return l(g,C,i,!1)},"any, SparseMatrix":function(g,C){return f(C,g,i,!0)},"any, DenseMatrix":function(g,C){return l(C,g,i,!0)},"Array, any":function(g,C){return l(r(g),C,i,!1).valueOf()},"any, Array":function(g,C){return l(r(C),g,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(y=>(g,C,E)=>{for(var b=y(g,C),S=0;S<E.length;S++)b=y(b,E[S]);return b})})}),Ii="subtract",cv=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],lv=Q(Ii,cv,e=>{var{typed:t,matrix:r,equalScalar:n,subtractScalar:i,unaryMinus:u,DenseMatrix:a,concat:f}=e,l=ma({typed:t}),c=rr({typed:t}),o=Xh({typed:t,equalScalar:n}),s=wa({typed:t,DenseMatrix:a}),v=tr({typed:t,DenseMatrix:a}),d=Zt({typed:t,matrix:r,concat:f});return t(Ii,{"any, any":i},d({elop:i,SS:o,DS:l,SD:c,Ss:v,sS:s}))}),hv="matAlgo07xSSf",vv=["typed","SparseMatrix"],mr=Q(hv,vv,e=>{var{typed:t,SparseMatrix:r}=e;return function(u,a,f){var l=u._size,c=u._datatype||u._data===void 0?u._datatype:u.getDataType(),o=a._size,s=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==o.length)throw new _e(l.length,o.length);if(l[0]!==o[0]||l[1]!==o[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+o+")");var v=l[0],d=l[1],p,h=0,D=f;typeof c=="string"&&c===s&&c!=="mixed"&&(p=c,h=t.convert(0,p),D=t.find(f,[p,p]));for(var m=[],_=[],w=new Array(d+1).fill(0),F=[],y=[],g=[],C=[],E=0;E<d;E++){var b=E+1,S=0;n(u,E,g,F,b),n(a,E,C,y,b);for(var M=0;M<v;M++){var I=g[M]===b?F[M]:h,V=C[M]===b?y[M]:h,P=D(I,V);P!==0&&P!==!1&&(_.push(M),m.push(P),S++)}w[E+1]=w[E]+S}return new r({values:m,index:_,ptr:w,size:[v,d],datatype:c===u._datatype&&s===a._datatype?p:void 0})};function n(i,u,a,f,l){for(var c=i._values,o=i._index,s=i._ptr,v=s[u],d=s[u+1];v<d;v++){var p=o[v];a[p]=l,f[p]=c[v]}}}),Pi="conj",dv=["typed"],pv=Q(Pi,dv,e=>{var{typed:t}=e;return t(Pi,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>n=>_t(n,r))})}),Oi="concat",Dv=["typed","matrix","isInteger"],gv=Q(Oi,Dv,e=>{var{typed:t,matrix:r,isInteger:n}=e;return t(Oi,{"...Array | Matrix | number | BigNumber":function(u){var a,f=u.length,l=-1,c,o=!1,s=[];for(a=0;a<f;a++){var v=u[a];if(Ne(v)&&(o=!0),Se(v)||Pe(v)){if(a!==f-1)throw new Error("Dimension must be specified as last argument");if(c=l,l=v.valueOf(),!n(l))throw new TypeError("Integer number expected for dimension");if(l<0||a>0&&l>c)throw new Ot(l,c+1)}else{var d=Ce(v).valueOf(),p=Ye(d);if(s[a]=d,c=l,l=p.length-1,a>0&&l!==c)throw new _e(c+1,l+1)}}if(s.length===0)throw new SyntaxError("At least one matrix expected");for(var h=s.shift();s.length;)h=na(h,s.shift(),l);return o?r(h):h},"...string":function(u){return u.join("")}})}),$i="identity",mv=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],wv=Q($i,mv,e=>{var{typed:t,config:r,matrix:n,BigNumber:i,DenseMatrix:u,SparseMatrix:a}=e;return t($i,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(o){return n(o)},"number | BigNumber":function(o){return l(o,o,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(o,s){return l(o,o,s)},"number | BigNumber, number | BigNumber":function(o,s){return l(o,s,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(o,s,v){return l(o,s,v)},Array:function(o){return f(o)},"Array, string":function(o,s){return f(o,s)},Matrix:function(o){return f(o.valueOf(),o.storage())},"Matrix, string":function(o,s){return f(o.valueOf(),s)}});function f(c,o){switch(c.length){case 0:return o?n(o):[];case 1:return l(c[0],c[0],o);case 2:return l(c[0],c[1],o);default:throw new Error("Vector containing two values expected")}}function l(c,o,s){var v=Pe(c)||Pe(o)?i:null;if(Pe(c)&&(c=c.toNumber()),Pe(o)&&(o=o.toNumber()),!Be(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!Be(o)||o<1)throw new Error("Parameters in function identity must be positive integers");var d=v?new i(1):1,p=v?new v(0):0,h=[c,o];if(s){if(s==="sparse")return a.diagonal(h,d,0,p);if(s==="dense")return u.diagonal(h,d,0,p);throw new TypeError('Unknown matrix type "'.concat(s,'"'))}for(var D=Hr([],h,p),m=c<o?c:o,_=0;_<m;_++)D[_][_]=d;return D}});function ya(){throw new Error('No "bignumber" implementation available')}function yv(){throw new Error('No "fraction" implementation available')}function _a(){throw new Error('No "matrix" implementation available')}var qi="range",_v=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Fv=Q(qi,_v,e=>{var{typed:t,config:r,matrix:n,bignumber:i,smaller:u,smallerEq:a,larger:f,largerEq:l,add:c,isPositive:o}=e;return t(qi,{string:v,"string, boolean":v,number:function(D){throw new TypeError("Too few arguments to function range(): ".concat(D))},boolean:function(D){throw new TypeError("Unexpected type of argument 1 to function range(): ".concat(D,", number|bigint|BigNumber|Fraction"))},"number, number":function(D,m){return s(d(D,m,1,!1))},"number, number, number":function(D,m,_){return s(d(D,m,_,!1))},"number, number, boolean":function(D,m,_){return s(d(D,m,1,_))},"number, number, number, boolean":function(D,m,_,w){return s(d(D,m,_,w))},"bigint, bigint|number":function(D,m){return s(d(D,m,1n,!1))},"number, bigint":function(D,m){return s(d(BigInt(D),m,1n,!1))},"bigint, bigint|number, bigint|number":function(D,m,_){return s(d(D,m,BigInt(_),!1))},"number, bigint, bigint|number":function(D,m,_){return s(d(BigInt(D),m,BigInt(_),!1))},"bigint, bigint|number, boolean":function(D,m,_){return s(d(D,m,1n,_))},"number, bigint, boolean":function(D,m,_){return s(d(BigInt(D),m,1n,_))},"bigint, bigint|number, bigint|number, boolean":function(D,m,_,w){return s(d(D,m,BigInt(_),w))},"number, bigint, bigint|number, boolean":function(D,m,_,w){return s(d(BigInt(D),m,BigInt(_),w))},"BigNumber, BigNumber":function(D,m){var _=D.constructor;return s(d(D,m,new _(1),!1))},"BigNumber, BigNumber, BigNumber":function(D,m,_){return s(d(D,m,_,!1))},"BigNumber, BigNumber, boolean":function(D,m,_){var w=D.constructor;return s(d(D,m,new w(1),_))},"BigNumber, BigNumber, BigNumber, boolean":function(D,m,_,w){return s(d(D,m,_,w))},"Fraction, Fraction":function(D,m){return s(d(D,m,1,!1))},"Fraction, Fraction, Fraction":function(D,m,_){return s(d(D,m,_,!1))},"Fraction, Fraction, boolean":function(D,m,_){return s(d(D,m,1,_))},"Fraction, Fraction, Fraction, boolean":function(D,m,_,w){return s(d(D,m,_,w))},"Unit, Unit, Unit":function(D,m,_){return s(d(D,m,_,!1))},"Unit, Unit, Unit, boolean":function(D,m,_,w){return s(d(D,m,_,w))}});function s(h){return r.matrix==="Matrix"?n?n(h):_a():h}function v(h,D){var m=p(h);if(!m)throw new SyntaxError('String "'+h+'" is no valid range');return r.number==="BigNumber"?(i===void 0&&ya(),s(d(i(m.start),i(m.end),i(m.step)))):s(d(m.start,m.end,m.step,D))}function d(h,D,m,_){for(var w=[],F=o(m)?_?a:u:_?l:f,y=h;F(y,D);)w.push(y),y=c(y,m);return w}function p(h){var D=h.split(":"),m=D.map(function(w){return Number(w)}),_=m.some(function(w){return isNaN(w)});if(_)return null;switch(m.length){case 2:return{start:m[0],end:m[1],step:1};case 3:return{start:m[0],end:m[2],step:m[1]};default:return null}}}),Ri="size",Av=["typed","config","?matrix"],bv=Q(Ri,Av,e=>{var{typed:t,config:r,matrix:n}=e;return t(Ri,{Matrix:function(u){return u.create(u.size(),"number")},Array:Ye,string:function(u){return r.matrix==="Array"?[u.length]:n([u.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(u){return r.matrix==="Array"?[]:n?n([],"dense","number"):_a()}})}),Ui="transpose",Ev=["typed","matrix"],Cv=Q(Ui,Ev,e=>{var{typed:t,matrix:r}=e;return t(Ui,{Array:a=>n(r(a)).valueOf(),Matrix:n,any:Ce});function n(a){var f=a.size(),l;switch(f.length){case 1:l=a.clone();break;case 2:{var c=f[0],o=f[1];if(o===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+xe(f)+")");switch(a.storage()){case"dense":l=i(a,c,o);break;case"sparse":l=u(a,c,o);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+xe(f)+")")}return l}function i(a,f,l){for(var c=a._data,o=[],s,v=0;v<l;v++){s=o[v]=[];for(var d=0;d<f;d++)s[d]=Ce(c[d][v])}return a.createDenseMatrix({data:o,size:[l,f],datatype:a._datatype})}function u(a,f,l){for(var c=a._values,o=a._index,s=a._ptr,v=c?[]:void 0,d=[],p=[],h=[],D=0;D<f;D++)h[D]=0;var m,_,w;for(m=0,_=o.length;m<_;m++)h[o[m]]++;for(var F=0,y=0;y<f;y++)p.push(F),F+=h[y],h[y]=p[y];for(p.push(F),w=0;w<l;w++)for(var g=s[w],C=s[w+1],E=g;E<C;E++){var b=h[o[E]]++;d[b]=w,c&&(v[b]=Ce(c[E]))}return a.createSparseMatrix({values:v,index:d,ptr:p,size:[l,f],datatype:a._datatype})}}),Li="zeros",Sv=["typed","config","matrix","BigNumber"],Bv=Q(Li,Sv,e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t(Li,{"":function(){return r.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(c){var o=c[c.length-1];if(typeof o=="string"){var s=c.pop();return u(c,s)}else return r.matrix==="Array"?u(c):u(c,"default")},Array:u,Matrix:function(c){var o=c.storage();return u(c.valueOf(),o)},"Array | Matrix, string":function(c,o){return u(c.valueOf(),o)}});function u(l,c){var o=a(l),s=o?new i(0):0;if(f(l),c){var v=n(c);return l.length>0?v.resize(l,s):v}else{var d=[];return l.length>0?Hr(d,l,s):d}}function a(l){var c=!1;return l.forEach(function(o,s,v){Pe(o)&&(c=!0,v[s]=o.toNumber())}),c}function f(l){l.forEach(function(c){if(typeof c!="number"||!Be(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}});function Vi(e,t,r){var n;return String(e).includes("Unexpected type")?(n=arguments.length>2?" (type: "+mt(r)+", value: "+JSON.stringify(r)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+n)):String(e).includes("complex numbers")?(n=arguments.length>2?" (type: "+mt(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+n)):e}var Mv="numeric",xv=["number","?bignumber","?fraction"],Nv=Q(Mv,xv,e=>{var{number:t,bignumber:r,fraction:n}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:a=>t(a),BigNumber:r?a=>r(a):ya,bigint:a=>BigInt(a),Fraction:n?a=>n(a):yv};return function(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(c!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var o=mt(f);if(!(o in i))throw new TypeError("Cannot convert "+f+' of type "'+o+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in u))throw new TypeError("Cannot convert "+f+' to type "'+l+'"; valid output types are '+Object.keys(u).join(", "));return l===o?f:u[l](f)}}),Zi="divideScalar",Tv=["typed","numeric"],zv=Q(Zi,Tv,e=>{var{typed:t,numeric:r}=e;return t(Zi,{"number, number":function(i,u){return i/u},"Complex, Complex":function(i,u){return i.div(u)},"BigNumber, BigNumber":function(i,u){return i.div(u)},"bigint, bigint":function(i,u){return i/u},"Fraction, Fraction":function(i,u){return i.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),Hi="pow",Iv=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],Pv=Q(Hi,Iv,e=>{var{typed:t,config:r,identity:n,multiply:i,matrix:u,inv:a,number:f,fraction:l,Complex:c}=e;return t(Hi,{"number, number":o,"Complex, Complex":function(p,h){return p.pow(h)},"BigNumber, BigNumber":function(p,h){return h.isInteger()||p>=0||r.predictable?p.pow(h):new c(p.toNumber(),0).pow(h.toNumber(),0)},"bigint, bigint":(d,p)=>d**p,"Fraction, Fraction":function(p,h){var D=p.pow(h);if(D!=null)return D;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return o(p.valueOf(),h.valueOf())},"Array, number":s,"Array, BigNumber":function(p,h){return s(p,h.toNumber())},"Matrix, number":v,"Matrix, BigNumber":function(p,h){return v(p,h.toNumber())},"Unit, number | BigNumber":function(p,h){return p.pow(h)}});function o(d,p){if(r.predictable&&!Be(p)&&d<0)try{var h=l(p),D=f(h);if((p===D||Math.abs((p-D)/p)<1e-14)&&h.d%2n===1n)return(h.n%2n===0n?1:-1)*Math.pow(-d,p)}catch{}return r.predictable&&(d<-1&&p===1/0||d>-1&&d<0&&p===-1/0)?NaN:Be(p)||d>=0||r.predictable?da(d,p):d*d<1&&p===1/0||d*d>1&&p===-1/0?0:new c(d,0).pow(p,0)}function s(d,p){if(!Be(p))throw new TypeError("For A^b, b must be an integer (value is "+p+")");var h=Ye(d);if(h.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+h.length+" dimensions)");if(h[0]!==h[1])throw new Error("For A^b, A must be square (size is "+h[0]+"x"+h[1]+")");if(p<0)try{return s(a(d),-p)}catch(_){throw _.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+p+")"):_}for(var D=n(h[0]).valueOf(),m=d;p>=1;)(p&1)===1&&(D=i(m,D)),p>>=1,m=i(m,m);return D}function v(d,p){return u(s(d.valueOf(),p))}}),Xi="dotPow",Ov=["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],$v=Q(Xi,Ov,e=>{var{typed:t,equalScalar:r,matrix:n,pow:i,DenseMatrix:u,concat:a,SparseMatrix:f}=e,l=rr({typed:t}),c=mr({typed:t,SparseMatrix:f}),o=Da({typed:t,equalScalar:r}),s=tr({typed:t,DenseMatrix:u}),v=Zt({typed:t,matrix:n,concat:a}),d={};for(var p in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,p)&&!p.includes("Matrix")&&!p.includes("Array")&&(d[p]=i.signatures[p]);var h=t(d);return t(Xi,v({elop:h,SS:c,DS:l,Ss:o,sS:s}))});function Yn(e){var{DenseMatrix:t}=e;return function(n,i,u){var a=n.size();if(a.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+xe(a)+")");var f=a[0],l=a[1];if(f!==l)throw new RangeError("Matrix must be square (size: "+xe(a)+")");var c=[];if(Ne(i)){var o=i.size(),s=i._data;if(o.length===1){if(o[0]!==f)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var v=0;v<f;v++)c[v]=[s[v]];return new t({data:c,size:[f,1],datatype:i._datatype})}if(o.length===2){if(o[0]!==f||o[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(zu(i)){if(u){c=[];for(var d=0;d<f;d++)c[d]=[s[d][0]];return new t({data:c,size:[f,1],datatype:i._datatype})}return i}if(Iu(i)){for(var p=0;p<f;p++)c[p]=[0];for(var h=i._values,D=i._index,m=i._ptr,_=m[1],w=m[0];w<_;w++){var F=D[w];c[F][0]=h[w]}return new t({data:c,size:[f,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Ie(i)){var y=Ye(i);if(y.length===1){if(y[0]!==f)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var g=0;g<f;g++)c[g]=[i[g]];return new t({data:c,size:[f,1]})}if(y.length===2){if(y[0]!==f||y[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var C=0;C<f;C++)c[C]=[i[C][0]];return new t({data:c,size:[f,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Yi="lsolve",qv=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Rv=Q(Yi,qv,e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:u,equalScalar:a,DenseMatrix:f}=e,l=Yn({DenseMatrix:f});return t(Yi,{"SparseMatrix, Array | Matrix":function(v,d){return o(v,d)},"DenseMatrix, Array | Matrix":function(v,d){return c(v,d)},"Array, Array | Matrix":function(v,d){var p=r(v),h=c(p,d);return h.valueOf()}});function c(s,v){v=l(s,v,!0);for(var d=v._data,p=s._size[0],h=s._size[1],D=[],m=s._data,_=0;_<h;_++){var w=d[_][0]||0,F=void 0;if(a(w,0))F=0;else{var y=m[_][_];if(a(y,0))throw new Error("Linear system cannot be solved since matrix is singular");F=n(w,y);for(var g=_+1;g<p;g++)d[g]=[u(d[g][0]||0,i(F,m[g][_]))]}D[_]=[F]}return new f({data:D,size:[p,1]})}function o(s,v){v=l(s,v,!0);for(var d=v._data,p=s._size[0],h=s._size[1],D=s._values,m=s._index,_=s._ptr,w=[],F=0;F<h;F++){var y=d[F][0]||0;if(a(y,0))w[F]=[0];else{for(var g=0,C=[],E=[],b=_[F],S=_[F+1],M=b;M<S;M++){var I=m[M];I===F?g=D[M]:I>F&&(C.push(D[M]),E.push(I))}if(a(g,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var V=n(y,g),P=0,O=E.length;P<O;P++){var N=E[P];d[N]=[u(d[N][0]||0,i(V,C[P]))]}w[F]=[V]}}return new f({data:w,size:[p,1]})}}),Gi="usolve",Uv=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Lv=Q(Gi,Uv,e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:u,equalScalar:a,DenseMatrix:f}=e,l=Yn({DenseMatrix:f});return t(Gi,{"SparseMatrix, Array | Matrix":function(v,d){return o(v,d)},"DenseMatrix, Array | Matrix":function(v,d){return c(v,d)},"Array, Array | Matrix":function(v,d){var p=r(v),h=c(p,d);return h.valueOf()}});function c(s,v){v=l(s,v,!0);for(var d=v._data,p=s._size[0],h=s._size[1],D=[],m=s._data,_=h-1;_>=0;_--){var w=d[_][0]||0,F=void 0;if(a(w,0))F=0;else{var y=m[_][_];if(a(y,0))throw new Error("Linear system cannot be solved since matrix is singular");F=n(w,y);for(var g=_-1;g>=0;g--)d[g]=[u(d[g][0]||0,i(F,m[g][_]))]}D[_]=[F]}return new f({data:D,size:[p,1]})}function o(s,v){v=l(s,v,!0);for(var d=v._data,p=s._size[0],h=s._size[1],D=s._values,m=s._index,_=s._ptr,w=[],F=h-1;F>=0;F--){var y=d[F][0]||0;if(a(y,0))w[F]=[0];else{for(var g=0,C=[],E=[],b=_[F],S=_[F+1],M=S-1;M>=b;M--){var I=m[M];I===F?g=D[M]:I<F&&(C.push(D[M]),E.push(I))}if(a(g,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var V=n(y,g),P=0,O=E.length;P<O;P++){var N=E[P];d[N]=[u(d[N][0],i(V,C[P]))]}w[F]=[V]}}return new f({data:w,size:[p,1]})}}),Jr="smaller",Vv=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],Zv=Q(Jr,Vv,e=>{var{typed:t,config:r,bignumber:n,matrix:i,DenseMatrix:u,concat:a,SparseMatrix:f}=e,l=rr({typed:t}),c=mr({typed:t,SparseMatrix:f}),o=tr({typed:t,DenseMatrix:u}),s=Zt({typed:t,matrix:i,concat:a}),v=gr({typed:t});function d(p,h){return p.lt(h)&&!er(p,h,r.relTol,r.absTol)}return t(Jr,Hv({typed:t,config:r}),{"boolean, boolean":(p,h)=>p<h,"BigNumber, BigNumber":d,"bigint, bigint":(p,h)=>p<h,"Fraction, Fraction":(p,h)=>p.compare(h)===-1,"Fraction, BigNumber":function(h,D){return d(n(h),D)},"BigNumber, Fraction":function(h,D){return d(h,n(D))},"Complex, Complex":function(h,D){throw new TypeError("No ordering relation is defined for complex numbers")}},v,s({SS:c,DS:l,Ss:o}))}),Hv=Q(Jr,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Jr,{"number, number":function(i,u){return i<u&&!Bt(i,u,r.relTol,r.absTol)}})}),Wr="smallerEq",Xv=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],Yv=Q(Wr,Xv,e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i,concat:u,SparseMatrix:a}=e,f=rr({typed:t}),l=mr({typed:t,SparseMatrix:a}),c=tr({typed:t,DenseMatrix:i}),o=Zt({typed:t,matrix:n,concat:u}),s=gr({typed:t});return t(Wr,Gv({typed:t,config:r}),{"boolean, boolean":(v,d)=>v<=d,"BigNumber, BigNumber":function(d,p){return d.lte(p)||er(d,p,r.relTol,r.absTol)},"bigint, bigint":(v,d)=>v<=d,"Fraction, Fraction":(v,d)=>v.compare(d)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},s,o({SS:l,DS:f,Ss:c}))}),Gv=Q(Wr,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Wr,{"number, number":function(i,u){return i<=u||Bt(i,u,r.relTol,r.absTol)}})}),Kr="larger",Jv=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],Wv=Q(Kr,Jv,e=>{var{typed:t,config:r,bignumber:n,matrix:i,DenseMatrix:u,concat:a,SparseMatrix:f}=e,l=rr({typed:t}),c=mr({typed:t,SparseMatrix:f}),o=tr({typed:t,DenseMatrix:u}),s=Zt({typed:t,matrix:i,concat:a}),v=gr({typed:t});function d(p,h){return p.gt(h)&&!er(p,h,r.relTol,r.absTol)}return t(Kr,Kv({typed:t,config:r}),{"boolean, boolean":(p,h)=>p>h,"BigNumber, BigNumber":d,"bigint, bigint":(p,h)=>p>h,"Fraction, Fraction":(p,h)=>p.compare(h)===1,"Fraction, BigNumber":function(h,D){return d(n(h),D)},"BigNumber, Fraction":function(h,D){return d(h,n(D))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},v,s({SS:c,DS:l,Ss:o}))}),Kv=Q(Kr,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Kr,{"number, number":function(i,u){return i>u&&!Bt(i,u,r.relTol,r.absTol)}})}),Qr="largerEq",Qv=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],kv=Q(Qr,Qv,e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i,concat:u,SparseMatrix:a}=e,f=rr({typed:t}),l=mr({typed:t,SparseMatrix:a}),c=tr({typed:t,DenseMatrix:i}),o=Zt({typed:t,matrix:n,concat:u}),s=gr({typed:t});return t(Qr,jv({typed:t,config:r}),{"boolean, boolean":(v,d)=>v>=d,"BigNumber, BigNumber":function(d,p){return d.gte(p)||er(d,p,r.relTol,r.absTol)},"bigint, bigint":function(d,p){return d>=p},"Fraction, Fraction":(v,d)=>v.compare(d)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},s,o({SS:l,DS:f,Ss:c}))}),jv=Q(Qr,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Qr,{"number, number":function(i,u){return i>=u||Bt(i,u,r.relTol,r.absTol)}})}),e1="FibonacciHeap",t1=["smaller","larger"],r1=Q(e1,t1,e=>{var{smaller:t,larger:r}=e,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(o,s){var v={key:o,value:s,degree:0};if(this._minimum){var d=this._minimum;v.left=d,v.right=d.right,d.right=v,v.right.left=v,t(o,d.key)&&(this._minimum=v)}else v.left=v,v.right=v,this._minimum=v;return this._size++,v},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var o=this._minimum;if(o===null)return o;for(var s=this._minimum,v=o.degree,d=o.child;v>0;){var p=d.right;d.left.right=d.right,d.right.left=d.left,d.left=s,d.right=s.right,s.right=d,d.right.left=d,d.parent=null,d=p,v--}return o.left.right=o.right,o.right.left=o.left,o===o.right?s=null:(s=o.right,s=c(s,this._size)),this._size--,this._minimum=s,o},i.prototype.remove=function(o){this._minimum=u(this._minimum,o,-1),this.extractMinimum()};function u(o,s,v){s.key=v;var d=s.parent;return d&&t(s.key,d.key)&&(a(o,s,d),f(o,d)),t(s.key,o.key)&&(o=s),o}function a(o,s,v){s.left.right=s.right,s.right.left=s.left,v.degree--,v.child===s&&(v.child=s.right),v.degree===0&&(v.child=null),s.left=o,s.right=o.right,o.right=s,s.right.left=s,s.parent=null,s.mark=!1}function f(o,s){var v=s.parent;v&&(s.mark?(a(o,s,v),f(v)):s.mark=!0)}var l=function(s,v){s.left.right=s.right,s.right.left=s.left,s.parent=v,v.child?(s.left=v.child,s.right=v.child.right,v.child.right=s,s.right.left=s):(v.child=s,s.right=s,s.left=s),v.degree++,s.mark=!1};function c(o,s){var v=Math.floor(Math.log(s)*n)+1,d=new Array(v),p=0,h=o;if(h)for(p++,h=h.right;h!==o;)p++,h=h.right;for(var D;p>0;){for(var m=h.degree,_=h.right;D=d[m],!!D;){if(r(h.key,D.key)){var w=D;D=h,h=w}l(D,h),d[m]=null,m++}d[m]=h,h=_,p--}o=null;for(var F=0;F<v;F++)D=d[F],D&&(o?(D.left.right=D.right,D.right.left=D.left,D.left=o,D.right=o.right,o.right=D,D.right.left=D,t(D.key,o.key)&&(o=D)):o=D);return o}return i},{isClass:!0}),n1="Spa",i1=["addScalar","equalScalar","FibonacciHeap"],u1=Q(n1,i1,e=>{var{addScalar:t,equalScalar:r,FibonacciHeap:n}=e;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(u,a){if(this._values[u])this._values[u].value=a;else{var f=this._heap.insert(u,a);this._values[u]=f}},i.prototype.get=function(u){var a=this._values[u];return a?a.value:0},i.prototype.accumulate=function(u,a){var f=this._values[u];f?f.value=t(f.value,a):(f=this._heap.insert(u,a),this._values[u]=f)},i.prototype.forEach=function(u,a,f){var l=this._heap,c=this._values,o=[],s=l.extractMinimum();for(s&&o.push(s);s&&s.key<=a;)s.key>=u&&(r(s.value,0)||f(s.key,s.value,this)),s=l.extractMinimum(),s&&o.push(s);for(var v=0;v<o.length;v++){var d=o[v];s=l.insert(d.key,d.value),c[s.key]=s}},i.prototype.swap=function(u,a){var f=this._values[u],l=this._values[a];if(!f&&l)f=this._heap.insert(u,l.value),this._heap.remove(l),this._values[u]=f,this._values[a]=void 0;else if(f&&!l)l=this._heap.insert(a,f.value),this._heap.remove(f),this._values[a]=l,this._values[u]=void 0;else if(f&&l){var c=f.value;f.value=l.value,l.value=c}},i},{isClass:!0}),Ji="add",a1=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],o1=Q(Ji,a1,e=>{var{typed:t,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:u,SparseMatrix:a,concat:f}=e,l=ma({typed:t}),c=rv({typed:t,equalScalar:i}),o=wa({typed:t,DenseMatrix:u}),s=Zt({typed:t,matrix:r,concat:f});return t(Ji,{"any, any":n,"any, any, ...any":t.referToSelf(v=>(d,p,h)=>{for(var D=v(d,p),m=0;m<h.length;m++)D=v(D,h[m]);return D})},s({elop:n,DS:l,SS:c,Ss:o}))}),Wi="dot",s1=["typed","addScalar","multiplyScalar","conj","size"],f1=Q(Wi,s1,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:i,size:u}=e;return t(Wi,{"Array | DenseMatrix, Array | DenseMatrix":f,"SparseMatrix, SparseMatrix":l});function a(o,s){var v=c(o),d=c(s),p,h;if(v.length===1)p=v[0];else if(v.length===2&&v[1]===1)p=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(d.length===1)h=d[0];else if(d.length===2&&d[1]===1)h=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(p!==h)throw new RangeError("Vectors must have equal length ("+p+" != "+h+")");if(p===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return p}function f(o,s){var v=a(o,s),d=Ne(o)?o._data:o,p=Ne(o)?o._datatype||o.getDataType():void 0,h=Ne(s)?s._data:s,D=Ne(s)?s._datatype||s.getDataType():void 0,m=c(o).length===2,_=c(s).length===2,w=r,F=n;if(p&&D&&p===D&&typeof p=="string"&&p!=="mixed"){var y=p;w=t.find(r,[y,y]),F=t.find(n,[y,y])}if(!m&&!_){for(var g=F(i(d[0]),h[0]),C=1;C<v;C++)g=w(g,F(i(d[C]),h[C]));return g}if(!m&&_){for(var E=F(i(d[0]),h[0][0]),b=1;b<v;b++)E=w(E,F(i(d[b]),h[b][0]));return E}if(m&&!_){for(var S=F(i(d[0][0]),h[0]),M=1;M<v;M++)S=w(S,F(i(d[M][0]),h[M]));return S}if(m&&_){for(var I=F(i(d[0][0]),h[0][0]),V=1;V<v;V++)I=w(I,F(i(d[V][0]),h[V][0]));return I}}function l(o,s){a(o,s);for(var v=o._index,d=o._values,p=s._index,h=s._values,D=0,m=r,_=n,w=0,F=0;w<v.length&&F<p.length;){var y=v[w],g=p[F];if(y<g){w++;continue}if(y>g){F++;continue}y===g&&(D=m(D,_(d[w],h[F])),w++,F++)}return D}function c(o){return Ne(o)?o.size():u(o)}}),Ki="lup",c1=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],l1=Q(Ki,c1,e=>{var{typed:t,matrix:r,abs:n,addScalar:i,divideScalar:u,multiplyScalar:a,subtractScalar:f,larger:l,equalScalar:c,unaryMinus:o,DenseMatrix:s,SparseMatrix:v,Spa:d}=e;return t(Ki,{DenseMatrix:function(m){return p(m)},SparseMatrix:function(m){return h(m)},Array:function(m){var _=r(m),w=p(_);return{L:w.L.valueOf(),U:w.U.valueOf(),p:w.p}}});function p(D){var m=D._size[0],_=D._size[1],w=Math.min(m,_),F=Ce(D._data),y=[],g=[m,w],C=[],E=[w,_],b,S,M,I=[];for(b=0;b<m;b++)I[b]=b;for(S=0;S<_;S++){if(S>0)for(b=0;b<m;b++){var V=Math.min(b,S),P=0;for(M=0;M<V;M++)P=i(P,a(F[b][M],F[M][S]));F[b][S]=f(F[b][S],P)}var O=S,N=0,W=0;for(b=S;b<m;b++){var X=F[b][S],T=n(X);l(T,N)&&(O=b,N=T,W=X)}if(S!==O&&(I[S]=[I[O],I[O]=I[S]][0],s._swapRows(S,O,F)),S<m)for(b=S+1;b<m;b++){var Y=F[b][S];c(Y,0)||(F[b][S]=u(F[b][S],W))}}for(S=0;S<_;S++)for(b=0;b<m;b++){if(S===0&&(b<_&&(C[b]=[]),y[b]=[]),b<S){b<_&&(C[b][S]=F[b][S]),S<m&&(y[b][S]=0);continue}if(b===S){b<_&&(C[b][S]=F[b][S]),S<m&&(y[b][S]=1);continue}b<_&&(C[b][S]=0),S<m&&(y[b][S]=F[b][S])}var k=new s({data:y,size:g}),ae=new s({data:C,size:E}),re=[];for(b=0,w=I.length;b<w;b++)re[I[b]]=b;return{L:k,U:ae,p:re,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function h(D){var m=D._size[0],_=D._size[1],w=Math.min(m,_),F=D._values,y=D._index,g=D._ptr,C=[],E=[],b=[],S=[m,w],M=[],I=[],V=[],P=[w,_],O,N,W,X=[],T=[];for(O=0;O<m;O++)X[O]=O,T[O]=O;var Y=function(re,j){var we=T[re],ce=T[j];X[we]=j,X[ce]=re,T[re]=ce,T[j]=we},k=function(){var re=new d;N<m&&(b.push(C.length),C.push(1),E.push(N)),V.push(M.length);var j=g[N],we=g[N+1];for(W=j;W<we;W++)O=y[W],re.set(X[O],F[W]);N>0&&re.forEach(0,N-1,function(se,ne){v._forEachRow(se,C,E,b,function(Ee,Fe){Ee>se&&re.accumulate(Ee,o(a(Fe,ne)))})});var ce=N,ue=re.get(N),de=n(ue);re.forEach(N+1,m-1,function(se,ne){var Ee=n(ne);l(Ee,de)&&(ce=se,de=Ee,ue=ne)}),N!==ce&&(v._swapRows(N,ce,S[1],C,E,b),v._swapRows(N,ce,P[1],M,I,V),re.swap(N,ce),Y(N,ce)),re.forEach(0,m-1,function(se,ne){se<=N?(M.push(ne),I.push(se)):(ne=u(ne,ue),c(ne,0)||(C.push(ne),E.push(se)))})};for(N=0;N<_;N++)k();return V.push(M.length),b.push(C.length),{L:new v({values:C,index:E,ptr:b,size:S}),U:new v({values:M,index:I,ptr:V,size:P}),p:X,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});function h1(e,t,r,n){e._values;for(var i=e._index,u=e._ptr,a=e._size,f=e._datatype,l=a[0],c=a[1],o=null,s=[],v=[],d=0,p=0;p<c;p++){v[p]=d;for(var h=r?r[p]:p,D=u[h],m=u[h+1],_=D;_<m;_++){var w=i[_];s[d]=w,d++}}return v[c]=d,e.createSparseMatrix({values:o,index:s,ptr:v,size:[l,c],datatype:f})}function Fa(e,t,r,n,i,u,a){var f=0;for(r[a]=e;f>=0;){var l=r[a+f],c=r[n+l];c===-1?(f--,u[t++]=l):(r[n+l]=r[i+c],++f,r[a+f]=c)}return t}function v1(e,t){if(!e)return null;var r=0,n,i=[],u=[],a=0,f=t,l=2*t;for(n=0;n<t;n++)u[a+n]=-1;for(n=t-1;n>=0;n--)e[n]!==-1&&(u[f+n]=u[a+e[n]],u[a+e[n]]=n);for(n=0;n<t;n++)e[n]===-1&&(r=Fa(n,r,u,a,f,i,l));return i}function d1(e,t){if(!e)return null;var r=e._index,n=e._ptr,i=e._size,u=i[0],a=i[1],f=[],l=[],c=0,o=a,s,v;for(s=0;s<u;s++)l[o+s]=-1;for(var d=0;d<a;d++){f[d]=-1,l[c+d]=-1;for(var p=n[d],h=n[d+1],D=p;D<h;D++){var m=r[D];for(s=l[o+m];s!==-1&&s<d;s=v)v=l[c+s],l[c+s]=d,v===-1&&(f[s]=d);l[o+m]=d}}return f}function p1(e,t,r){for(var n=e._values,i=e._index,u=e._ptr,a=e._size,f=a[1],l=0,c=0;c<f;c++){var o=u[c];for(u[c]=l;o<u[c+1];o++)t(i[o],c,n?n[o]:1,r)&&(i[l]=i[o],n&&(n[l]=n[o]),l++)}return u[f]=l,i.splice(l,i.length-l),n&&n.splice(l,n.length-l),l}function Nt(e){return-e-2}var D1="csAmd",g1=["add","multiply","transpose"],m1=Q(D1,g1,e=>{var{add:t,multiply:r,transpose:n}=e;return function(o,s){if(!s||o<=0||o>3)return null;var v=s._size,d=v[0],p=v[1],h=0,D=Math.max(16,10*Math.sqrt(p));D=Math.min(p-2,D);var m=i(o,s,d,p,D);p1(m,l,null);for(var _=m._index,w=m._ptr,F=w[p],y=[],g=[],C=0,E=p+1,b=2*(p+1),S=3*(p+1),M=4*(p+1),I=5*(p+1),V=6*(p+1),P=7*(p+1),O=y,N=u(p,w,g,C,S,O,b,P,E,V,M,I),W=a(p,w,g,I,M,V,D,E,S,O,b),X=0,T,Y,k,ae,re,j,we,ce,ue,de,se,ne,Ee,Fe,fe,De;W<p;){for(k=-1;X<p&&(k=g[S+X])===-1;X++);g[b+k]!==-1&&(O[g[b+k]]=-1),g[S+X]=g[b+k];var Oe=g[M+k],Ue=g[E+k];W+=Ue;var Le=0;g[E+k]=-Ue;var pe=w[k],qe=Oe===0?pe:F,it=qe;for(ae=1;ae<=Oe+1;ae++){for(ae>Oe?(j=k,we=pe,ce=g[C+k]-Oe):(j=_[pe++],we=w[j],ce=g[C+j]),re=1;re<=ce;re++)T=_[we++],!((ue=g[E+T])<=0)&&(Le+=ue,g[E+T]=-ue,_[it++]=T,g[b+T]!==-1&&(O[g[b+T]]=O[T]),O[T]!==-1?g[b+O[T]]=g[b+T]:g[S+g[I+T]]=g[b+T]);j!==k&&(w[j]=Nt(k),g[V+j]=0)}for(Oe!==0&&(F=it),g[I+k]=Le,w[k]=qe,g[C+k]=it-qe,g[M+k]=-2,N=f(N,h,g,V,p),de=qe;de<it;de++)if(T=_[de],!((se=g[M+T])<=0)){ue=-g[E+T];var q=N-ue;for(pe=w[T],ne=w[T]+se-1;pe<=ne;pe++)j=_[pe],g[V+j]>=N?g[V+j]-=ue:g[V+j]!==0&&(g[V+j]=g[I+j]+q)}for(de=qe;de<it;de++){for(T=_[de],ne=w[T],Ee=ne+g[M+T]-1,Fe=ne,fe=0,De=0,pe=ne;pe<=Ee;pe++)if(j=_[pe],g[V+j]!==0){var ge=g[V+j]-N;ge>0?(De+=ge,_[Fe++]=j,fe+=j):(w[j]=Nt(k),g[V+j]=0)}g[M+T]=Fe-ne+1;var A=Fe,B=ne+g[C+T];for(pe=Ee+1;pe<B;pe++){Y=_[pe];var x=g[E+Y];x<=0||(De+=x,_[Fe++]=Y,fe+=Y)}De===0?(w[T]=Nt(k),ue=-g[E+T],Le-=ue,Ue+=ue,W+=ue,g[E+T]=0,g[M+T]=-1):(g[I+T]=Math.min(g[I+T],De),_[Fe]=_[A],_[A]=_[ne],_[ne]=k,g[C+T]=Fe-ne+1,fe=(fe<0?-fe:fe)%p,g[b+T]=g[P+fe],g[P+fe]=T,O[T]=fe)}for(g[I+k]=Le,h=Math.max(h,Le),N=f(N+h,h,g,V,p),de=qe;de<it;de++)if(T=_[de],!(g[E+T]>=0))for(fe=O[T],T=g[P+fe],g[P+fe]=-1;T!==-1&&g[b+T]!==-1;T=g[b+T],N++){for(ce=g[C+T],se=g[M+T],pe=w[T]+1;pe<=w[T]+ce-1;pe++)g[V+_[pe]]=N;var z=T;for(Y=g[b+T];Y!==-1;){var R=g[C+Y]===ce&&g[M+Y]===se;for(pe=w[Y]+1;R&&pe<=w[Y]+ce-1;pe++)g[V+_[pe]]!==N&&(R=0);R?(w[Y]=Nt(T),g[E+T]+=g[E+Y],g[E+Y]=0,g[M+Y]=-1,Y=g[b+Y],g[b+z]=Y):(z=Y,Y=g[b+Y])}}for(pe=qe,de=qe;de<it;de++)T=_[de],!((ue=-g[E+T])<=0)&&(g[E+T]=ue,De=g[I+T]+Le-ue,De=Math.min(De,p-W-ue),g[S+De]!==-1&&(O[g[S+De]]=T),g[b+T]=g[S+De],O[T]=-1,g[S+De]=T,X=Math.min(X,De),g[I+T]=De,_[pe++]=T);g[E+k]=Ue,(g[C+k]=pe-qe)===0&&(w[k]=-1,g[V+k]=0),Oe!==0&&(F=pe)}for(T=0;T<p;T++)w[T]=Nt(w[T]);for(Y=0;Y<=p;Y++)g[S+Y]=-1;for(Y=p;Y>=0;Y--)g[E+Y]>0||(g[b+Y]=g[S+w[Y]],g[S+w[Y]]=Y);for(j=p;j>=0;j--)g[E+j]<=0||w[j]!==-1&&(g[b+j]=g[S+w[j]],g[S+w[j]]=j);for(k=0,T=0;T<=p;T++)w[T]===-1&&(k=Fa(T,k,g,S,b,y,V));return y.splice(y.length-1,1),y};function i(c,o,s,v,d){var p=n(o);if(c===1&&v===s)return t(o,p);if(c===2){for(var h=p._index,D=p._ptr,m=0,_=0;_<s;_++){var w=D[_];if(D[_]=m,!(D[_+1]-w>d))for(var F=D[_+1];w<F;w++)h[m++]=h[w]}return D[s]=m,o=n(p),r(p,o)}return r(p,o)}function u(c,o,s,v,d,p,h,D,m,_,w,F){for(var y=0;y<c;y++)s[v+y]=o[y+1]-o[y];s[v+c]=0;for(var g=0;g<=c;g++)s[d+g]=-1,p[g]=-1,s[h+g]=-1,s[D+g]=-1,s[m+g]=1,s[_+g]=1,s[w+g]=0,s[F+g]=s[v+g];var C=f(0,0,s,_,c);return s[w+c]=-2,o[c]=-1,s[_+c]=0,C}function a(c,o,s,v,d,p,h,D,m,_,w){for(var F=0,y=0;y<c;y++){var g=s[v+y];if(g===0)s[d+y]=-2,F++,o[y]=-1,s[p+y]=0;else if(g>h)s[D+y]=0,s[d+y]=-1,F++,o[y]=Nt(c),s[D+c]++;else{var C=s[m+g];C!==-1&&(_[C]=y),s[w+y]=s[m+g],s[m+g]=y}}return F}function f(c,o,s,v,d){if(c<2||c+o<0){for(var p=0;p<d;p++)s[v+p]!==0&&(s[v+p]=1);c=2}return c}function l(c,o){return c!==o}});function w1(e,t,r,n,i,u,a){var f,l,c=0,o;if(e<=t||r[n+t]<=r[i+e])return-1;r[i+e]=r[n+t];var s=r[u+e];if(r[u+e]=t,s===-1)c=1,o=e;else{for(c=2,o=s;o!==r[a+o];o=r[a+o]);for(f=s;f!==o;f=l)l=r[a+f],r[a+f]=o}return{jleaf:c,q:o}}var y1="csCounts",_1=["transpose"],F1=Q(y1,_1,e=>{var{transpose:t}=e;return function(r,n,i,u){if(!r||!n||!i)return null;var a=r._size,f=a[0],l=a[1],c,o,s,v,d,p,h,D=4*l+(u?l+f+1:0),m=[],_=0,w=l,F=2*l,y=3*l,g=4*l,C=5*l+1;for(s=0;s<D;s++)m[s]=-1;var E=[],b=t(r),S=b._index,M=b._ptr;for(s=0;s<l;s++)for(o=i[s],E[o]=m[y+o]===-1?1:0;o!==-1&&m[y+o]===-1;o=n[o])m[y+o]=s;if(u){for(s=0;s<l;s++)m[i[s]]=s;for(c=0;c<f;c++){for(s=l,p=M[c],h=M[c+1],d=p;d<h;d++)s=Math.min(s,m[S[d]]);m[C+c]=m[g+s],m[g+s]=c}}for(c=0;c<l;c++)m[_+c]=c;for(s=0;s<l;s++){for(o=i[s],n[o]!==-1&&E[n[o]]--,v=u?m[g+s]:o;v!==-1;v=u?m[C+v]:-1)for(d=M[v];d<M[v+1];d++){c=S[d];var I=w1(c,o,m,y,w,F,_);I.jleaf>=1&&E[o]++,I.jleaf===2&&E[I.q]--}n[o]!==-1&&(m[_+o]=n[o])}for(o=0;o<l;o++)n[o]!==-1&&(E[n[o]]+=E[o]);return E}}),A1="csSqr",b1=["add","multiply","transpose"],E1=Q(A1,b1,e=>{var{add:t,multiply:r,transpose:n}=e,i=m1({add:t,multiply:r,transpose:n}),u=F1({transpose:n});return function(l,c,o){var s=c._ptr,v=c._size,d=v[1],p,h={};if(h.q=i(l,c),l&&!h.q)return null;if(o){var D=l?h1(c,null,h.q):c;h.parent=d1(D);var m=v1(h.parent,d);if(h.cp=u(D,h.parent,m,1),D&&h.parent&&h.cp&&a(D,h))for(h.unz=0,p=0;p<d;p++)h.unz+=h.cp[p]}else h.unz=4*s[d]+d,h.lnz=h.unz;return h};function a(f,l){var c=f._ptr,o=f._index,s=f._size,v=s[0],d=s[1];l.pinv=[],l.leftmost=[];var p=l.parent,h=l.pinv,D=l.leftmost,m=[],_=0,w=v,F=v+d,y=v+2*d,g,C,E,b,S;for(C=0;C<d;C++)m[w+C]=-1,m[F+C]=-1,m[y+C]=0;for(g=0;g<v;g++)D[g]=-1;for(C=d-1;C>=0;C--)for(b=c[C],S=c[C+1],E=b;E<S;E++)D[o[E]]=C;for(g=v-1;g>=0;g--)h[g]=-1,C=D[g],C!==-1&&(m[y+C]++===0&&(m[F+C]=g),m[_+g]=m[w+C],m[w+C]=g);for(l.lnz=0,l.m2=v,C=0;C<d;C++)if(g=m[w+C],l.lnz++,g<0&&(g=l.m2++),h[g]=C,!(--y[C]<=0)){l.lnz+=m[y+C];var M=p[C];M!==-1&&(m[y+M]===0&&(m[F+M]=m[F+C]),m[_+m[F+C]]=m[w+M],m[w+M]=m[_+g],m[y+M]+=m[y+C])}for(g=0;g<v;g++)h[g]<0&&(h[g]=C++);return!0}});function zn(e,t){return e[t]<0}function Aa(e,t){e[t]=Nt(e[t])}function Qi(e){return e<0?Nt(e):e}function C1(e,t,r,n,i){var u=t._index,a=t._ptr,f=t._size,l=f[1],c,o,s,v=0;for(n[0]=e;v>=0;){e=n[v];var d=i?i[e]:e;zn(a,e)||(Aa(a,e),n[l+v]=d<0?0:Qi(a[d]));var p=1;for(o=n[l+v],s=d<0?0:Qi(a[d+1]);o<s;o++)if(c=u[o],!zn(a,c)){n[l+v]=o,n[++v]=c,p=0;break}p&&(v--,n[--r]=e)}return r}function S1(e,t,r,n,i){var u=e._ptr,a=e._size,f=t._index,l=t._ptr,c=a[1],o,s,v,d=c;for(s=l[r],v=l[r+1],o=s;o<v;o++){var p=f[o];zn(u,p)||(d=C1(p,e,d,n,i))}for(o=d;o<c;o++)Aa(u,n[o]);return d}var B1="csSpsolve",M1=["divideScalar","multiply","subtract"],x1=Q(B1,M1,e=>{var{divideScalar:t,multiply:r,subtract:n}=e;return function(u,a,f,l,c,o,s){var v=u._values,d=u._index,p=u._ptr,h=u._size,D=h[1],m=a._values,_=a._index,w=a._ptr,F,y,g,C,E=S1(u,a,f,l,o);for(F=E;F<D;F++)c[l[F]]=0;for(y=w[f],g=w[f+1],F=y;F<g;F++)c[_[F]]=m[F];for(var b=E;b<D;b++){var S=l[b],M=o?o[S]:S;if(!(M<0))for(y=p[M],g=p[M+1],c[S]=t(c[S],v[s?y:g-1]),F=s?y+1:y,C=s?g:g-1;F<C;F++){var I=d[F];c[I]=n(c[I],r(v[F],c[S]))}}return E}}),N1="csLu",T1=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],z1=Q(N1,T1,e=>{var{abs:t,divideScalar:r,multiply:n,subtract:i,larger:u,largerEq:a,SparseMatrix:f}=e,l=x1({divideScalar:r,multiply:n,subtract:i});return function(o,s,v){if(!o)return null;var d=o._size,p=d[1],h,D=100,m=100;s&&(h=s.q,D=s.lnz||D,m=s.unz||m);var _=[],w=[],F=[],y=new f({values:_,index:w,ptr:F,size:[p,p]}),g=[],C=[],E=[],b=new f({values:g,index:C,ptr:E,size:[p,p]}),S=[],M,I,V=[],P=[];for(M=0;M<p;M++)V[M]=0,S[M]=-1,F[M+1]=0;D=0,m=0;for(var O=0;O<p;O++){F[O]=D,E[O]=m;var N=h?h[O]:O,W=l(y,o,N,P,V,S,1),X=-1,T=-1;for(I=W;I<p;I++)if(M=P[I],S[M]<0){var Y=t(V[M]);u(Y,T)&&(T=Y,X=M)}else C[m]=S[M],g[m++]=V[M];if(X===-1||T<=0)return null;S[N]<0&&a(t(V[N]),n(T,v))&&(X=N);var k=V[X];for(C[m]=O,g[m++]=k,S[X]=O,w[D]=X,_[D++]=1,I=W;I<p;I++)M=P[I],S[M]<0&&(w[D]=M,_[D++]=r(V[M],k)),V[M]=0}for(F[p]=D,E[p]=m,I=0;I<D;I++)w[I]=S[w[I]];return _.splice(D,_.length-D),w.splice(D,w.length-D),g.splice(m,g.length-m),C.splice(m,C.length-m),{L:y,U:b,pinv:S}}}),ki="slu",I1=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],P1=Q(ki,I1,e=>{var{typed:t,abs:r,add:n,multiply:i,transpose:u,divideScalar:a,subtract:f,larger:l,largerEq:c,SparseMatrix:o}=e,s=E1({add:n,multiply:i,transpose:u}),v=z1({abs:r,divideScalar:a,multiply:i,subtract:f,larger:l,largerEq:c,SparseMatrix:o});return t(ki,{"SparseMatrix, number, number":function(p,h,D){if(!Be(h)||h<0||h>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(D<0||D>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var m=s(h,p,!1),_=v(p,m,D);return{L:_.L,U:_.U,p:_.pinv,q:m.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function ji(e,t){var r,n=t.length,i=[];if(e)for(r=0;r<n;r++)i[e[r]]=t[r];else for(r=0;r<n;r++)i[r]=t[r];return i}var eu="lusolve",O1=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],$1=Q(eu,O1,e=>{var{typed:t,matrix:r,lup:n,slu:i,usolve:u,lsolve:a,DenseMatrix:f}=e,l=Yn({DenseMatrix:f});return t(eu,{"Array, Array | Matrix":function(v,d){v=r(v);var p=n(v),h=o(p.L,p.U,p.p,null,d);return h.valueOf()},"DenseMatrix, Array | Matrix":function(v,d){var p=n(v);return o(p.L,p.U,p.p,null,d)},"SparseMatrix, Array | Matrix":function(v,d){var p=n(v);return o(p.L,p.U,p.p,null,d)},"SparseMatrix, Array | Matrix, number, number":function(v,d,p,h){var D=i(v,p,h);return o(D.L,D.U,D.p,D.q,d)},"Object, Array | Matrix":function(v,d){return o(v.L,v.U,v.p,v.q,d)}});function c(s){if(Ne(s))return s;if(Ie(s))return r(s);throw new TypeError("Invalid Matrix LU decomposition")}function o(s,v,d,p,h){s=c(s),v=c(v),d&&(h=l(s,h,!0),h._data=ji(d,h._data));var D=a(s,h),m=u(v,D);return p&&(m._data=ji(p,m._data)),m}}),tu="det",q1=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],R1=Q(tu,q1,e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:i,divideScalar:u,isZero:a,unaryMinus:f}=e;return t(tu,{any:function(o){return Ce(o)},"Array | Matrix":function(o){var s;switch(Ne(o)?s=o.size():Array.isArray(o)?(o=r(o),s=o.size()):s=[],s.length){case 0:return Ce(o);case 1:if(s[0]===1)return Ce(o.valueOf()[0]);if(s[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+xe(s)+")");case 2:{var v=s[0],d=s[1];if(v===d)return l(o.clone().valueOf(),v);if(d===0)return 1;throw new RangeError("Matrix must be square (size: "+xe(s)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+xe(s)+")")}}});function l(c,o,s){if(o===1)return Ce(c[0][0]);if(o===2)return n(i(c[0][0],c[1][1]),i(c[1][0],c[0][1]));for(var v=!1,d=new Array(o).fill(0).map((C,E)=>E),p=0;p<o;p++){var h=d[p];if(a(c[h][p])){var D=void 0;for(D=p+1;D<o;D++)if(!a(c[d[D]][p])){h=d[D],d[D]=d[p],d[p]=h,v=!v;break}if(D===o)return c[h][p]}for(var m=c[h][p],_=p===0?1:c[d[p-1]][p-1],w=p+1;w<o;w++)for(var F=d[w],y=p+1;y<o;y++)c[F][y]=u(n(i(c[F][y],m),i(c[F][p],c[h][y])),_)}var g=c[d[o-1]][o-1];return v?f(g):g}}),ru="inv",U1=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],L1=Q(ru,U1,e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:i,multiply:u,unaryMinus:a,det:f,identity:l,abs:c}=e;return t(ru,{"Array | Matrix":function(v){var d=Ne(v)?v.size():Ye(v);switch(d.length){case 1:if(d[0]===1)return Ne(v)?r([n(1,v.valueOf()[0])]):[n(1,v[0])];throw new RangeError("Matrix must be square (size: "+xe(d)+")");case 2:{var p=d[0],h=d[1];if(p===h)return Ne(v)?r(o(v.valueOf(),p,h),v.storage()):o(v,p,h);throw new RangeError("Matrix must be square (size: "+xe(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+xe(d)+")")}},any:function(v){return n(1,v)}});function o(s,v,d){var p,h,D,m,_;if(v===1){if(m=s[0][0],m===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,m)]]}else if(v===2){var w=f(s);if(w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(s[1][1],w),n(a(s[0][1]),w)],[n(a(s[1][0]),w),n(s[0][0],w)]]}else{var F=s.concat();for(p=0;p<v;p++)F[p]=F[p].concat();for(var y=l(v).valueOf(),g=0;g<d;g++){var C=c(F[g][g]),E=g;for(p=g+1;p<v;)c(F[p][g])>C&&(C=c(F[p][g]),E=p),p++;if(C===0)throw Error("Cannot calculate inverse, determinant is zero");p=E,p!==g&&(_=F[g],F[g]=F[p],F[p]=_,_=y[g],y[g]=y[p],y[p]=_);var b=F[g],S=y[g];for(p=0;p<v;p++){var M=F[p],I=y[p];if(p!==g){if(M[g]!==0){for(D=n(a(M[g]),b[g]),h=g;h<d;h++)M[h]=i(M[h],u(D,b[h]));for(h=0;h<d;h++)I[h]=i(I[h],u(D,S[h]))}}else{for(D=b[g],h=g;h<d;h++)M[h]=n(M[h],D);for(h=0;h<d;h++)I[h]=n(I[h],D)}}}return y}}}),nu="sum",V1=["typed","config","add","numeric"],Z1=Q(nu,V1,e=>{var{typed:t,config:r,add:n,numeric:i}=e;return t(nu,{"Array | Matrix":u,"Array | Matrix, number | BigNumber":a,"...":function(l){if(Q0(l))throw new TypeError("Scalar values expected in function sum");return u(l)}});function u(f){var l;return oa(f,function(c){try{l=l===void 0?c:n(l,c)}catch(o){throw Vi(o,"sum",c)}}),l===void 0&&(l=i(0,r.number)),typeof l=="string"&&(l=i(l,gl(l,r))),l}function a(f,l){try{var c=k0(f,l,n);return c}catch(o){throw Vi(o,"sum")}}}),cn=y0({config:rt}),ba=E0({}),Ea=T0({}),Gn=P0({}),nt=W0({Matrix:Gn}),he=Al({BigNumber:cn,Complex:ba,DenseMatrix:nt,Fraction:Ea}),Jn=Bh({typed:he}),nr=xh({typed:he}),H1=pv({typed:he}),Ft=sh({config:rt,typed:he}),X1=Uh({typed:he}),Y1=eh({typed:he}),G1=nh({config:rt,typed:he}),J1=uh({equalScalar:Ft,typed:he}),wr=ov({typed:he}),Ca=Dh({typed:he}),At=lh({Matrix:Gn,equalScalar:Ft,typed:he}),yr=Th({typed:he}),ln=wh({BigNumber:cn,typed:he}),$e=bh({DenseMatrix:nt,Matrix:Gn,SparseMatrix:At,typed:he}),W1=Cv({matrix:$e,typed:he}),iu=Bv({BigNumber:cn,config:rt,matrix:$e,typed:he}),Ht=gv({isInteger:Y1,matrix:$e,typed:he}),Sa=Fh({Fraction:Ea,typed:he}),Ba=wv({BigNumber:cn,DenseMatrix:nt,SparseMatrix:At,config:rt,matrix:$e,typed:he}),Ma=kv({DenseMatrix:nt,SparseMatrix:At,concat:Ht,config:rt,matrix:$e,typed:he}),xa=Nv({bignumber:ln,fraction:Sa,number:Ca}),K1=bv({matrix:$e,config:rt,typed:he}),Na=Zv({DenseMatrix:nt,SparseMatrix:At,bignumber:ln,concat:Ht,config:rt,matrix:$e,typed:he}),hn=Ch({typed:he}),Wn=o1({DenseMatrix:nt,SparseMatrix:At,addScalar:nr,concat:Ht,equalScalar:Ft,matrix:$e,typed:he}),ir=zv({numeric:xa,typed:he}),vn=Wv({DenseMatrix:nt,SparseMatrix:At,bignumber:ln,concat:Ht,config:rt,matrix:$e,typed:he}),Q1=Rv({DenseMatrix:nt,divideScalar:ir,equalScalar:Ft,matrix:$e,multiplyScalar:wr,subtractScalar:yr,typed:he}),k1=Yv({DenseMatrix:nt,SparseMatrix:At,concat:Ht,config:rt,matrix:$e,typed:he}),Ta=lv({DenseMatrix:nt,concat:Ht,equalScalar:Ft,matrix:$e,subtractScalar:yr,typed:he,unaryMinus:hn}),j1=Lv({DenseMatrix:nt,divideScalar:ir,equalScalar:Ft,matrix:$e,multiplyScalar:wr,subtractScalar:yr,typed:he}),ed=f1({addScalar:nr,conj:H1,multiplyScalar:wr,size:K1,typed:he}),td=r1({larger:vn,smaller:Na}),_r=fv({addScalar:nr,dot:ed,equalScalar:Ft,matrix:$e,multiplyScalar:wr,typed:he}),Br=Fv({bignumber:ln,matrix:$e,add:Wn,config:rt,isPositive:G1,larger:vn,largerEq:Ma,smaller:Na,smallerEq:k1,typed:he}),rd=P1({SparseMatrix:At,abs:Jn,add:Wn,divideScalar:ir,larger:vn,largerEq:Ma,multiply:_r,subtract:Ta,transpose:W1,typed:he}),nd=R1({divideScalar:ir,isZero:J1,matrix:$e,multiply:_r,subtractScalar:yr,typed:he,unaryMinus:hn}),id=L1({abs:Jn,addScalar:nr,det:nd,divideScalar:ir,identity:Ba,matrix:$e,multiply:_r,typed:he,unaryMinus:hn}),ud=Pv({Complex:ba,config:rt,fraction:Sa,identity:Ba,inv:id,matrix:$e,multiply:_r,number:Ca,typed:he}),ad=u1({FibonacciHeap:td,addScalar:nr,equalScalar:Ft}),od=Z1({add:Wn,config:rt,numeric:xa,typed:he}),sd=$v({DenseMatrix:nt,SparseMatrix:At,concat:Ht,equalScalar:Ft,matrix:$e,pow:ud,typed:he}),fd=l1({DenseMatrix:nt,Spa:ad,SparseMatrix:At,abs:Jn,addScalar:nr,divideScalar:ir,equalScalar:Ft,larger:vn,matrix:$e,multiplyScalar:wr,subtractScalar:yr,typed:he,unaryMinus:hn}),cd=$1({DenseMatrix:nt,lsolve:Q1,lup:fd,matrix:$e,slu:rd,typed:he,usolve:j1}),ld=uu('<button class="svelte-1qrnzmc">Clear Samples</button>'),hd=uu('<main class="svelte-1qrnzmc"><h1 class="svelte-1qrnzmc">Protein Backbone Conformation Explorer</h1> <div class="container svelte-1qrnzmc"><div class="panel svelte-1qrnzmc"><h2 class="svelte-1qrnzmc">Backbone Angles</h2> <canvas class="svelte-1qrnzmc"></canvas> <div class="controls svelte-1qrnzmc"><div class="slider-container svelte-1qrnzmc"><label for="phi" class="svelte-1qrnzmc"> </label> <input type="range" id="phi" class="svelte-1qrnzmc"></div> <div class="slider-container svelte-1qrnzmc"><label for="psi" class="svelte-1qrnzmc"> </label> <input type="range" id="psi" class="svelte-1qrnzmc"></div> <button class="svelte-1qrnzmc"> </button></div></div> <div class="panel svelte-1qrnzmc"><h2 class="svelte-1qrnzmc">Energy Landscape</h2> <div class="contour-container svelte-1qrnzmc"><canvas class="svelte-1qrnzmc"></canvas></div> <div class="info svelte-1qrnzmc"><p> </p> <p> </p> <div class="button-group svelte-1qrnzmc"><!> <button class="info-button svelte-1qrnzmc"> </button></div> <div class="energy-function svelte-1qrnzmc"><h3 class="svelte-1qrnzmc">About the Visualization:</h3> <p> </p> <p>The energy function represents different stable conformations of the protein backbone. Darker blue regions indicate lower energy (more stable conformations).</p> <p>Click "Add Sample" at different points to build a GP model that learns this energy landscape.</p></div></div></div></div></main>');function _d(e,t){fo(t,!1);let r=$t(0),n=$t(0),i=$t([]),u=[],a=$t(),f=$t(),l=$t(!1),c=$t(!1);const o=400,s=400,v=40,d=o-2*v,p=ei([-Math.PI,Math.PI],[v,o-v]),h=ei([-Math.PI,Math.PI],[s-v,v]);let D=1/0,m=-1/0;function _(){const ge=Br(-Math.PI,Math.PI,2*Math.PI/50).toArray(),A=Br(-Math.PI,Math.PI,2*Math.PI/50).toArray();for(const B of ge)for(const x of A){const z=w(B,x);D=Math.min(D,z),m=Math.max(m,z)}D=Math.floor(D*10)/10,m=Math.ceil(m*10)/10,console.log(`Energy range: ${D} to ${m}`)}function w(q,ge){const A=Math.exp(-((q+Math.PI/2)**2)-(ge-Math.PI/2)**2/.5),B=Math.exp(-((q+Math.PI/2)**2)-(ge+.5)**2/.3),x=Math.exp(-((q-Math.PI/2)**2)-(ge+Math.PI/2)**2/.5),z=Math.exp(-((q-Math.PI/2)**2)-(ge-.5)**2/.3),R=Math.exp(-((q-0)**2)/.3-(ge-Math.PI/4)**2/.2),L=A+B+x+z+R;return-Math.log(L+1e-6)}function F(){const q=w(ve(r),ve(n));dt(i,[...ve(i),{phi:ve(r),psi:ve(n),energy:q}]),y()}function y(){if(dt(l,!0),ve(i).length===0){dt(l,!1);return}setTimeout(()=>{const q=ve(i).map(U=>[U.phi,U.psi]),ge=ve(i).map(U=>U.energy),A=(U,G,H=1)=>{const ye=od(sd(Ta(U,G),2));return X1(-.5*ye/(H*H))},B=q.length,x=iu(B,B);for(let U=0;U<B;U++)for(let G=0;G<B;G++)x.set([U,G],A(q[U],q[G]));const z=.01;for(let U=0;U<B;U++)x.set([U,U],x.get([U,U])+z);const R=40,L=Br(-Math.PI,Math.PI,2*Math.PI/R).toArray(),J=Br(-Math.PI,Math.PI,2*Math.PI/R).toArray();u=[];for(const U of L)for(const G of J){const H=[U,G],ye=iu(1,B);for(let me=0;me<B;me++)ye.set([0,me],A(H,q[me]));try{const me=cd(x,ge),Te=_r(ye,me).get([0,0]);u.push({phi:U,psi:G,predicted:Te})}catch(me){console.error("Error in GP calculation:",me)}}g(),dt(l,!1)},50)}function g(){if(!ve(f))return;const q=ve(f).getContext("2d");q.clearRect(0,0,o,s);const ge=fu(No).domain([D,m]);if(ve(c)||u.length===0){const B=d/80;for(let x=0;x<80;x++)for(let z=0;z<80;z++){const R=-Math.PI+2*Math.PI*x/80,L=-Math.PI+2*Math.PI*z/80,J=w(R,L),U=p(R),G=h(L);q.fillStyle=ge(J),q.fillRect(U-B/2,G-B/2,B,B)}}else{const A=d/Math.sqrt(u.length);u.forEach(B=>{const x=p(B.phi),z=h(B.psi);q.fillStyle=ge(B.predicted),q.fillRect(x-A/2,z-A/2,A,A)})}C(q,ge),q.strokeStyle="#000",q.lineWidth=1,q.beginPath(),q.moveTo(v,s-v),q.lineTo(o-v,s-v),q.moveTo(v,v),q.lineTo(v,s-v),q.stroke(),q.fillStyle="#000",q.font="12px Arial",q.textAlign="center",q.fillText("-",v,s-v+15),q.fillText("0",o/2,s-v+15),q.fillText("",o-v,s-v+15),q.fillText("",o-v+15,s-v+5),q.textAlign="right",q.fillText("-",v-5,s-v),q.fillText("0",v-5,s/2),q.fillText("",v-5,v),q.fillText("",v-15,v-10),q.fillStyle="#ff0000",ve(i).forEach(A=>{const B=p(A.phi),x=h(A.psi);q.beginPath(),q.arc(B,x,4,0,2*Math.PI),q.fill()})}function C(q,ge){const B=s-2*v,x=o-v+20,z=v,R=100,L=B/R;for(let U=0;U<R;U++){const G=D+(m-D)*(R-U-1)/R;q.fillStyle=ge(G),q.fillRect(x,z+U*L,20,L+1)}q.strokeStyle="#000",q.lineWidth=1,q.strokeRect(x,z,20,B),q.fillStyle="#000",q.font="12px Arial",q.textAlign="left",q.fillText(D.toFixed(1),x+20+5,z+B),q.fillText(m.toFixed(1),x+20+5,z);const J=(D+m)/2;q.fillText(J.toFixed(1),x+20+5,z+B/2),q.save(),q.translate(x+20+25,z+B/2),q.rotate(-Math.PI/2),q.textAlign="center",q.fillText("Energy",0,0),q.restore()}function E(){if(!ve(a))return;const q=ve(a).getContext("2d");q.clearRect(0,0,o,s);const ge=o/2,A=s/2,B=120;q.strokeStyle="#666",q.lineWidth=3,q.beginPath(),q.moveTo(ge-B,A),q.lineTo(ge+B,A),q.stroke();const x=[{x:ge-B,y:A,color:"#0066cc",label:"N",size:25},{x:ge-B/2,y:A,color:"#333333",label:"C",size:28},{x:ge,y:A,color:"#999999",label:"C",size:25},{x:ge+B/2,y:A,color:"#cc0000",label:"O",size:25},{x:ge+B,y:A,color:"#0066cc",label:"N",size:25}];q.save(),q.translate(ge-B/2,A),q.rotate(ve(r)),q.strokeStyle="#00cc00",q.lineWidth=3,q.beginPath(),q.moveTo(0,0),q.lineTo(0,-60),q.stroke(),q.fillStyle="#00cc00",q.font="14px Arial",q.fillText(" = "+ve(r).toFixed(2),5,-30),q.restore(),q.save(),q.translate(ge,A),q.rotate(ve(n)),q.strokeStyle="#cc00cc",q.lineWidth=3,q.beginPath(),q.moveTo(0,0),q.lineTo(0,-60),q.stroke(),q.fillStyle="#cc00cc",q.font="14px Arial",q.fillText(" = "+ve(n).toFixed(2),5,-30),q.restore(),x.forEach(z=>{q.fillStyle=z.color,q.beginPath(),q.arc(z.x,z.y,z.size,0,2*Math.PI),q.fill(),q.fillStyle="#fff",q.font="12px Arial",q.textAlign="center",q.textBaseline="middle",q.fillText(z.label,z.x,z.y)})}function b(){dt(c,!ve(c)),g()}bo(()=>{_(),E(),g()}),co(()=>(ve(a),ve(r),ve(n)),()=>{ve(a)&&(ve(r)||ve(n))&&E()}),lo(),Ao();var S=hd(),M=Qe(Ve(S),2),I=Ve(M),V=Qe(Ve(I),2);pt(V,"width",o),pt(V,"height",s),Qn(V,q=>dt(a,q),()=>ve(a));var P=Qe(V,2),O=Ve(P),N=Ve(O),W=Ve(N);Ze(N);var X=Qe(N,2);ri(X),pt(X,"min",-Math.PI),pt(X,"max",Math.PI),pt(X,"step",.01),Ze(O);var T=Qe(O,2),Y=Ve(T),k=Ve(Y);Ze(Y);var ae=Qe(Y,2);ri(ae),pt(ae,"min",-Math.PI),pt(ae,"max",Math.PI),pt(ae,"step",.01),Ze(T);var re=Qe(T,2),j=Ve(re,!0);Ze(re),Ze(P),Ze(I);var we=Qe(I,2),ce=Qe(Ve(we),2),ue=Ve(ce);pt(ue,"width",o+60),pt(ue,"height",s),Qn(ue,q=>dt(f,q),()=>ve(f)),Ze(ce);var de=Qe(ce,2),se=Ve(de),ne=Ve(se);Ze(se);var Ee=Qe(se,2),Fe=Ve(Ee);Ze(Ee);var fe=Qe(Ee,2),De=Ve(fe);{var Oe=q=>{var ge=ld();dn("click",ge,()=>{dt(i,[]),y()}),Kn(q,ge)};go(De,q=>{ve(i).length>0&&q(Oe)})}var Ue=Qe(De,2),Le=Ve(Ue,!0);Ze(Ue),Ze(fe);var pe=Qe(fe,2),qe=Qe(Ve(pe),2),it=Ve(qe,!0);Ze(qe),Do(4),Ze(pe),Ze(de),Ze(we),Ze(M),Ze(S),ho((q,ge,A)=>{qt(W,` (Phi): ${q??""}`),qt(k,` (Psi): ${ge??""}`),re.disabled=ve(l),qt(j,ve(l)?"Processing...":"Add Sample"),qt(ne,`Samples: ${ve(i).length??""}`),qt(Fe,`Current energy: ${A??""}`),qt(Le,ve(c)?"Show GP Prediction":"Show Energy Function"),qt(it,ve(c)?"Showing actual energy function":"Showing Gaussian Process prediction")},[()=>ve(r).toFixed(2),()=>ve(n).toFixed(2),()=>w(ve(r),ve(n)).toFixed(2)],po),ti(X,()=>ve(r),q=>dt(r,q)),ti(ae,()=>ve(n),q=>dt(n,q)),dn("click",re,F),dn("click",Ue,b),Kn(e,S),vo()}export{_d as component};
