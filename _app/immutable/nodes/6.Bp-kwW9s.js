import{t as iu,a as Kn}from"../chunks/CWtDqgW6.js";import"../chunks/CZKzTdWd.js";import{F as so,aJ as fo,aK as co,G as lo,I as ho,s as dt,J as rt,$ as vo,g as ye,aL as Pt,P as vt,n as Qn,K as nt}from"../chunks/eDbGWMUz.js";import{e as vn,s as Fr}from"../chunks/DgiF_L6T.js";import{b as kn,i as po}from"../chunks/C05LZQ33.js";import{b as $t,d as Do,e as uu,f as go,g as mo,h as wo,c as kr,j as jn,k as yo,m as ei,l as ti,a as Ar,s as _o,n as Fo}from"../chunks/DXkj_8O_.js";import{i as Ao}from"../chunks/B8Qd2tFb.js";import{o as bo}from"../chunks/D6LEL-WT.js";var ri=180/Math.PI,wn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function au(e,t,r,n,i,u){var a,f,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(f=Math.sqrt(r*r+n*n))&&(r/=f,n/=f,l/=f),e*n<t*r&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:u,rotate:Math.atan2(t,e)*ri,skewX:Math.atan(l)*ri,scaleX:a,scaleY:f}}var br;function Eo(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?wn:au(t.a,t.b,t.c,t.d,t.e,t.f)}function Co(e){return e==null||(br||(br=document.createElementNS("http://www.w3.org/2000/svg","g")),br.setAttribute("transform",e),!(e=br.transform.baseVal.consolidate()))?wn:(e=e.matrix,au(e.a,e.b,e.c,e.d,e.e,e.f))}function ou(e,t,r,n){function i(c){return c.length?c.pop()+" ":""}function u(c,o,s,d,v,p){if(c!==s||o!==d){var h=v.push("translate(",null,t,null,r);p.push({i:h-4,x:$t(c,s)},{i:h-2,x:$t(o,d)})}else(s||d)&&v.push("translate("+s+t+d+r)}function a(c,o,s,d){c!==o?(c-o>180?o+=360:o-c>180&&(c+=360),d.push({i:s.push(i(s)+"rotate(",null,n)-2,x:$t(c,o)})):o&&s.push(i(s)+"rotate("+o+n)}function f(c,o,s,d){c!==o?d.push({i:s.push(i(s)+"skewX(",null,n)-2,x:$t(c,o)}):o&&s.push(i(s)+"skewX("+o+n)}function l(c,o,s,d,v,p){if(c!==s||o!==d){var h=v.push(i(v)+"scale(",null,",",null,")");p.push({i:h-4,x:$t(c,s)},{i:h-2,x:$t(o,d)})}else(s!==1||d!==1)&&v.push(i(v)+"scale("+s+","+d+")")}return function(c,o){var s=[],d=[];return c=e(c),o=e(o),u(c.translateX,c.translateY,o.translateX,o.translateY,s,d),a(c.rotate,o.rotate,s,d),f(c.skewX,o.skewX,s,d),l(c.scaleX,c.scaleY,o.scaleX,o.scaleY,s,d),c=o=null,function(v){for(var p=-1,h=d.length,D;++p<h;)s[(D=d[p]).i]=D.x(v);return s.join("")}}}var So=ou(Eo,"px, ","px)","deg)"),Bo=ou(Co,", ",")",")");function Mo(){var e=0,t=1,r,n,i,u,a=uu,f=!1,l;function c(s){return s==null||isNaN(s=+s)?l:a(i===0?.5:(s=(u(s)-r)*i,f?Math.max(0,Math.min(1,s)):s))}c.domain=function(s){return arguments.length?([e,t]=s,r=u(e=+e),n=u(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(s){return arguments.length?(f=!!s,c):f},c.interpolator=function(s){return arguments.length?(a=s,c):a};function o(s){return function(d){var v,p;return arguments.length?([v,p]=d,a=s(v,p),c):[a(0),a(1)]}}return c.range=o(mo),c.rangeRound=o(wo),c.unknown=function(s){return arguments.length?(l=s,c):l},function(s){return u=s,r=s(e),n=s(t),i=r===n?0:1/(n-r),c}}function xo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function su(){var e=Do(Mo()(uu));return e.copy=function(){return xo(e,su())},go.apply(e,arguments)}function jr(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}const No=jr(kr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));jr(kr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));jr(kr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));jr(kr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var To={value:()=>{}};function fu(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Mr(r)}function Mr(e){this._=e}function zo(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Mr.prototype=fu.prototype={constructor:Mr,on:function(e,t){var r=this._,n=zo(e+"",r),i,u=-1,a=n.length;if(arguments.length<2){for(;++u<a;)if((i=(e=n[u]).type)&&(i=Io(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<a;)if(i=(e=n[u]).type)r[i]=ni(r[i],e.name,t);else if(t==null)for(i in r)r[i]=ni(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Mr(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,u;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],n=0,i=u.length;n<i;++n)u[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,u=n.length;i<u;++i)n[i].value.apply(t,r)}};function Io(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function ni(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=To,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var yn="http://www.w3.org/1999/xhtml";const ii={svg:"http://www.w3.org/2000/svg",xhtml:yn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function en(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),ii.hasOwnProperty(t)?{space:ii[t],local:e}:e}function Oo(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===yn&&t.documentElement.namespaceURI===yn?t.createElement(e):t.createElementNS(r,e)}}function Po(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function cu(e){var t=en(e);return(t.local?Po:Oo)(t)}function $o(){}function In(e){return e==null?$o:function(){return this.querySelector(e)}}function Ro(e){typeof e!="function"&&(e=In(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var u=t[i],a=u.length,f=n[i]=new Array(a),l,c,o=0;o<a;++o)(l=u[o])&&(c=e.call(l,l.__data__,o,u))&&("__data__"in l&&(c.__data__=l.__data__),f[o]=c);return new lt(n,this._parents)}function qo(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Lo(){return[]}function lu(e){return e==null?Lo:function(){return this.querySelectorAll(e)}}function Uo(e){return function(){return qo(e.apply(this,arguments))}}function Vo(e){typeof e=="function"?e=Uo(e):e=lu(e);for(var t=this._groups,r=t.length,n=[],i=[],u=0;u<r;++u)for(var a=t[u],f=a.length,l,c=0;c<f;++c)(l=a[c])&&(n.push(e.call(l,l.__data__,c,a)),i.push(l));return new lt(n,i)}function hu(e){return function(){return this.matches(e)}}function du(e){return function(t){return t.matches(e)}}var Zo=Array.prototype.find;function Ho(e){return function(){return Zo.call(this.children,e)}}function Xo(){return this.firstElementChild}function Yo(e){return this.select(e==null?Xo:Ho(typeof e=="function"?e:du(e)))}var Go=Array.prototype.filter;function Jo(){return Array.from(this.children)}function Wo(e){return function(){return Go.call(this.children,e)}}function Ko(e){return this.selectAll(e==null?Jo:Wo(typeof e=="function"?e:du(e)))}function Qo(e){typeof e!="function"&&(e=hu(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var u=t[i],a=u.length,f=n[i]=[],l,c=0;c<a;++c)(l=u[c])&&e.call(l,l.__data__,c,u)&&f.push(l);return new lt(n,this._parents)}function vu(e){return new Array(e.length)}function ko(){return new lt(this._enter||this._groups.map(vu),this._parents)}function Ir(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ir.prototype={constructor:Ir,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function jo(e){return function(){return e}}function es(e,t,r,n,i,u){for(var a=0,f,l=t.length,c=u.length;a<c;++a)(f=t[a])?(f.__data__=u[a],n[a]=f):r[a]=new Ir(e,u[a]);for(;a<l;++a)(f=t[a])&&(i[a]=f)}function ts(e,t,r,n,i,u,a){var f,l,c=new Map,o=t.length,s=u.length,d=new Array(o),v;for(f=0;f<o;++f)(l=t[f])&&(d[f]=v=a.call(l,l.__data__,f,t)+"",c.has(v)?i[f]=l:c.set(v,l));for(f=0;f<s;++f)v=a.call(e,u[f],f,u)+"",(l=c.get(v))?(n[f]=l,l.__data__=u[f],c.delete(v)):r[f]=new Ir(e,u[f]);for(f=0;f<o;++f)(l=t[f])&&c.get(d[f])===l&&(i[f]=l)}function rs(e){return e.__data__}function ns(e,t){if(!arguments.length)return Array.from(this,rs);var r=t?ts:es,n=this._parents,i=this._groups;typeof e!="function"&&(e=jo(e));for(var u=i.length,a=new Array(u),f=new Array(u),l=new Array(u),c=0;c<u;++c){var o=n[c],s=i[c],d=s.length,v=is(e.call(o,o&&o.__data__,c,n)),p=v.length,h=f[c]=new Array(p),D=a[c]=new Array(p),m=l[c]=new Array(d);r(o,s,h,D,m,v,t);for(var y=0,w=0,F,_;y<p;++y)if(F=h[y]){for(y>=w&&(w=y+1);!(_=D[w])&&++w<p;);F._next=_||null}}return a=new lt(a,n),a._enter=f,a._exit=l,a}function is(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function us(){return new lt(this._exit||this._groups.map(vu),this._parents)}function as(e,t,r){var n=this.enter(),i=this,u=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?u.remove():r(u),n&&i?n.merge(i).order():i}function os(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,u=n.length,a=Math.min(i,u),f=new Array(i),l=0;l<a;++l)for(var c=r[l],o=n[l],s=c.length,d=f[l]=new Array(s),v,p=0;p<s;++p)(v=c[p]||o[p])&&(d[p]=v);for(;l<i;++l)f[l]=r[l];return new lt(f,this._parents)}function ss(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,u=n[i],a;--i>=0;)(a=n[i])&&(u&&a.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(a,u),u=a);return this}function fs(e){e||(e=cs);function t(s,d){return s&&d?e(s.__data__,d.__data__):!s-!d}for(var r=this._groups,n=r.length,i=new Array(n),u=0;u<n;++u){for(var a=r[u],f=a.length,l=i[u]=new Array(f),c,o=0;o<f;++o)(c=a[o])&&(l[o]=c);l.sort(t)}return new lt(i,this._parents).order()}function cs(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ls(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function hs(){return Array.from(this)}function ds(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,u=n.length;i<u;++i){var a=n[i];if(a)return a}return null}function vs(){let e=0;for(const t of this)++e;return e}function ps(){return!this.node()}function Ds(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],u=0,a=i.length,f;u<a;++u)(f=i[u])&&e.call(f,f.__data__,u,i);return this}function gs(e){return function(){this.removeAttribute(e)}}function ms(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ws(e,t){return function(){this.setAttribute(e,t)}}function ys(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _s(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Fs(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function As(e,t){var r=en(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?ms:gs:typeof t=="function"?r.local?Fs:_s:r.local?ys:ws)(r,t))}function pu(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function bs(e){return function(){this.style.removeProperty(e)}}function Es(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Cs(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Ss(e,t,r){return arguments.length>1?this.each((t==null?bs:typeof t=="function"?Cs:Es)(e,t,r??"")):Jt(this.node(),e)}function Jt(e,t){return e.style.getPropertyValue(t)||pu(e).getComputedStyle(e,null).getPropertyValue(t)}function Bs(e){return function(){delete this[e]}}function Ms(e,t){return function(){this[e]=t}}function xs(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Ns(e,t){return arguments.length>1?this.each((t==null?Bs:typeof t=="function"?xs:Ms)(e,t)):this.node()[e]}function Du(e){return e.trim().split(/^|\s+/)}function On(e){return e.classList||new gu(e)}function gu(e){this._node=e,this._names=Du(e.getAttribute("class")||"")}gu.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function mu(e,t){for(var r=On(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function wu(e,t){for(var r=On(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function Ts(e){return function(){mu(this,e)}}function zs(e){return function(){wu(this,e)}}function Is(e,t){return function(){(t.apply(this,arguments)?mu:wu)(this,e)}}function Os(e,t){var r=Du(e+"");if(arguments.length<2){for(var n=On(this.node()),i=-1,u=r.length;++i<u;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?Is:t?Ts:zs)(r,t))}function Ps(){this.textContent=""}function $s(e){return function(){this.textContent=e}}function Rs(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function qs(e){return arguments.length?this.each(e==null?Ps:(typeof e=="function"?Rs:$s)(e)):this.node().textContent}function Ls(){this.innerHTML=""}function Us(e){return function(){this.innerHTML=e}}function Vs(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Zs(e){return arguments.length?this.each(e==null?Ls:(typeof e=="function"?Vs:Us)(e)):this.node().innerHTML}function Hs(){this.nextSibling&&this.parentNode.appendChild(this)}function Xs(){return this.each(Hs)}function Ys(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gs(){return this.each(Ys)}function Js(e){var t=typeof e=="function"?e:cu(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ws(){return null}function Ks(e,t){var r=typeof e=="function"?e:cu(e),n=t==null?Ws:typeof t=="function"?t:In(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Qs(){var e=this.parentNode;e&&e.removeChild(this)}function ks(){return this.each(Qs)}function js(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ef(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tf(e){return this.select(e?ef:js)}function rf(e){return arguments.length?this.property("__data__",e):this.node().__data__}function nf(e){return function(t){e.call(this,t,this.__data__)}}function uf(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function af(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,u;r<i;++r)u=t[r],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):t[++n]=u;++n?t.length=n:delete this.__on}}}function of(e,t,r){return function(){var n=this.__on,i,u=nf(t);if(n){for(var a=0,f=n.length;a<f;++a)if((i=n[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=u,i.options=r),i.value=t;return}}this.addEventListener(e.type,u,r),i={type:e.type,name:e.name,value:t,listener:u,options:r},n?n.push(i):this.__on=[i]}}function sf(e,t,r){var n=uf(e+""),i,u=n.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var l=0,c=f.length,o;l<c;++l)for(i=0,o=f[l];i<u;++i)if((a=n[i]).type===o.type&&a.name===o.name)return o.value}return}for(f=t?of:af,i=0;i<u;++i)this.each(f(n[i],t,r));return this}function yu(e,t,r){var n=pu(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ff(e,t){return function(){return yu(this,e,t)}}function cf(e,t){return function(){return yu(this,e,t.apply(this,arguments))}}function lf(e,t){return this.each((typeof t=="function"?cf:ff)(e,t))}function*hf(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,u=n.length,a;i<u;++i)(a=n[i])&&(yield a)}var df=[null];function lt(e,t){this._groups=e,this._parents=t}function vr(){return new lt([[document.documentElement]],df)}function vf(){return this}lt.prototype=vr.prototype={constructor:lt,select:Ro,selectAll:Vo,selectChild:Yo,selectChildren:Ko,filter:Qo,data:ns,enter:ko,exit:us,join:as,merge:os,selection:vf,order:ss,sort:fs,call:ls,nodes:hs,node:ds,size:vs,empty:ps,each:Ds,attr:As,style:Ss,property:Ns,classed:Os,text:qs,html:Zs,raise:Xs,lower:Gs,append:Js,insert:Ks,remove:ks,clone:tf,datum:rf,on:sf,dispatch:lf,[Symbol.iterator]:hf};var Wt=0,ar=0,ur=0,_u=1e3,Or,or,Pr=0,Lt=0,tn=0,fr=typeof performance=="object"&&performance.now?performance:Date,Fu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Pn(){return Lt||(Fu(pf),Lt=fr.now()+tn)}function pf(){Lt=0}function $r(){this._call=this._time=this._next=null}$r.prototype=Au.prototype={constructor:$r,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Pn():+r)+(t==null?0:+t),!this._next&&or!==this&&(or?or._next=this:Or=this,or=this),this._call=e,this._time=r,_n()},stop:function(){this._call&&(this._call=null,this._time=1/0,_n())}};function Au(e,t,r){var n=new $r;return n.restart(e,t,r),n}function Df(){Pn(),++Wt;for(var e=Or,t;e;)(t=Lt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Wt}function ui(){Lt=(Pr=fr.now())+tn,Wt=ar=0;try{Df()}finally{Wt=0,mf(),Lt=0}}function gf(){var e=fr.now(),t=e-Pr;t>_u&&(tn-=t,Pr=e)}function mf(){for(var e,t=Or,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Or=r);or=e,_n(n)}function _n(e){if(!Wt){ar&&(ar=clearTimeout(ar));var t=e-Lt;t>24?(e<1/0&&(ar=setTimeout(ui,e-fr.now()-tn)),ur&&(ur=clearInterval(ur))):(ur||(Pr=fr.now(),ur=setInterval(gf,_u)),Wt=1,Fu(ui))}}function ai(e,t,r){var n=new $r;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var wf=fu("start","end","cancel","interrupt"),yf=[],bu=0,oi=1,Fn=2,xr=3,si=4,An=5,Nr=6;function rn(e,t,r,n,i,u){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;_f(e,r,{name:t,index:n,group:i,on:wf,tween:yf,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:bu})}function $n(e,t){var r=ht(e,t);if(r.state>bu)throw new Error("too late; already scheduled");return r}function wt(e,t){var r=ht(e,t);if(r.state>xr)throw new Error("too late; already running");return r}function ht(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function _f(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=Au(u,0,r.time);function u(c){r.state=oi,r.timer.restart(a,r.delay,r.time),r.delay<=c&&a(c-r.delay)}function a(c){var o,s,d,v;if(r.state!==oi)return l();for(o in n)if(v=n[o],v.name===r.name){if(v.state===xr)return ai(a);v.state===si?(v.state=Nr,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete n[o]):+o<t&&(v.state=Nr,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete n[o])}if(ai(function(){r.state===xr&&(r.state=si,r.timer.restart(f,r.delay,r.time),f(c))}),r.state=Fn,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Fn){for(r.state=xr,i=new Array(d=r.tween.length),o=0,s=-1;o<d;++o)(v=r.tween[o].value.call(e,e.__data__,r.index,r.group))&&(i[++s]=v);i.length=s+1}}function f(c){for(var o=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=An,1),s=-1,d=i.length;++s<d;)i[s].call(e,o);r.state===An&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=Nr,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function Ff(e,t){var r=e.__transition,n,i,u=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){u=!1;continue}i=n.state>Fn&&n.state<An,n.state=Nr,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}u&&delete e.__transition}}function Af(e){return this.each(function(){Ff(this,e)})}function bf(e,t){var r,n;return function(){var i=wt(this,e),u=i.tween;if(u!==r){n=r=u;for(var a=0,f=n.length;a<f;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function Ef(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var u=wt(this,e),a=u.tween;if(a!==n){i=(n=a).slice();for(var f={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=f;break}l===c&&i.push(f)}u.tween=i}}function Cf(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=ht(this.node(),r).tween,i=0,u=n.length,a;i<u;++i)if((a=n[i]).name===e)return a.value;return null}return this.each((t==null?bf:Ef)(r,e,t))}function Rn(e,t,r){var n=e._id;return e.each(function(){var i=wt(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return ht(i,n).value[t]}}function Eu(e,t){var r;return(typeof t=="number"?$t:t instanceof ei?jn:(r=ei(t))?(t=r,jn):yo)(e,t)}function Sf(e){return function(){this.removeAttribute(e)}}function Bf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Mf(e,t,r){var n,i=r+"",u;return function(){var a=this.getAttribute(e);return a===i?null:a===n?u:u=t(n=a,r)}}function xf(e,t,r){var n,i=r+"",u;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===n?u:u=t(n=a,r)}}function Nf(e,t,r){var n,i,u;return function(){var a,f=r(this),l;return f==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=f+"",a===l?null:a===n&&l===i?u:(i=l,u=t(n=a,f)))}}function Tf(e,t,r){var n,i,u;return function(){var a,f=r(this),l;return f==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=f+"",a===l?null:a===n&&l===i?u:(i=l,u=t(n=a,f)))}}function zf(e,t){var r=en(e),n=r==="transform"?Bo:Eu;return this.attrTween(e,typeof t=="function"?(r.local?Tf:Nf)(r,n,Rn(this,"attr."+e,t)):t==null?(r.local?Bf:Sf)(r):(r.local?xf:Mf)(r,n,t))}function If(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Of(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Pf(e,t){var r,n;function i(){var u=t.apply(this,arguments);return u!==n&&(r=(n=u)&&Of(e,u)),r}return i._value=t,i}function $f(e,t){var r,n;function i(){var u=t.apply(this,arguments);return u!==n&&(r=(n=u)&&If(e,u)),r}return i._value=t,i}function Rf(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=en(e);return this.tween(r,(n.local?Pf:$f)(n,t))}function qf(e,t){return function(){$n(this,e).delay=+t.apply(this,arguments)}}function Lf(e,t){return t=+t,function(){$n(this,e).delay=t}}function Uf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?qf:Lf)(t,e)):ht(this.node(),t).delay}function Vf(e,t){return function(){wt(this,e).duration=+t.apply(this,arguments)}}function Zf(e,t){return t=+t,function(){wt(this,e).duration=t}}function Hf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Vf:Zf)(t,e)):ht(this.node(),t).duration}function Xf(e,t){if(typeof t!="function")throw new Error;return function(){wt(this,e).ease=t}}function Yf(e){var t=this._id;return arguments.length?this.each(Xf(t,e)):ht(this.node(),t).ease}function Gf(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;wt(this,e).ease=r}}function Jf(e){if(typeof e!="function")throw new Error;return this.each(Gf(this._id,e))}function Wf(e){typeof e!="function"&&(e=hu(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var u=t[i],a=u.length,f=n[i]=[],l,c=0;c<a;++c)(l=u[c])&&e.call(l,l.__data__,c,u)&&f.push(l);return new Ct(n,this._parents,this._name,this._id)}function Kf(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,u=Math.min(n,i),a=new Array(n),f=0;f<u;++f)for(var l=t[f],c=r[f],o=l.length,s=a[f]=new Array(o),d,v=0;v<o;++v)(d=l[v]||c[v])&&(s[v]=d);for(;f<n;++f)a[f]=t[f];return new Ct(a,this._parents,this._name,this._id)}function Qf(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function kf(e,t,r){var n,i,u=Qf(t)?$n:wt;return function(){var a=u(this,e),f=a.on;f!==n&&(i=(n=f).copy()).on(t,r),a.on=i}}function jf(e,t){var r=this._id;return arguments.length<2?ht(this.node(),r).on.on(e):this.each(kf(r,e,t))}function ec(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function tc(){return this.on("end.remove",ec(this._id))}function rc(e){var t=this._name,r=this._id;typeof e!="function"&&(e=In(e));for(var n=this._groups,i=n.length,u=new Array(i),a=0;a<i;++a)for(var f=n[a],l=f.length,c=u[a]=new Array(l),o,s,d=0;d<l;++d)(o=f[d])&&(s=e.call(o,o.__data__,d,f))&&("__data__"in o&&(s.__data__=o.__data__),c[d]=s,rn(c[d],t,r,d,c,ht(o,r)));return new Ct(u,this._parents,t,r)}function nc(e){var t=this._name,r=this._id;typeof e!="function"&&(e=lu(e));for(var n=this._groups,i=n.length,u=[],a=[],f=0;f<i;++f)for(var l=n[f],c=l.length,o,s=0;s<c;++s)if(o=l[s]){for(var d=e.call(o,o.__data__,s,l),v,p=ht(o,r),h=0,D=d.length;h<D;++h)(v=d[h])&&rn(v,t,r,h,d,p);u.push(d),a.push(o)}return new Ct(u,a,t,r)}var ic=vr.prototype.constructor;function uc(){return new ic(this._groups,this._parents)}function ac(e,t){var r,n,i;return function(){var u=Jt(this,e),a=(this.style.removeProperty(e),Jt(this,e));return u===a?null:u===r&&a===n?i:i=t(r=u,n=a)}}function Cu(e){return function(){this.style.removeProperty(e)}}function oc(e,t,r){var n,i=r+"",u;return function(){var a=Jt(this,e);return a===i?null:a===n?u:u=t(n=a,r)}}function sc(e,t,r){var n,i,u;return function(){var a=Jt(this,e),f=r(this),l=f+"";return f==null&&(l=f=(this.style.removeProperty(e),Jt(this,e))),a===l?null:a===n&&l===i?u:(i=l,u=t(n=a,f))}}function fc(e,t){var r,n,i,u="style."+t,a="end."+u,f;return function(){var l=wt(this,e),c=l.on,o=l.value[u]==null?f||(f=Cu(t)):void 0;(c!==r||i!==o)&&(n=(r=c).copy()).on(a,i=o),l.on=n}}function cc(e,t,r){var n=(e+="")=="transform"?So:Eu;return t==null?this.styleTween(e,ac(e,n)).on("end.style."+e,Cu(e)):typeof t=="function"?this.styleTween(e,sc(e,n,Rn(this,"style."+e,t))).each(fc(this._id,e)):this.styleTween(e,oc(e,n,t),r).on("end.style."+e,null)}function lc(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function hc(e,t,r){var n,i;function u(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&lc(e,a,r)),n}return u._value=t,u}function dc(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,hc(e,t,r??""))}function vc(e){return function(){this.textContent=e}}function pc(e){return function(){var t=e(this);this.textContent=t??""}}function Dc(e){return this.tween("text",typeof e=="function"?pc(Rn(this,"text",e)):vc(e==null?"":e+""))}function gc(e){return function(t){this.textContent=e.call(this,t)}}function mc(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&gc(i)),t}return n._value=e,n}function wc(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,mc(e))}function yc(){for(var e=this._name,t=this._id,r=Su(),n=this._groups,i=n.length,u=0;u<i;++u)for(var a=n[u],f=a.length,l,c=0;c<f;++c)if(l=a[c]){var o=ht(l,t);rn(l,e,r,c,a,{time:o.time+o.delay+o.duration,delay:0,duration:o.duration,ease:o.ease})}return new Ct(n,this._parents,e,r)}function _c(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(u,a){var f={value:a},l={value:function(){--i===0&&u()}};r.each(function(){var c=wt(this,n),o=c.on;o!==e&&(t=(e=o).copy(),t._.cancel.push(f),t._.interrupt.push(f),t._.end.push(l)),c.on=t}),i===0&&u()})}var Fc=0;function Ct(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Su(){return++Fc}var At=vr.prototype;Ct.prototype={constructor:Ct,select:rc,selectAll:nc,selectChild:At.selectChild,selectChildren:At.selectChildren,filter:Wf,merge:Kf,selection:uc,transition:yc,call:At.call,nodes:At.nodes,node:At.node,size:At.size,empty:At.empty,each:At.each,on:jf,attr:zf,attrTween:Rf,style:cc,styleTween:dc,text:Dc,textTween:wc,remove:tc,tween:Cf,delay:Uf,duration:Hf,ease:Yf,easeVarying:Jf,end:_c,[Symbol.iterator]:At[Symbol.iterator]};function Ac(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var bc={time:null,delay:0,duration:250,ease:Ac};function Ec(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function Cc(e){var t,r;e instanceof Ct?(t=e._id,e=e._name):(t=Su(),(r=bc).time=Pn(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,u=0;u<i;++u)for(var a=n[u],f=a.length,l,c=0;c<f;++c)(l=a[c])&&rn(l,e,t,c,a,r||Ec(l,t));return new Ct(n,this._parents,e,t)}vr.prototype.interrupt=Af;vr.prototype.transition=Cc;function sr(e,t,r){this.k=e,this.x=t,this.y=r}sr.prototype={constructor:sr,scale:function(e){return e===1?this:new sr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new sr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};sr.prototype;function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rr.apply(null,arguments)}var Bu={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Sc(e,t){if(qr(e,t))return e[t];throw typeof e[t]=="function"&&Mc(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Bc(e,t,r){if(qr(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function qr(e,t){return!xc(e)&&!Array.isArray(e)?!1:lr(Nc,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Mc(e,t){return e==null||typeof e[t]!="function"||lr(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:lr(Tc,t)?!0:!(t in Object.prototype||t in Function.prototype)}function xc(e){return typeof e=="object"&&e&&e.constructor===Object}var Nc={length:!0,name:!0},Tc={toString:!0,valueOf:!0,toLocaleString:!0};class zc{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return Sc(this.wrappedObject,t)}set(t,r){return Bc(this.wrappedObject,t,r),this}has(t){return qr(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return Ic(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){qr(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function Ic(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function Me(e){return typeof e=="number"}function Re(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Oc(e){return typeof e=="bigint"}function Mu(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function xu(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function Nu(e){return e&&e.constructor.prototype.isUnit===!0||!1}function pt(e){return typeof e=="string"}var $e=Array.isArray;function Ie(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function cr(e){return Array.isArray(e)||Ie(e)}function Tu(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function zu(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Pc(e){return e&&e.constructor.prototype.isRange===!0||!1}function qn(e){return e&&e.constructor.prototype.isIndex===!0||!1}function $c(e){return typeof e=="boolean"}function Rc(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function qc(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Lc(e){return typeof e=="function"}function Uc(e){return e instanceof Date}function Vc(e){return e instanceof RegExp}function Ln(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!Mu(e)&&!xu(e))}function Zc(e){return e?e instanceof Map||e instanceof zc||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function Hc(e){return e===null}function Xc(e){return e===void 0}function Yc(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Gc(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Jc(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Wc(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Kc(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Qc(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function kc(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function jc(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function el(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function tl(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function rl(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function nl(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function il(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function ul(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function al(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function ol(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function sl(e){return e&&e.constructor.prototype.isChain===!0||!1}function gt(e){var t=typeof e;return t==="object"?e===null?"null":Re(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Be(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return Be(r)});if(e instanceof Date)return new Date(e.valueOf());if(Re(e))return e;if(Ln(e))return fl(e,Be);if(t==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function fl(e,t){var r={};for(var n in e)lr(e,n)&&(r[n]=t(e[n]));return r}function cl(e,t){for(var r in t)lr(t,r)&&(e[r]=t[r]);return e}function Tt(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!Tt(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!Tt(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function lr(e,t){return e&&Object.hasOwnProperty.call(e,t)}function ll(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],u=e[i];u!==void 0&&(r[i]=u)}return r}var hl=["Matrix","Array"],dl=["number","BigNumber","Fraction"],et=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Bu)};Rr(et,Bu,{MATRIX_OPTIONS:hl,NUMBER_OPTIONS:dl});function fi(){return!0}function it(){return!1}function Ht(){}const ci="Argument is not a typed-function.";function Iu(){function e(E){return typeof E=="object"&&E!==null&&E.constructor===Object}const t=[{name:"number",test:function(E){return typeof E=="number"}},{name:"string",test:function(E){return typeof E=="string"}},{name:"boolean",test:function(E){return typeof E=="boolean"}},{name:"Function",test:function(E){return typeof E=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(E){return E instanceof Date}},{name:"RegExp",test:function(E){return E instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(E){return E===null}},{name:"undefined",test:function(E){return E===void 0}}],r={name:"any",test:fi,isAny:!0};let n,i,u=0,a={createCount:0};function f(E){const M=n.get(E);if(M)return M;let T='Unknown type "'+E+'"';const R=E.toLowerCase();let V;for(V of i)if(V.toLowerCase()===R){T+='. Did you mean "'+V+'" ?';break}throw new TypeError(T)}function l(E){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const T=M?f(M).index:i.length,R=[];for(let L=0;L<E.length;++L){if(!E[L]||typeof E[L].name!="string"||typeof E[L].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const K=E[L].name;if(n.has(K))throw new TypeError('Duplicate type name "'+K+'"');R.push(K),n.set(K,{name:K,test:E[L].test,isAny:E[L].isAny,index:T+L,conversionsTo:[]})}const V=i.slice(T);i=i.slice(0,T).concat(R).concat(V);for(let L=T+R.length;L<i.length;++L)n.get(i[L]).index=L}function c(){n=new Map,i=[],u=0,l([r],!1)}c(),l(t);function o(){let E;for(E of i)n.get(E).conversionsTo=[];u=0}function s(E){const M=i.filter(T=>{const R=n.get(T);return!R.isAny&&R.test(E)});return M.length?M:["any"]}function d(E){return E&&typeof E=="function"&&"_typedFunctionData"in E}function v(E,M,T){if(!d(E))throw new TypeError(ci);const R=T&&T.exact,V=Array.isArray(M)?M.join(","):M,L=F(V),K=D(L);if(!R||K in E.signatures){const Ee=E._typedFunctionData.signatureMap.get(K);if(Ee)return Ee}const Y=L.length;let Q;if(R){Q=[];let Ee;for(Ee in E.signatures)Q.push(E._typedFunctionData.signatureMap.get(Ee))}else Q=E._typedFunctionData.signatures;for(let Ee=0;Ee<Y;++Ee){const Se=L[Ee],Ue=[];let Ke;for(Ke of Q){const We=b(Ke.params,Ee);if(!(!We||Se.restParam&&!We.restParam)){if(!We.hasAny){const ot=w(We);if(Se.types.some(st=>!ot.has(st.name)))continue}Ue.push(Ke)}}if(Q=Ue,Q.length===0)break}let X;for(X of Q)if(X.params.length<=Y)return X;throw new TypeError("Signature not found (signature: "+(E.name||"unnamed")+"("+D(L,", ")+"))")}function p(E,M,T){return v(E,M,T).implementation}function h(E,M){const T=f(M);if(T.test(E))return E;const R=T.conversionsTo;if(R.length===0)throw new Error("There are no conversions to "+M+" defined.");for(let V=0;V<R.length;V++)if(f(R[V].from).test(E))return R[V].convert(E);throw new Error("Cannot convert "+E+" to "+M)}function D(E){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return E.map(T=>T.name).join(M)}function m(E){const M=E.indexOf("...")===0,R=(M?E.length>3?E.slice(3):"any":E).split("|").map(Y=>f(Y.trim()));let V=!1,L=M?"...":"";return{types:R.map(function(Y){return V=Y.isAny||V,L+=Y.name+"|",{name:Y.name,typeIndex:Y.index,test:Y.test,isAny:Y.isAny,conversion:null,conversionIndex:-1}}),name:L.slice(0,-1),hasAny:V,hasConversion:!1,restParam:M}}function y(E){const M=E.types.map(K=>K.name),T=G(M);let R=E.hasAny,V=E.name;const L=T.map(function(K){const Y=f(K.from);return R=Y.isAny||R,V+="|"+K.from,{name:K.from,typeIndex:Y.index,test:Y.test,isAny:Y.isAny,conversion:K,conversionIndex:K.index}});return{types:E.types.concat(L),name:V,hasAny:R,hasConversion:L.length>0,restParam:E.restParam}}function w(E){return E.typeSet||(E.typeSet=new Set,E.types.forEach(M=>E.typeSet.add(M.name))),E.typeSet}function F(E){const M=[];if(typeof E!="string")throw new TypeError("Signatures must be strings");const T=E.trim();if(T==="")return M;const R=T.split(",");for(let V=0;V<R.length;++V){const L=m(R[V].trim());if(L.restParam&&V!==R.length-1)throw new SyntaxError('Unexpected rest parameter "'+R[V]+'": only allowed for the last parameter');if(L.types.length===0)return null;M.push(L)}return M}function _(E){const M=pe(E);return M?M.restParam:!1}function g(E){if(!E||E.types.length===0)return fi;if(E.types.length===1)return f(E.types[0].name).test;if(E.types.length===2){const M=f(E.types[0].name).test,T=f(E.types[1].name).test;return function(V){return M(V)||T(V)}}else{const M=E.types.map(function(T){return f(T.name).test});return function(R){for(let V=0;V<M.length;V++)if(M[V](R))return!0;return!1}}}function C(E){let M,T,R;if(_(E)){M=we(E).map(g);const V=M.length,L=g(pe(E)),K=function(Y){for(let Q=V;Q<Y.length;Q++)if(!L(Y[Q]))return!1;return!0};return function(Q){for(let X=0;X<M.length;X++)if(!M[X](Q[X]))return!1;return K(Q)&&Q.length>=V+1}}else return E.length===0?function(L){return L.length===0}:E.length===1?(T=g(E[0]),function(L){return T(L[0])&&L.length===1}):E.length===2?(T=g(E[0]),R=g(E[1]),function(L){return T(L[0])&&R(L[1])&&L.length===2}):(M=E.map(g),function(L){for(let K=0;K<M.length;K++)if(!M[K](L[K]))return!1;return L.length===M.length})}function b(E,M){return M<E.length?E[M]:_(E)?pe(E):null}function A(E,M){const T=b(E,M);return T?w(T):new Set}function S(E){return E.conversion===null||E.conversion===void 0}function B(E,M){const T=new Set;return E.forEach(R=>{const V=A(R.params,M);let L;for(L of V)T.add(L)}),T.has("any")?["any"]:Array.from(T)}function I(E,M,T){let R,V;const L=E||"unnamed";let K=T,Y;for(Y=0;Y<M.length;Y++){const Se=[];if(K.forEach(Ue=>{const Ke=b(Ue.params,Y),We=g(Ke);(Y<Ue.params.length||_(Ue.params))&&We(M[Y])&&Se.push(Ue)}),Se.length===0){if(V=B(K,Y),V.length>0){const Ue=s(M[Y]);return R=new TypeError("Unexpected type of argument in function "+L+" (expected: "+V.join(" or ")+", actual: "+Ue.join(" | ")+", index: "+Y+")"),R.data={category:"wrongType",fn:L,index:Y,actual:Ue,expected:V},R}}else K=Se}const Q=K.map(function(Se){return _(Se.params)?1/0:Se.params.length});if(M.length<Math.min.apply(null,Q))return V=B(K,Y),R=new TypeError("Too few arguments in function "+L+" (expected: "+V.join(" or ")+", index: "+M.length+")"),R.data={category:"tooFewArgs",fn:L,index:M.length,expected:V},R;const X=Math.max.apply(null,Q);if(M.length>X)return R=new TypeError("Too many arguments in function "+L+" (expected: "+X+", actual: "+M.length+")"),R.data={category:"tooManyArgs",fn:L,index:M.length,expectedLength:X},R;const Ee=[];for(let Se=0;Se<M.length;++Se)Ee.push(s(M[Se]).join("|"));return R=new TypeError('Arguments of type "'+Ee.join(", ")+'" do not match any of the defined signatures of function '+L+"."),R.data={category:"mismatch",actual:Ee},R}function q(E){let M=i.length+1;for(let T=0;T<E.types.length;T++)S(E.types[T])&&(M=Math.min(M,E.types[T].typeIndex));return M}function O(E){let M=u+1;for(let T=0;T<E.types.length;T++)S(E.types[T])||(M=Math.min(M,E.types[T].conversionIndex));return M}function P(E,M){if(E.hasAny){if(!M.hasAny)return 1}else if(M.hasAny)return-1;if(E.restParam){if(!M.restParam)return 1}else if(M.restParam)return-1;if(E.hasConversion){if(!M.hasConversion)return 1}else if(M.hasConversion)return-1;const T=q(E)-q(M);if(T<0)return-1;if(T>0)return 1;const R=O(E)-O(M);return R<0?-1:R>0?1:0}function x(E,M){const T=E.params,R=M.params,V=pe(T),L=pe(R),K=_(T),Y=_(R);if(K&&V.hasAny){if(!Y||!L.hasAny)return 1}else if(Y&&L.hasAny)return-1;let Q=0,X=0,Ee;for(Ee of T)Ee.hasAny&&++Q,Ee.hasConversion&&++X;let Se=0,Ue=0;for(Ee of R)Ee.hasAny&&++Se,Ee.hasConversion&&++Ue;if(Q!==Se)return Q-Se;if(K&&V.hasConversion){if(!Y||!L.hasConversion)return 1}else if(Y&&L.hasConversion)return-1;if(X!==Ue)return X-Ue;if(K){if(!Y)return 1}else if(Y)return-1;const Ke=(T.length-R.length)*(K?-1:1);if(Ke!==0)return Ke;const We=[];let ot=0;for(let Zt=0;Zt<T.length;++Zt){const yr=P(T[Zt],R[Zt]);We.push(yr),ot+=yr}if(ot!==0)return ot;let st;for(st of We)if(st!==0)return st;return 0}function G(E){if(E.length===0)return[];const M=E.map(f);E.length>1&&M.sort((V,L)=>V.index-L.index);let T=M[0].conversionsTo;if(E.length===1)return T;T=T.concat([]);const R=new Set(E);for(let V=1;V<M.length;++V){let L;for(L of M[V].conversionsTo)R.has(L.from)||(T.push(L),R.add(L.from))}return T}function Z(E,M){let T=M;if(E.some(V=>V.hasConversion)){const V=_(E),L=E.map(z);T=function(){const Y=[],Q=V?arguments.length-1:arguments.length;for(let X=0;X<Q;X++)Y[X]=L[X](arguments[X]);return V&&(Y[Q]=arguments[Q].map(L[Q])),M.apply(this,Y)}}let R=T;if(_(E)){const V=E.length-1;R=function(){return T.apply(this,ae(arguments,0,V).concat([ae(arguments,V)]))}}return R}function z(E){let M,T,R,V;const L=[],K=[];switch(E.types.forEach(function(Y){Y.conversion&&(L.push(f(Y.conversion.from).test),K.push(Y.conversion.convert))}),K.length){case 0:return function(Q){return Q};case 1:return M=L[0],R=K[0],function(Q){return M(Q)?R(Q):Q};case 2:return M=L[0],T=L[1],R=K[0],V=K[1],function(Q){return M(Q)?R(Q):T(Q)?V(Q):Q};default:return function(Q){for(let X=0;X<K.length;X++)if(L[X](Q))return K[X](Q);return Q}}}function H(E){function M(T,R,V){if(R<T.length){const L=T[R];let K=[];if(L.restParam){const Y=L.types.filter(S);Y.length<L.types.length&&K.push({types:Y,name:"..."+Y.map(Q=>Q.name).join("|"),hasAny:Y.some(Q=>Q.isAny),hasConversion:!1,restParam:!0}),K.push(L)}else K=L.types.map(function(Y){return{types:[Y],name:Y.name,hasAny:Y.isAny,hasConversion:Y.conversion,restParam:!1}});return N(K,function(Y){return M(T,R+1,V.concat([Y]))})}else return[V]}return M(E,0,[])}function j(E,M){const T=Math.max(E.length,M.length);for(let Y=0;Y<T;Y++){const Q=A(E,Y),X=A(M,Y);let Ee=!1,Se;for(Se of X)if(Q.has(Se)){Ee=!0;break}if(!Ee)return!1}const R=E.length,V=M.length,L=_(E),K=_(M);return L?K?R===V:V>=R:K?R>=V:R===V}function ve(E){return E.map(M=>he(M)?te(M.referToSelf.callback):le(M)?ee(M.referTo.references,M.referTo.callback):M)}function oe(E,M,T){const R=[];let V;for(V of E){let L=T[V];if(typeof L!="number")throw new TypeError('No definition for referenced signature "'+V+'"');if(L=M[L],typeof L!="function")return!1;R.push(L)}return R}function re(E,M,T){const R=ve(E),V=new Array(R.length).fill(!1);let L=!0;for(;L;){L=!1;let K=!0;for(let Y=0;Y<R.length;++Y){if(V[Y])continue;const Q=R[Y];if(he(Q))R[Y]=Q.referToSelf.callback(T),R[Y].referToSelf=Q.referToSelf,V[Y]=!0,K=!1;else if(le(Q)){const X=oe(Q.referTo.references,R,M);X?(R[Y]=Q.referTo.callback.apply(this,X),R[Y].referTo=Q.referTo,V[Y]=!0,K=!1):L=!0}}if(K&&L)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return R}function _e(E){const M=/\bthis(\(|\.signatures\b)/;Object.keys(E).forEach(T=>{const R=E[T];if(M.test(R.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function De(E,M){if(a.createCount++,Object.keys(M).length===0)throw new SyntaxError("No signatures provided");a.warnAgainstDeprecatedThis&&_e(M);const T=[],R=[],V={},L=[];let K;for(K in M){if(!Object.prototype.hasOwnProperty.call(M,K))continue;const be=F(K);if(!be)continue;T.forEach(function(ir){if(j(ir,be))throw new TypeError('Conflicting signatures "'+D(ir)+'" and "'+D(be)+'".')}),T.push(be);const Qe=R.length;R.push(M[K]);const ao=be.map(y);let _r;for(_r of H(ao)){const ir=D(_r);L.push({params:_r,name:ir,fn:Qe}),_r.every(oo=>!oo.hasConversion)&&(V[ir]=Qe)}}L.sort(x);const Y=re(R,V,nr);let Q;for(Q in V)Object.prototype.hasOwnProperty.call(V,Q)&&(V[Q]=Y[V[Q]]);const X=[],Ee=new Map;for(Q of L)Ee.has(Q.name)||(Q.fn=Y[Q.fn],X.push(Q),Ee.set(Q.name,Q));const Se=X[0]&&X[0].params.length<=2&&!_(X[0].params),Ue=X[1]&&X[1].params.length<=2&&!_(X[1].params),Ke=X[2]&&X[2].params.length<=2&&!_(X[2].params),We=X[3]&&X[3].params.length<=2&&!_(X[3].params),ot=X[4]&&X[4].params.length<=2&&!_(X[4].params),st=X[5]&&X[5].params.length<=2&&!_(X[5].params),Zt=Se&&Ue&&Ke&&We&&ot&&st;for(let be=0;be<X.length;++be)X[be].test=C(X[be].params);const yr=Se?g(X[0].params[0]):it,Ta=Ue?g(X[1].params[0]):it,za=Ke?g(X[2].params[0]):it,Ia=We?g(X[3].params[0]):it,Oa=ot?g(X[4].params[0]):it,Pa=st?g(X[5].params[0]):it,$a=Se?g(X[0].params[1]):it,Ra=Ue?g(X[1].params[1]):it,qa=Ke?g(X[2].params[1]):it,La=We?g(X[3].params[1]):it,Ua=ot?g(X[4].params[1]):it,Va=st?g(X[5].params[1]):it;for(let be=0;be<X.length;++be)X[be].implementation=Z(X[be].params,X[be].fn);const Za=Se?X[0].implementation:Ht,Ha=Ue?X[1].implementation:Ht,Xa=Ke?X[2].implementation:Ht,Ya=We?X[3].implementation:Ht,Ga=ot?X[4].implementation:Ht,Ja=st?X[5].implementation:Ht,Wa=Se?X[0].params.length:-1,Ka=Ue?X[1].params.length:-1,Qa=Ke?X[2].params.length:-1,ka=We?X[3].params.length:-1,ja=ot?X[4].params.length:-1,eo=st?X[5].params.length:-1,to=Zt?6:0,ro=X.length,no=X.map(be=>be.test),io=X.map(be=>be.implementation),uo=function(){for(let Qe=to;Qe<ro;Qe++)if(no[Qe](arguments))return io[Qe].apply(this,arguments);return a.onMismatch(E,arguments,X)};function nr(be,Qe){return arguments.length===Wa&&yr(be)&&$a(Qe)?Za.apply(this,arguments):arguments.length===Ka&&Ta(be)&&Ra(Qe)?Ha.apply(this,arguments):arguments.length===Qa&&za(be)&&qa(Qe)?Xa.apply(this,arguments):arguments.length===ka&&Ia(be)&&La(Qe)?Ya.apply(this,arguments):arguments.length===ja&&Oa(be)&&Ua(Qe)?Ga.apply(this,arguments):arguments.length===eo&&Pa(be)&&Va(Qe)?Ja.apply(this,arguments):uo.apply(this,arguments)}try{Object.defineProperty(nr,"name",{value:E})}catch{}return nr.signatures=V,nr._typedFunctionData={signatures:X,signatureMap:Ee},nr}function ce(E,M,T){throw I(E,M,T)}function we(E){return ae(E,0,E.length-1)}function pe(E){return E[E.length-1]}function ae(E,M,T){return Array.prototype.slice.call(E,M,T)}function Ne(E,M){for(let T=0;T<E.length;T++)if(M(E[T]))return E[T]}function N(E,M){return Array.prototype.concat.apply([],E.map(M))}function J(){const E=we(arguments).map(T=>D(F(T))),M=pe(arguments);if(typeof M!="function")throw new TypeError("Callback function expected as last argument");return ee(E,M)}function ee(E,M){return{referTo:{references:E,callback:M}}}function te(E){if(typeof E!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:E}}}function le(E){return E&&typeof E.referTo=="object"&&Array.isArray(E.referTo.references)&&typeof E.referTo.callback=="function"}function he(E){return E&&typeof E.referToSelf=="object"&&typeof E.referToSelf.callback=="function"}function ue(E,M){if(!E)return M;if(M&&M!==E){const T=new Error("Function names do not match (expected: "+E+", actual: "+M+")");throw T.data={actual:M,expected:E},T}return E}function Ae(E){let M;for(const T in E)Object.prototype.hasOwnProperty.call(E,T)&&(d(E[T])||typeof E[T].signature=="string")&&(M=ue(M,E[T].name));return M}function qe(E,M){let T;for(T in M)if(Object.prototype.hasOwnProperty.call(M,T)){if(T in E&&M[T]!==E[T]){const R=new Error('Signature "'+T+'" is defined twice');throw R.data={signature:T,sourceFunction:M[T],destFunction:E[T]},R}E[T]=M[T]}}const fe=a;a=function(E){const M=typeof E=="string",T=M?1:0;let R=M?E:"";const V={};for(let L=T;L<arguments.length;++L){const K=arguments[L];let Y={},Q;if(typeof K=="function"?(Q=K.name,typeof K.signature=="string"?Y[K.signature]=K:d(K)&&(Y=K.signatures)):e(K)&&(Y=K,M||(Q=Ae(K))),Object.keys(Y).length===0){const X=new TypeError("Argument to 'typed' at index "+L+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw X.data={index:L,argument:K},X}M||(R=ue(R,Q)),qe(V,Y)}return De(R||"",V)},a.create=Iu,a.createCount=fe.createCount,a.onMismatch=ce,a.throwMismatchError=ce,a.createError=I,a.clear=c,a.clearConversions=o,a.addTypes=l,a._findType=f,a.referTo=J,a.referToSelf=te,a.convert=h,a.findSignature=v,a.find=p,a.isTypedFunction=d,a.warnAgainstDeprecatedThis=!0,a.addType=function(E,M){let T="any";M!==!1&&n.has("Object")&&(T="Object"),a.addTypes([E],T)};function Oe(E){if(!E||typeof E.from!="string"||typeof E.to!="string"||typeof E.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(E.to===E.from)throw new SyntaxError('Illegal to define conversion from "'+E.from+'" to itself.')}return a.addConversion=function(E){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Oe(E);const T=f(E.to),R=T.conversionsTo.find(V=>V.from===E.from);if(R)if(M&&M.override)a.removeConversion({from:R.from,to:E.to,convert:R.convert});else throw new Error('There is already a conversion from "'+E.from+'" to "'+T.name+'"');T.conversionsTo.push({from:E.from,convert:E.convert,index:u++})},a.addConversions=function(E,M){E.forEach(T=>a.addConversion(T,M))},a.removeConversion=function(E){Oe(E);const M=f(E.to),T=Ne(M.conversionsTo,V=>V.from===E.from);if(!T)throw new Error("Attempt to remove nonexistent conversion from "+E.from+" to "+E.to);if(T.convert!==E.convert)throw new Error("Conversion to remove does not match existing conversion");const R=M.conversionsTo.indexOf(T);M.conversionsTo.splice(R,1)},a.resolve=function(E,M){if(!d(E))throw new TypeError(ci);const T=E._typedFunctionData.signatures;for(let R=0;R<T.length;++R)if(T[R].test(M))return T[R];return null},a}const Lr=Iu();function k(e,t,r,n){function i(u){var a=ll(u,t.map(Dl));return vl(e,t,u),r(a)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),n&&(i.meta=n),i}function vl(e,t,r){var n=t.filter(u=>!pl(u)).every(u=>r[u]!==void 0);if(!n){var i=t.filter(u=>r[u]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function pl(e){return e&&e[0]==="?"}function Dl(e){return e&&e[0]==="?"?e.slice(1):e}function xe(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function gl(e,t){if(t.number==="bigint")try{BigInt(e)}catch{return t.numberFallback}return t.number}function pn(e,t,r){var n={2:"0b",8:"0o",16:"0x"},i=n[t],u="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!xe(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!xe(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),u="i".concat(r)}var a="";return e<0&&(e=-e,a="-"),"".concat(a).concat(i).concat(e.toString(t)).concat(u)}function bn(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:i}=Ou(t);switch(r){case"fixed":return wl(e,n);case"exponential":return Pu(e,n);case"engineering":return ml(e,n);case"bin":return pn(e,2,i);case"oct":return pn(e,8,i);case"hex":return pn(e,16,i);case"auto":return yl(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],a=arguments[4];return u!=="."?u+a:a});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ou(e){var t="auto",r,n;if(e!==void 0)if(Me(e))r=e;else if(Re(e))r=e.toNumber();else if(Ln(e))e.precision!==void 0&&(r=li(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=li(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:n}}function nn(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),u=n.indexOf(".");i+=u!==-1?u-1:n.length-1;var a=n.replace(".","").replace(/^0*/,function(f){return i-=f.length,""}).replace(/0*$/,"").split("").map(function(f){return parseInt(f)});return a.length===0&&(a.push(0),i++),{sign:r,coefficients:a,exponent:i}}function ml(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=nn(e),n=un(r,t),i=n.exponent,u=n.coefficients,a=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Me(t))for(;t>u.length||i-a+1>u.length;)u.push(0);else for(var f=Math.abs(i-a)-(u.length-1),l=0;l<f;l++)u.push(0);for(var c=Math.abs(i-a),o=1;c>0;)o++,c--;var s=u.slice(o).join(""),d=Me(t)&&s.length||s.match(/[1-9]/)?"."+s:"",v=u.slice(0,o).join("")+d+"e"+(i>=0?"+":"")+a.toString();return n.sign+v}function wl(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=nn(e),n=typeof t=="number"?un(r,r.exponent+1+t):r,i=n.coefficients,u=n.exponent+1,a=u+(t||0);return i.length<a&&(i=i.concat(Gt(a-i.length))),u<0&&(i=Gt(-u+1).concat(i),u=1),u<i.length&&i.splice(u,0,u===0?"0.":"."),n.sign+i.join("")}function Pu(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=nn(e),n=t?un(r,t):r,i=n.coefficients,u=n.exponent;i.length<t&&(i=i.concat(Gt(t-i.length)));var a=i.shift();return n.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(u>=0?"+":"")+u}function yl(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=hi(r==null?void 0:r.lowerExp,-3),i=hi(r==null?void 0:r.upperExp,5),u=nn(e),a=t?un(u,t):u;if(a.exponent<n||a.exponent>=i)return Pu(e,t);var f=a.coefficients,l=a.exponent;f.length<t&&(f=f.concat(Gt(t-f.length))),f=f.concat(Gt(l-f.length+1+(f.length<t?t-f.length:0))),f=Gt(-l).concat(f);var c=l>0?l:0;return c<f.length-1&&f.splice(c+1,0,"."),a.sign+f.join("")}function un(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var i=n.splice(t,n.length-t);if(i[0]>=5){var u=t-1;for(n[u]++;n[u]===10;)n.pop(),u===0&&(n.unshift(0),r.exponent++,u++),u--,n[u]++}}return r}function Gt(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function _l(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function St(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!isFinite(e)||!isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n)}function li(e,t){if(Me(e))return e;if(Re(e))return e.toNumber();t()}function hi(e,t){return Me(e)?e:Re(e)?e.toNumber():t}var $u=function(){return $u=Lr.create,Lr},Fl=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Al=k("typed",Fl,function(t){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:u}=t,a=$u();return a.clear(),a.addTypes([{name:"number",test:Me},{name:"Complex",test:Mu},{name:"BigNumber",test:Re},{name:"bigint",test:Oc},{name:"Fraction",test:xu},{name:"Unit",test:Nu},{name:"identifier",test:f=>pt&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(f)},{name:"string",test:pt},{name:"Chain",test:sl},{name:"Array",test:$e},{name:"Matrix",test:Ie},{name:"DenseMatrix",test:Tu},{name:"SparseMatrix",test:zu},{name:"Range",test:Pc},{name:"Index",test:qn},{name:"boolean",test:$c},{name:"ResultSet",test:Rc},{name:"Help",test:qc},{name:"function",test:Lc},{name:"Date",test:Uc},{name:"RegExp",test:Vc},{name:"null",test:Hc},{name:"undefined",test:Xc},{name:"AccessorNode",test:Yc},{name:"ArrayNode",test:Gc},{name:"AssignmentNode",test:Jc},{name:"BlockNode",test:Wc},{name:"ConditionalNode",test:Kc},{name:"ConstantNode",test:Qc},{name:"FunctionNode",test:jc},{name:"FunctionAssignmentNode",test:kc},{name:"IndexNode",test:el},{name:"Node",test:tl},{name:"ObjectNode",test:rl},{name:"OperatorNode",test:nl},{name:"ParenthesisNode",test:il},{name:"RangeNode",test:ul},{name:"RelationalNode",test:al},{name:"SymbolNode",test:ol},{name:"Map",test:Zc},{name:"Object",test:Ln}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(r||Er(l),_l(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new r(l)}},{from:"number",to:"Complex",convert:function(l){return n||Cr(l),new n(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return n||Cr(l),new n(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return r||Er(l),new r(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return u||Sr(l),new u(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return n||Cr(l),new n(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){u||Sr(l);var c=new u(l);if(c.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(l){var c=Number(l);if(isNaN(c))throw new Error('Cannot convert "'+l+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(l){r||Er(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){u||Sr(l);try{return new u(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){n||Cr(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return r||Er(l),new r(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return u||Sr(l),new u(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||bl(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),a.onMismatch=(f,l,c)=>{var o=a.createError(f,l,c);if(["wrongType","mismatch"].includes(o.data.category)&&l.length===1&&cr(l[0])&&c.some(d=>!d.params.includes(","))){var s=new TypeError("Function '".concat(f,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(f,")'."));throw s.data=o.data,s}throw o},a.onMismatch=(f,l,c)=>{var o=a.createError(f,l,c);if(["wrongType","mismatch"].includes(o.data.category)&&l.length===1&&cr(l[0])&&c.some(d=>!d.params.includes(","))){var s=new TypeError("Function '".concat(f,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(f,")'."));throw s.data=o.data,s}throw o},a});function Er(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Cr(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function bl(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Sr(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var En=9e15,It=1e9,Cn="0123456789abcdef",Ur="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Vr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Sn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:En,crypto:!1},Ru,Et,de=!0,an="[DecimalError] ",zt=an+"Invalid argument: ",qu=an+"Precision limit exceeded",Lu=an+"crypto unavailable",Uu="[object Decimal]",Je=Math.floor,Ve=Math.pow,El=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Cl=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Sl=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Vu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ct=1e7,se=7,Bl=9007199254740991,Ml=Ur.length-1,Bn=Vr.length-1,U={toStringTag:Uu};U.absoluteValue=U.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),ie(e)};U.ceil=function(){return ie(new this.constructor(this),this.e+1,2)};U.clampedTo=U.clamp=function(e,t){var r,n=this,i=n.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(zt+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new i(n)};U.comparedTo=U.cmp=function(e){var t,r,n,i,u=this,a=u.d,f=(e=new u.constructor(e)).d,l=u.s,c=e.s;if(!a||!f)return!l||!c?NaN:l!==c?l:a===f?0:!a^l<0?1:-1;if(!a[0]||!f[0])return a[0]?l:f[0]?-c:0;if(l!==c)return l;if(u.e!==e.e)return u.e>e.e^l<0?1:-1;for(n=a.length,i=f.length,t=0,r=n<i?n:i;t<r;++t)if(a[t]!==f[t])return a[t]>f[t]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1};U.cosine=U.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+se,n.rounding=1,r=xl(n,Gu(n,r)),n.precision=e,n.rounding=t,ie(Et==2||Et==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};U.cubeRoot=U.cbrt=function(){var e,t,r,n,i,u,a,f,l,c,o=this,s=o.constructor;if(!o.isFinite()||o.isZero())return new s(o);for(de=!1,u=o.s*Ve(o.s*o,1/3),!u||Math.abs(u)==1/0?(r=Ye(o.d),e=o.e,(u=(e-r.length+1)%3)&&(r+=u==1||u==-2?"0":"00"),u=Ve(r,1/3),e=Je((e+1)/3)-(e%3==(e<0?-1:2)),u==1/0?r="5e"+e:(r=u.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new s(r),n.s=o.s):n=new s(u.toString()),a=(e=s.precision)+3;;)if(f=n,l=f.times(f).times(f),c=l.plus(o),n=Ce(c.plus(o).times(f),c.plus(l),a+2,1),Ye(f.d).slice(0,a)===(r=Ye(n.d)).slice(0,a))if(r=r.slice(a-3,a+1),r=="9999"||!i&&r=="4999"){if(!i&&(ie(f,e+1,0),f.times(f).times(f).eq(o))){n=f;break}a+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(ie(n,e+1,1),t=!n.times(n).times(n).eq(o));break}return de=!0,ie(n,e,s.rounding,t)};U.decimalPlaces=U.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-Je(this.e/se))*se,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};U.dividedBy=U.div=function(e){return Ce(this,new this.constructor(e))};U.dividedToIntegerBy=U.divToInt=function(e){var t=this,r=t.constructor;return ie(Ce(t,new r(e),0,1,1),r.precision,r.rounding)};U.equals=U.eq=function(e){return this.cmp(e)===0};U.floor=function(){return ie(new this.constructor(this),this.e+1,3)};U.greaterThan=U.gt=function(e){return this.cmp(e)>0};U.greaterThanOrEqualTo=U.gte=function(e){var t=this.cmp(e);return t==1||t===0};U.hyperbolicCosine=U.cosh=function(){var e,t,r,n,i,u=this,a=u.constructor,f=new a(1);if(!u.isFinite())return new a(u.s?1/0:NaN);if(u.isZero())return f;r=a.precision,n=a.rounding,a.precision=r+Math.max(u.e,u.sd())+4,a.rounding=1,i=u.d.length,i<32?(e=Math.ceil(i/3),t=(1/sn(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),u=Kt(a,1,u.times(t),new a(1),!0);for(var l,c=e,o=new a(8);c--;)l=u.times(u),u=f.minus(l.times(o.minus(l.times(o))));return ie(u,a.precision=r,a.rounding=n,!0)};U.hyperbolicSine=U.sinh=function(){var e,t,r,n,i=this,u=i.constructor;if(!i.isFinite()||i.isZero())return new u(i);if(t=u.precision,r=u.rounding,u.precision=t+Math.max(i.e,i.sd())+4,u.rounding=1,n=i.d.length,n<3)i=Kt(u,2,i,i,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,i=i.times(1/sn(5,e)),i=Kt(u,2,i,i,!0);for(var a,f=new u(5),l=new u(16),c=new u(20);e--;)a=i.times(i),i=i.times(f.plus(a.times(l.times(a).plus(c))))}return u.precision=t,u.rounding=r,ie(i,t,r,!0)};U.hyperbolicTangent=U.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,Ce(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};U.inverseCosine=U.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return r!==-1?r===0?e.isNeg()?Dt(t,n,i):new t(0):new t(NaN):e.isZero()?Dt(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))};U.inverseHyperbolicCosine=U.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,de=!1,r=r.times(r).minus(1).sqrt().plus(r),de=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};U.inverseHyperbolicSine=U.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,de=!1,r=r.times(r).plus(1).sqrt().plus(r),de=!0,n.precision=e,n.rounding=t,r.ln())};U.inverseHyperbolicTangent=U.atanh=function(){var e,t,r,n,i=this,u=i.constructor;return i.isFinite()?i.e>=0?new u(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=u.precision,t=u.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?ie(new u(i),e,t,!0):(u.precision=r=n-i.e,i=Ce(i.plus(1),new u(1).minus(i),r+e,1),u.precision=e+4,u.rounding=1,i=i.ln(),u.precision=e,u.rounding=t,i.times(.5))):new u(NaN)};U.inverseSine=U.asin=function(){var e,t,r,n,i=this,u=i.constructor;return i.isZero()?new u(i):(t=i.abs().cmp(1),r=u.precision,n=u.rounding,t!==-1?t===0?(e=Dt(u,r+4,n).times(.5),e.s=i.s,e):new u(NaN):(u.precision=r+6,u.rounding=1,i=i.div(new u(1).minus(i.times(i)).sqrt().plus(1)).atan(),u.precision=r,u.rounding=n,i.times(2)))};U.inverseTangent=U.atan=function(){var e,t,r,n,i,u,a,f,l,c=this,o=c.constructor,s=o.precision,d=o.rounding;if(c.isFinite()){if(c.isZero())return new o(c);if(c.abs().eq(1)&&s+4<=Bn)return a=Dt(o,s+4,d).times(.25),a.s=c.s,a}else{if(!c.s)return new o(NaN);if(s+4<=Bn)return a=Dt(o,s+4,d).times(.5),a.s=c.s,a}for(o.precision=f=s+10,o.rounding=1,r=Math.min(28,f/se+2|0),e=r;e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(de=!1,t=Math.ceil(f/se),n=1,l=c.times(c),a=new o(c),i=c;e!==-1;)if(i=i.times(l),u=a.minus(i.div(n+=2)),i=i.times(l),a=u.plus(i.div(n+=2)),a.d[t]!==void 0)for(e=t;a.d[e]===u.d[e]&&e--;);return r&&(a=a.times(2<<r-1)),de=!0,ie(a,o.precision=s,o.rounding=d,!0)};U.isFinite=function(){return!!this.d};U.isInteger=U.isInt=function(){return!!this.d&&Je(this.e/se)>this.d.length-2};U.isNaN=function(){return!this.s};U.isNegative=U.isNeg=function(){return this.s<0};U.isPositive=U.isPos=function(){return this.s>0};U.isZero=function(){return!!this.d&&this.d[0]===0};U.lessThan=U.lt=function(e){return this.cmp(e)<0};U.lessThanOrEqualTo=U.lte=function(e){return this.cmp(e)<1};U.logarithm=U.log=function(e){var t,r,n,i,u,a,f,l,c=this,o=c.constructor,s=o.precision,d=o.rounding,v=5;if(e==null)e=new o(10),t=!0;else{if(e=new o(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new o(NaN);t=e.eq(10)}if(r=c.d,c.s<0||!r||!r[0]||c.eq(1))return new o(r&&!r[0]?-1/0:c.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)u=!0;else{for(i=r[0];i%10===0;)i/=10;u=i!==1}if(de=!1,f=s+v,a=Nt(c,f),n=t?Zr(o,f+10):Nt(e,f),l=Ce(a,n,f,1),hr(l.d,i=s,d))do if(f+=10,a=Nt(c,f),n=t?Zr(o,f+10):Nt(e,f),l=Ce(a,n,f,1),!u){+Ye(l.d).slice(i+1,i+15)+1==1e14&&(l=ie(l,s+1,0));break}while(hr(l.d,i+=10,d));return de=!0,ie(l,s,d)};U.minus=U.sub=function(e){var t,r,n,i,u,a,f,l,c,o,s,d,v=this,p=v.constructor;if(e=new p(e),!v.d||!e.d)return!v.s||!e.s?e=new p(NaN):v.d?e.s=-e.s:e=new p(e.d||v.s!==e.s?v:NaN),e;if(v.s!=e.s)return e.s=-e.s,v.plus(e);if(c=v.d,d=e.d,f=p.precision,l=p.rounding,!c[0]||!d[0]){if(d[0])e.s=-e.s;else if(c[0])e=new p(v);else return new p(l===3?-0:0);return de?ie(e,f,l):e}if(r=Je(e.e/se),o=Je(v.e/se),c=c.slice(),u=o-r,u){for(s=u<0,s?(t=c,u=-u,a=d.length):(t=d,r=o,a=c.length),n=Math.max(Math.ceil(f/se),a)+2,u>n&&(u=n,t.length=1),t.reverse(),n=u;n--;)t.push(0);t.reverse()}else{for(n=c.length,a=d.length,s=n<a,s&&(a=n),n=0;n<a;n++)if(c[n]!=d[n]){s=c[n]<d[n];break}u=0}for(s&&(t=c,c=d,d=t,e.s=-e.s),a=c.length,n=d.length-a;n>0;--n)c[a++]=0;for(n=d.length;n>u;){if(c[--n]<d[n]){for(i=n;i&&c[--i]===0;)c[i]=ct-1;--c[i],c[n]+=ct}c[n]-=d[n]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=on(c,r),de?ie(e,f,l):e):new p(l===3?-0:0)};U.modulo=U.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?ie(new n(r),n.precision,n.rounding):(de=!1,n.modulo==9?(t=Ce(r,e.abs(),0,3,1),t.s*=e.s):t=Ce(r,e,0,n.modulo,1),t=t.times(e),de=!0,r.minus(t))};U.naturalExponential=U.exp=function(){return Mn(this)};U.naturalLogarithm=U.ln=function(){return Nt(this)};U.negated=U.neg=function(){var e=new this.constructor(this);return e.s=-e.s,ie(e)};U.plus=U.add=function(e){var t,r,n,i,u,a,f,l,c,o,s=this,d=s.constructor;if(e=new d(e),!s.d||!e.d)return!s.s||!e.s?e=new d(NaN):s.d||(e=new d(e.d||s.s===e.s?s:NaN)),e;if(s.s!=e.s)return e.s=-e.s,s.minus(e);if(c=s.d,o=e.d,f=d.precision,l=d.rounding,!c[0]||!o[0])return o[0]||(e=new d(s)),de?ie(e,f,l):e;if(u=Je(s.e/se),n=Je(e.e/se),c=c.slice(),i=u-n,i){for(i<0?(r=c,i=-i,a=o.length):(r=o,n=u,a=c.length),u=Math.ceil(f/se),a=u>a?u+1:a+1,i>a&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(a=c.length,i=o.length,a-i<0&&(i=a,r=o,o=c,c=r),t=0;i;)t=(c[--i]=c[i]+o[i]+t)/ct|0,c[i]%=ct;for(t&&(c.unshift(t),++n),a=c.length;c[--a]==0;)c.pop();return e.d=c,e.e=on(c,n),de?ie(e,f,l):e};U.precision=U.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zt+e);return r.d?(t=Zu(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};U.round=function(){var e=this,t=e.constructor;return ie(new t(e),e.e+1,t.rounding)};U.sine=U.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+se,n.rounding=1,r=Tl(n,Gu(n,r)),n.precision=e,n.rounding=t,ie(Et>2?r.neg():r,e,t,!0)):new n(NaN)};U.squareRoot=U.sqrt=function(){var e,t,r,n,i,u,a=this,f=a.d,l=a.e,c=a.s,o=a.constructor;if(c!==1||!f||!f[0])return new o(!c||c<0&&(!f||f[0])?NaN:f?a:1/0);for(de=!1,c=Math.sqrt(+a),c==0||c==1/0?(t=Ye(f),(t.length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=Je((l+1)/2)-(l<0||l%2),c==1/0?t="5e"+l:(t=c.toExponential(),t=t.slice(0,t.indexOf("e")+1)+l),n=new o(t)):n=new o(c.toString()),r=(l=o.precision)+3;;)if(u=n,n=u.plus(Ce(a,u,r+2,1)).times(.5),Ye(u.d).slice(0,r)===(t=Ye(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!i&&t=="4999"){if(!i&&(ie(u,l+1,0),u.times(u).eq(a))){n=u;break}r+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(ie(n,l+1,1),e=!n.times(n).eq(a));break}return de=!0,ie(n,l,o.rounding,e)};U.tangent=U.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=Ce(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,ie(Et==2||Et==4?r.neg():r,e,t,!0)):new n(NaN)};U.times=U.mul=function(e){var t,r,n,i,u,a,f,l,c,o=this,s=o.constructor,d=o.d,v=(e=new s(e)).d;if(e.s*=o.s,!d||!d[0]||!v||!v[0])return new s(!e.s||d&&!d[0]&&!v||v&&!v[0]&&!d?NaN:!d||!v?e.s/0:e.s*0);for(r=Je(o.e/se)+Je(e.e/se),l=d.length,c=v.length,l<c&&(u=d,d=v,v=u,a=l,l=c,c=a),u=[],a=l+c,n=a;n--;)u.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)f=u[i]+v[n]*d[i-n-1]+t,u[i--]=f%ct|0,t=f/ct|0;u[i]=(u[i]+t)%ct|0}for(;!u[--a];)u.pop();return t?++r:u.shift(),e.d=u,e.e=on(u,r),de?ie(e,s.precision,s.rounding):e};U.toBinary=function(e,t){return Un(this,2,e,t)};U.toDecimalPlaces=U.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(je(e,0,It),t===void 0?t=n.rounding:je(t,0,8),ie(r,e+r.e+1,t))};U.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=mt(n,!0):(je(e,0,It),t===void 0?t=i.rounding:je(t,0,8),n=ie(new i(n),e+1,t),r=mt(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};U.toFixed=function(e,t){var r,n,i=this,u=i.constructor;return e===void 0?r=mt(i):(je(e,0,It),t===void 0?t=u.rounding:je(t,0,8),n=ie(new u(i),e+i.e+1,t),r=mt(n,!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};U.toFraction=function(e){var t,r,n,i,u,a,f,l,c,o,s,d,v=this,p=v.d,h=v.constructor;if(!p)return new h(v);if(c=r=new h(1),n=l=new h(0),t=new h(n),u=t.e=Zu(p)-v.e-1,a=u%se,t.d[0]=Ve(10,a<0?se+a:a),e==null)e=u>0?t:c;else{if(f=new h(e),!f.isInt()||f.lt(c))throw Error(zt+f);e=f.gt(t)?u>0?t:c:f}for(de=!1,f=new h(Ye(p)),o=h.precision,h.precision=u=p.length*se*2;s=Ce(f,t,0,1,1),i=r.plus(s.times(n)),i.cmp(e)!=1;)r=n,n=i,i=c,c=l.plus(s.times(i)),l=i,i=t,t=f.minus(s.times(i)),f=i;return i=Ce(e.minus(r),n,0,1,1),l=l.plus(i.times(c)),r=r.plus(i.times(n)),l.s=c.s=v.s,d=Ce(c,n,u,1).minus(v).abs().cmp(Ce(l,r,u,1).minus(v).abs())<1?[c,n]:[l,r],h.precision=o,de=!0,d};U.toHexadecimal=U.toHex=function(e,t){return Un(this,16,e,t)};U.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:je(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(de=!1,r=Ce(r,e,0,t,1).times(e),de=!0,ie(r)):(e.s=r.s,r=e),r};U.toNumber=function(){return+this};U.toOctal=function(e,t){return Un(this,8,e,t)};U.toPower=U.pow=function(e){var t,r,n,i,u,a,f=this,l=f.constructor,c=+(e=new l(e));if(!f.d||!e.d||!f.d[0]||!e.d[0])return new l(Ve(+f,c));if(f=new l(f),f.eq(1))return f;if(n=l.precision,u=l.rounding,e.eq(1))return ie(f,n,u);if(t=Je(e.e/se),t>=e.d.length-1&&(r=c<0?-c:c)<=Bl)return i=Hu(l,f,r,n),e.s<0?new l(1).div(i):ie(i,n,u);if(a=f.s,a<0){if(t<e.d.length-1)return new l(NaN);if((e.d[t]&1)==0&&(a=1),f.e==0&&f.d[0]==1&&f.d.length==1)return f.s=a,f}return r=Ve(+f,c),t=r==0||!isFinite(r)?Je(c*(Math.log("0."+Ye(f.d))/Math.LN10+f.e+1)):new l(r+"").e,t>l.maxE+1||t<l.minE-1?new l(t>0?a/0:0):(de=!1,l.rounding=f.s=1,r=Math.min(12,(t+"").length),i=Mn(e.times(Nt(f,n+r)),n),i.d&&(i=ie(i,n+5,1),hr(i.d,n,u)&&(t=n+10,i=ie(Mn(e.times(Nt(f,t+r)),t),t+5,1),+Ye(i.d).slice(n+1,n+15)+1==1e14&&(i=ie(i,n+1,0)))),i.s=a,de=!0,l.rounding=u,ie(i,n,u))};U.toPrecision=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=mt(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(je(e,1,It),t===void 0?t=i.rounding:je(t,0,8),n=ie(new i(n),e,t),r=mt(n,e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};U.toSignificantDigits=U.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(je(e,1,It),t===void 0?t=n.rounding:je(t,0,8)),ie(new n(r),e,t)};U.toString=function(){var e=this,t=e.constructor,r=mt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};U.truncated=U.trunc=function(){return ie(new this.constructor(this),this.e+1,1)};U.valueOf=U.toJSON=function(){var e=this,t=e.constructor,r=mt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Ye(e){var t,r,n,i=e.length-1,u="",a=e[0];if(i>0){for(u+=a,t=1;t<i;t++)n=e[t]+"",r=se-n.length,r&&(u+=Mt(r)),u+=n;a=e[t],n=a+"",r=se-n.length,r&&(u+=Mt(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return u+a}function je(e,t,r){if(e!==~~e||e<t||e>r)throw Error(zt+e)}function hr(e,t,r,n){var i,u,a,f;for(u=e[0];u>=10;u/=10)--t;return--t<0?(t+=se,i=0):(i=Math.ceil((t+1)/se),t%=se),u=Ve(10,se-t),f=e[i]%u|0,n==null?t<3?(t==0?f=f/100|0:t==1&&(f=f/10|0),a=r<4&&f==99999||r>3&&f==49999||f==5e4||f==0):a=(r<4&&f+1==u||r>3&&f+1==u/2)&&(e[i+1]/u/100|0)==Ve(10,t-2)-1||(f==u/2||f==0)&&(e[i+1]/u/100|0)==0:t<4?(t==0?f=f/1e3|0:t==1?f=f/100|0:t==2&&(f=f/10|0),a=(n||r<4)&&f==9999||!n&&r>3&&f==4999):a=((n||r<4)&&f+1==u||!n&&r>3&&f+1==u/2)&&(e[i+1]/u/1e3|0)==Ve(10,t-3)-1,a}function Tr(e,t,r){for(var n,i=[0],u,a=0,f=e.length;a<f;){for(u=i.length;u--;)i[u]*=t;for(i[0]+=Cn.indexOf(e.charAt(a++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function xl(e,t){var r,n,i;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),i=(1/sn(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=Kt(e,1,t.times(i),new e(1));for(var u=r;u--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=r,t}var Ce=function(){function e(n,i,u){var a,f=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+f,n[l]=a%u|0,f=a/u|0;return f&&n.unshift(f),n}function t(n,i,u,a){var f,l;if(u!=a)l=u>a?1:-1;else for(f=l=0;f<u;f++)if(n[f]!=i[f]){l=n[f]>i[f]?1:-1;break}return l}function r(n,i,u,a){for(var f=0;u--;)n[u]-=f,f=n[u]<i[u]?1:0,n[u]=f*a+n[u]-i[u];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,u,a,f,l){var c,o,s,d,v,p,h,D,m,y,w,F,_,g,C,b,A,S,B,I,q=n.constructor,O=n.s==i.s?1:-1,P=n.d,x=i.d;if(!P||!P[0]||!x||!x[0])return new q(!n.s||!i.s||(P?x&&P[0]==x[0]:!x)?NaN:P&&P[0]==0||!x?O*0:O/0);for(l?(v=1,o=n.e-i.e):(l=ct,v=se,o=Je(n.e/v)-Je(i.e/v)),B=x.length,A=P.length,m=new q(O),y=m.d=[],s=0;x[s]==(P[s]||0);s++);if(x[s]>(P[s]||0)&&o--,u==null?(g=u=q.precision,a=q.rounding):f?g=u+(n.e-i.e)+1:g=u,g<0)y.push(1),p=!0;else{if(g=g/v+2|0,s=0,B==1){for(d=0,x=x[0],g++;(s<A||d)&&g--;s++)C=d*l+(P[s]||0),y[s]=C/x|0,d=C%x|0;p=d||s<A}else{for(d=l/(x[0]+1)|0,d>1&&(x=e(x,d,l),P=e(P,d,l),B=x.length,A=P.length),b=B,w=P.slice(0,B),F=w.length;F<B;)w[F++]=0;I=x.slice(),I.unshift(0),S=x[0],x[1]>=l/2&&++S;do d=0,c=t(x,w,B,F),c<0?(_=w[0],B!=F&&(_=_*l+(w[1]||0)),d=_/S|0,d>1?(d>=l&&(d=l-1),h=e(x,d,l),D=h.length,F=w.length,c=t(h,w,D,F),c==1&&(d--,r(h,B<D?I:x,D,l))):(d==0&&(c=d=1),h=x.slice()),D=h.length,D<F&&h.unshift(0),r(w,h,F,l),c==-1&&(F=w.length,c=t(x,w,B,F),c<1&&(d++,r(w,B<F?I:x,F,l))),F=w.length):c===0&&(d++,w=[0]),y[s++]=d,c&&w[0]?w[F++]=P[b]||0:(w=[P[b]],F=1);while((b++<A||w[0]!==void 0)&&g--);p=w[0]!==void 0}y[0]||y.shift()}if(v==1)m.e=o,Ru=p;else{for(s=1,d=y[0];d>=10;d/=10)s++;m.e=s+o*v-1,ie(m,f?u+m.e+1:u,a,p)}return m}}();function ie(e,t,r,n){var i,u,a,f,l,c,o,s,d,v=e.constructor;e:if(t!=null){if(s=e.d,!s)return e;for(i=1,f=s[0];f>=10;f/=10)i++;if(u=t-i,u<0)u+=se,a=t,o=s[d=0],l=o/Ve(10,i-a-1)%10|0;else if(d=Math.ceil((u+1)/se),f=s.length,d>=f)if(n){for(;f++<=d;)s.push(0);o=l=0,i=1,u%=se,a=u-se+1}else break e;else{for(o=f=s[d],i=1;f>=10;f/=10)i++;u%=se,a=u-se+i,l=a<0?0:o/Ve(10,i-a-1)%10|0}if(n=n||t<0||s[d+1]!==void 0||(a<0?o:o%Ve(10,i-a-1)),c=r<4?(l||n)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||n||r==6&&(u>0?a>0?o/Ve(10,i-a):0:s[d-1])%10&1||r==(e.s<0?8:7)),t<1||!s[0])return s.length=0,c?(t-=e.e+1,s[0]=Ve(10,(se-t%se)%se),e.e=-t||0):s[0]=e.e=0,e;if(u==0?(s.length=d,f=1,d--):(s.length=d+1,f=Ve(10,se-u),s[d]=a>0?(o/Ve(10,i-a)%Ve(10,a)|0)*f:0),c)for(;;)if(d==0){for(u=1,a=s[0];a>=10;a/=10)u++;for(a=s[0]+=f,f=1;a>=10;a/=10)f++;u!=f&&(e.e++,s[0]==ct&&(s[0]=1));break}else{if(s[d]+=f,s[d]!=ct)break;s[d--]=0,f=1}for(u=s.length;s[--u]===0;)s.pop()}return de&&(e.e>v.maxE?(e.d=null,e.e=NaN):e.e<v.minE&&(e.e=0,e.d=[0])),e}function mt(e,t,r){if(!e.isFinite())return Yu(e);var n,i=e.e,u=Ye(e.d),a=u.length;return t?(r&&(n=r-a)>0?u=u.charAt(0)+"."+u.slice(1)+Mt(n):a>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):i<0?(u="0."+Mt(-i-1)+u,r&&(n=r-a)>0&&(u+=Mt(n))):i>=a?(u+=Mt(i+1-a),r&&(n=r-i-1)>0&&(u=u+"."+Mt(n))):((n=i+1)<a&&(u=u.slice(0,n)+"."+u.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(u+="."),u+=Mt(n))),u}function on(e,t){var r=e[0];for(t*=se;r>=10;r/=10)t++;return t}function Zr(e,t,r){if(t>Ml)throw de=!0,r&&(e.precision=r),Error(qu);return ie(new e(Ur),t,1,!0)}function Dt(e,t,r){if(t>Bn)throw Error(qu);return ie(new e(Vr),t,r,!0)}function Zu(e){var t=e.length-1,r=t*se+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function Mt(e){for(var t="";e--;)t+="0";return t}function Hu(e,t,r,n){var i,u=new e(1),a=Math.ceil(n/se+4);for(de=!1;;){if(r%2&&(u=u.times(t),vi(u.d,a)&&(i=!0)),r=Je(r/2),r===0){r=u.d.length-1,i&&u.d[r]===0&&++u.d[r];break}t=t.times(t),vi(t.d,a)}return de=!0,u}function di(e){return e.d[e.d.length-1]&1}function Xu(e,t,r){for(var n,i,u=new e(t[0]),a=0;++a<t.length;){if(i=new e(t[a]),!i.s){u=i;break}n=u.cmp(i),(n===r||n===0&&u.s===r)&&(u=i)}return u}function Mn(e,t){var r,n,i,u,a,f,l,c=0,o=0,s=0,d=e.constructor,v=d.rounding,p=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(de=!1,l=p):l=t,f=new d(.03125);e.e>-2;)e=e.times(f),s+=5;for(n=Math.log(Ve(2,s))/Math.LN10*2+5|0,l+=n,r=u=a=new d(1),d.precision=l;;){if(u=ie(u.times(e),l,1),r=r.times(++o),f=a.plus(Ce(u,r,l,1)),Ye(f.d).slice(0,l)===Ye(a.d).slice(0,l)){for(i=s;i--;)a=ie(a.times(a),l,1);if(t==null)if(c<3&&hr(a.d,l-n,v,c))d.precision=l+=10,r=u=f=new d(1),o=0,c++;else return ie(a,d.precision=p,v,de=!0);else return d.precision=p,a}a=f}}function Nt(e,t){var r,n,i,u,a,f,l,c,o,s,d,v=1,p=10,h=e,D=h.d,m=h.constructor,y=m.rounding,w=m.precision;if(h.s<0||!D||!D[0]||!h.e&&D[0]==1&&D.length==1)return new m(D&&!D[0]?-1/0:h.s!=1?NaN:D?0:h);if(t==null?(de=!1,o=w):o=t,m.precision=o+=p,r=Ye(D),n=r.charAt(0),Math.abs(u=h.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Ye(h.d),n=r.charAt(0),v++;u=h.e,n>1?(h=new m("0."+r),u++):h=new m(n+"."+r.slice(1))}else return c=Zr(m,o+2,w).times(u+""),h=Nt(new m(n+"."+r.slice(1)),o-p).plus(c),m.precision=w,t==null?ie(h,w,y,de=!0):h;for(s=h,l=a=h=Ce(h.minus(1),h.plus(1),o,1),d=ie(h.times(h),o,1),i=3;;){if(a=ie(a.times(d),o,1),c=l.plus(Ce(a,new m(i),o,1)),Ye(c.d).slice(0,o)===Ye(l.d).slice(0,o))if(l=l.times(2),u!==0&&(l=l.plus(Zr(m,o+2,w).times(u+""))),l=Ce(l,new m(v),o,1),t==null)if(hr(l.d,o-p,y,f))m.precision=o+=p,c=a=h=Ce(s.minus(1),s.plus(1),o,1),d=ie(h.times(h),o,1),i=f=1;else return ie(l,m.precision=w,y,de=!0);else return m.precision=w,l;l=c,i+=2}}function Yu(e){return String(e.s*e.s/0)}function zr(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(n,i),t){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%se,r<0&&(n+=se),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=se;n<i;)e.d.push(+t.slice(n,n+=se));t=t.slice(n),n=se-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),de&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Nl(e,t){var r,n,i,u,a,f,l,c,o;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Vu.test(t))return zr(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Cl.test(t))r=16,t=t.toLowerCase();else if(El.test(t))r=2;else if(Sl.test(t))r=8;else throw Error(zt+t);for(u=t.search(/p/i),u>0?(l=+t.slice(u+1),t=t.substring(2,u)):t=t.slice(2),u=t.indexOf("."),a=u>=0,n=e.constructor,a&&(t=t.replace(".",""),f=t.length,u=f-u,i=Hu(n,new n(r),u,u*2)),c=Tr(t,r,ct),o=c.length-1,u=o;c[u]===0;--u)c.pop();return u<0?new n(e.s*0):(e.e=on(c,o),e.d=c,de=!1,a&&(e=Ce(e,i,f*4)),l&&(e=e.times(Math.abs(l)<54?Ve(2,l):Qt.pow(2,l))),de=!0,e)}function Tl(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:Kt(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/sn(5,r)),t=Kt(e,2,t,t);for(var i,u=new e(5),a=new e(16),f=new e(20);r--;)i=t.times(t),t=t.times(u.plus(i.times(a.times(i).minus(f))));return t}function Kt(e,t,r,n,i){var u,a,f,l,c=e.precision,o=Math.ceil(c/se);for(de=!1,l=r.times(r),f=new e(n);;){if(a=Ce(f.times(l),new e(t++*t++),c,1),f=i?n.plus(a):n.minus(a),n=Ce(a.times(l),new e(t++*t++),c,1),a=f.plus(n),a.d[o]!==void 0){for(u=o;a.d[u]===f.d[u]&&u--;);if(u==-1)break}u=f,f=n,n=a,a=u}return de=!0,a.d.length=o+1,a}function sn(e,t){for(var r=e;--t;)r*=e;return r}function Gu(e,t){var r,n=t.s<0,i=Dt(e,e.precision,1),u=i.times(.5);if(t=t.abs(),t.lte(u))return Et=n?4:1,t;if(r=t.divToInt(i),r.isZero())Et=n?3:2;else{if(t=t.minus(r.times(i)),t.lte(u))return Et=di(r)?n?2:3:n?4:1,t;Et=di(r)?n?1:4:n?3:2}return t.minus(i).abs()}function Un(e,t,r,n){var i,u,a,f,l,c,o,s,d,v=e.constructor,p=r!==void 0;if(p?(je(r,1,It),n===void 0?n=v.rounding:je(n,0,8)):(r=v.precision,n=v.rounding),!e.isFinite())o=Yu(e);else{for(o=mt(e),a=o.indexOf("."),p?(i=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):i=t,a>=0&&(o=o.replace(".",""),d=new v(1),d.e=o.length-a,d.d=Tr(mt(d),10,i),d.e=d.d.length),s=Tr(o,10,i),u=l=s.length;s[--l]==0;)s.pop();if(!s[0])o=p?"0p+0":"0";else{if(a<0?u--:(e=new v(e),e.d=s,e.e=u,e=Ce(e,d,r,n,0,i),s=e.d,u=e.e,c=Ru),a=s[r],f=i/2,c=c||s[r+1]!==void 0,c=n<4?(a!==void 0||c)&&(n===0||n===(e.s<0?3:2)):a>f||a===f&&(n===4||c||n===6&&s[r-1]&1||n===(e.s<0?8:7)),s.length=r,c)for(;++s[--r]>i-1;)s[r]=0,r||(++u,s.unshift(1));for(l=s.length;!s[l-1];--l);for(a=0,o="";a<l;a++)o+=Cn.charAt(s[a]);if(p){if(l>1)if(t==16||t==8){for(a=t==16?4:3,--l;l%a;l++)o+="0";for(s=Tr(o,i,t),l=s.length;!s[l-1];--l);for(a=1,o="1.";a<l;a++)o+=Cn.charAt(s[a])}else o=o.charAt(0)+"."+o.slice(1);o=o+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)o="0"+o;o="0."+o}else if(++u>l)for(u-=l;u--;)o+="0";else u<l&&(o=o.slice(0,u)+"."+o.slice(u))}o=(t==16?"0x":t==2?"0b":t==8?"0o":"")+o}return e.s<0?"-"+o:o}function vi(e,t){if(e.length>t)return e.length=t,!0}function zl(e){return new this(e).abs()}function Il(e){return new this(e).acos()}function Ol(e){return new this(e).acosh()}function Pl(e,t){return new this(e).plus(t)}function $l(e){return new this(e).asin()}function Rl(e){return new this(e).asinh()}function ql(e){return new this(e).atan()}function Ll(e){return new this(e).atanh()}function Ul(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,u=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=Dt(this,u,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?Dt(this,n,i):new this(0),r.s=e.s):!e.d||t.isZero()?(r=Dt(this,u,1).times(.5),r.s=e.s):t.s<0?(this.precision=u,this.rounding=1,r=this.atan(Ce(e,t,u,1)),t=Dt(this,u,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(Ce(e,t,u,1)),r}function Vl(e){return new this(e).cbrt()}function Zl(e){return ie(e=new this(e),e.e+1,2)}function Hl(e,t,r){return new this(e).clamp(t,r)}function Xl(e){if(!e||typeof e!="object")throw Error(an+"Object expected");var t,r,n,i=e.defaults===!0,u=["precision",1,It,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,En,"maxE",0,En,"minE",-9e15,0,"modulo",0,9];for(t=0;t<u.length;t+=3)if(r=u[t],i&&(this[r]=Sn[r]),(n=e[r])!==void 0)if(Je(n)===n&&n>=u[t+1]&&n<=u[t+2])this[r]=n;else throw Error(zt+r+": "+n);if(r="crypto",i&&(this[r]=Sn[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Lu);else this[r]=!1;else throw Error(zt+r+": "+n);return this}function Yl(e){return new this(e).cos()}function Gl(e){return new this(e).cosh()}function Ju(e){var t,r,n;function i(u){var a,f,l,c=this;if(!(c instanceof i))return new i(u);if(c.constructor=i,pi(u)){c.s=u.s,de?!u.d||u.e>i.maxE?(c.e=NaN,c.d=null):u.e<i.minE?(c.e=0,c.d=[0]):(c.e=u.e,c.d=u.d.slice()):(c.e=u.e,c.d=u.d?u.d.slice():u.d);return}if(l=typeof u,l==="number"){if(u===0){c.s=1/u<0?-1:1,c.e=0,c.d=[0];return}if(u<0?(u=-u,c.s=-1):c.s=1,u===~~u&&u<1e7){for(a=0,f=u;f>=10;f/=10)a++;de?a>i.maxE?(c.e=NaN,c.d=null):a<i.minE?(c.e=0,c.d=[0]):(c.e=a,c.d=[u]):(c.e=a,c.d=[u]);return}if(u*0!==0){u||(c.s=NaN),c.e=NaN,c.d=null;return}return zr(c,u.toString())}if(l==="string")return(f=u.charCodeAt(0))===45?(u=u.slice(1),c.s=-1):(f===43&&(u=u.slice(1)),c.s=1),Vu.test(u)?zr(c,u):Nl(c,u);if(l==="bigint")return u<0?(u=-u,c.s=-1):c.s=1,zr(c,u.toString());throw Error(zt+u)}if(i.prototype=U,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Xl,i.clone=Ju,i.isDecimal=pi,i.abs=zl,i.acos=Il,i.acosh=Ol,i.add=Pl,i.asin=$l,i.asinh=Rl,i.atan=ql,i.atanh=Ll,i.atan2=Ul,i.cbrt=Vl,i.ceil=Zl,i.clamp=Hl,i.cos=Yl,i.cosh=Gl,i.div=Jl,i.exp=Wl,i.floor=Kl,i.hypot=Ql,i.ln=kl,i.log=jl,i.log10=t0,i.log2=e0,i.max=r0,i.min=n0,i.mod=i0,i.mul=u0,i.pow=a0,i.random=o0,i.round=s0,i.sign=f0,i.sin=c0,i.sinh=l0,i.sqrt=h0,i.sub=d0,i.sum=v0,i.tan=p0,i.tanh=D0,i.trunc=g0,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Jl(e,t){return new this(e).div(t)}function Wl(e){return new this(e).exp()}function Kl(e){return ie(e=new this(e),e.e+1,3)}function Ql(){var e,t,r=new this(0);for(de=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return de=!0,new this(1/0);r=t}return de=!0,r.sqrt()}function pi(e){return e instanceof Qt||e&&e.toStringTag===Uu||!1}function kl(e){return new this(e).ln()}function jl(e,t){return new this(e).log(t)}function e0(e){return new this(e).log(2)}function t0(e){return new this(e).log(10)}function r0(){return Xu(this,arguments,-1)}function n0(){return Xu(this,arguments,1)}function i0(e,t){return new this(e).mod(t)}function u0(e,t){return new this(e).mul(t)}function a0(e,t){return new this(e).pow(t)}function o0(e){var t,r,n,i,u=0,a=new this(1),f=[];if(e===void 0?e=this.precision:je(e,1,It),n=Math.ceil(e/se),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));u<n;)i=t[u],i>=429e7?t[u]=crypto.getRandomValues(new Uint32Array(1))[0]:f[u++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);u<n;)i=t[u]+(t[u+1]<<8)+(t[u+2]<<16)+((t[u+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,u):(f.push(i%1e7),u+=4);u=n/4}else throw Error(Lu);else for(;u<n;)f[u++]=Math.random()*1e7|0;for(n=f[--u],e%=se,n&&e&&(i=Ve(10,se-e),f[u]=(n/i|0)*i);f[u]===0;u--)f.pop();if(u<0)r=0,f=[0];else{for(r=-1;f[0]===0;r-=se)f.shift();for(n=1,i=f[0];i>=10;i/=10)n++;n<se&&(r-=se-n)}return a.e=r,a.d=f,a}function s0(e){return ie(e=new this(e),e.e+1,this.rounding)}function f0(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function c0(e){return new this(e).sin()}function l0(e){return new this(e).sinh()}function h0(e){return new this(e).sqrt()}function d0(e,t){return new this(e).sub(t)}function v0(){var e=0,t=arguments,r=new this(t[e]);for(de=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return de=!0,ie(r,this.precision,this.rounding)}function p0(e){return new this(e).tan()}function D0(e){return new this(e).tanh()}function g0(e){return ie(e=new this(e),e.e+1,1)}U[Symbol.for("nodejs.util.inspect.custom")]=U.toString;U[Symbol.toStringTag]="Decimal";var Qt=U.constructor=Ju(Sn);Ur=new Qt(Ur);Vr=new Qt(Vr);var m0="BigNumber",w0=["?on","config"],y0=k(m0,w0,e=>{var{on:t,config:r}=e,n=Qt.clone({precision:r.precision,modulo:Qt.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},t&&t("config",function(i,u){i.precision!==u.precision&&n.config({precision:i.precision})}),n},{isClass:!0});const Ge=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},ut=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},_0=function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const r=e*e;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},Dn=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},Xt=function(){throw SyntaxError("Invalid Param")};function gn(e,t){const r=Math.abs(e),n=Math.abs(t);return e===0?Math.log(n):t===0?Math.log(r):r<3e3&&n<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const F0={re:0,im:0},Rt=function(e,t){const r=F0;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return $.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return $.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):Xt();break;case"string":r.im=r.re=0;const n=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,u=0;n===null&&Xt();for(let a=0;a<n.length;a++){const f=n[a];f===" "||f==="	"||f===`
`||(f==="+"?i++:f==="-"?u++:f==="i"||f==="I"?(i+u===0&&Xt(),n[a+1]!==" "&&!isNaN(n[a+1])?(r.im+=parseFloat((u%2?"-":"")+n[a+1]),a++):r.im+=parseFloat((u%2?"-":"")+"1"),i=u=0):((i+u===0||isNaN(f))&&Xt(),n[a+1]==="i"||n[a+1]==="I"?(r.im+=parseFloat((u%2?"-":"")+f),a++):r.re+=parseFloat((u%2?"-":"")+f),i=u=0))}i+u>0&&Xt();break;case"number":r.im=0,r.re=e;break;default:Xt()}return isNaN(r.re)||isNaN(r.im),r};function $(e,t){if(!(this instanceof $))return new $(e,t);const r=Rt(e,t);this.re=r.re,this.im=r.im}$.prototype={re:0,im:0,sign:function(){const e=Dn(this.re,this.im);return new $(this.re/e,this.im/e)},add:function(e,t){const r=Rt(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?$.NAN:$.INFINITY:new $(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=Rt(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?$.NAN:$.INFINITY:new $(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=Rt(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),u=this.re===0&&this.im===0,a=r.re===0&&r.im===0;return n&&a||i&&u?$.NAN:n||i?$.INFINITY:r.im===0&&this.im===0?new $(this.re*r.re,0):new $(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=Rt(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),u=this.re===0&&this.im===0,a=r.re===0&&r.im===0;if(u&&a||n&&i)return $.NAN;if(a||n)return $.INFINITY;if(u||i)return $.ZERO;if(r.im===0)return new $(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const f=r.re/r.im,l=r.re*f+r.im;return new $((this.re*f+this.im)/l,(this.im*f-this.re)/l)}else{const f=r.im/r.re,l=r.im*f+r.re;return new $((this.re+this.im*f)/l,(this.im-this.re*f)/l)}},pow:function(e,t){const r=Rt(e,t),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return $.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new $(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new $(Math.pow(this.im,r.re),0);case 1:return new $(0,Math.pow(this.im,r.re));case 2:return new $(-Math.pow(this.im,r.re),0);case 3:return new $(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return $.ZERO;const u=Math.atan2(this.im,this.re),a=gn(this.re,this.im);let f=Math.exp(r.re*a-r.im*u),l=r.im*a+r.re*u;return new $(f*Math.cos(l),f*Math.sin(l))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new $(Math.sqrt(e),0):new $(0,Math.sqrt(-e));const r=Dn(e,t);let n=Math.sqrt(.5*(r+Math.abs(e))),i=Math.abs(t)/(2*n);return e>=0?new $(n,t<0?-i:i):new $(i,t<0?-n:n)},exp:function(){const e=Math.exp(this.re);return this.im===0?new $(e,0):new $(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new $(Math.expm1(e)*Math.cos(t)+_0(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new $(Math.log(e),0):new $(gn(e,t),Math.atan2(t,e))},abs:function(){return Dn(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new $(Math.sin(e)*Ge(t),Math.cos(e)*ut(t))},cos:function(){const e=this.re,t=this.im;return new $(Math.cos(e)*Ge(t),-Math.sin(e)*ut(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+Ge(t);return new $(Math.sin(e)/r,ut(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-Ge(t);return new $(-Math.sin(e)/r,ut(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*Ge(2*t)+.5*Math.cos(2*e);return new $(Math.cos(e)*Ge(t)/r,Math.sin(e)*ut(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*Ge(2*t)-.5*Math.cos(2*e);return new $(Math.sin(e)*Ge(t)/r,-Math.cos(e)*ut(t)/r)},asin:function(){const e=this.re,t=this.im,r=new $(t*t-e*e+1,-2*e*t).sqrt(),n=new $(r.re-t,r.im+e).log();return new $(n.im,-n.re)},acos:function(){const e=this.re,t=this.im,r=new $(t*t-e*e+1,-2*e*t).sqrt(),n=new $(r.re-t,r.im+e).log();return new $(Math.PI/2-n.im,n.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new $(0,1/0);if(t===-1)return new $(0,-1/0)}const r=e*e+(1-t)*(1-t),n=new $((1-t*t-e*e)/r,-2*e/r).log();return new $(-.5*n.im,.5*n.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new $(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new $(e/r,-t/r).atan():new $(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new $(0,1/0);const r=e*e+t*t;return r!==0?new $(e/r,-t/r).acos():new $(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new $(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new $(e/r,-t/r).asin():new $(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new $(ut(e)*Math.cos(t),Ge(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new $(Ge(e)*Math.cos(t),ut(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=Ge(e)+Math.cos(t);return new $(ut(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=Ge(e)-Math.cos(t);return new $(ut(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-Ge(2*e);return new $(-2*ut(e)*Math.cos(t)/r,2*Ge(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+Ge(2*e);return new $(2*Ge(e)*Math.cos(t)/r,-2*ut(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,r=e>1&&t===0,n=1-e,i=1+e,u=n*n+t*t,a=u!==0?new $((i*n-t*t)/u,(t*n+i*t)/u):new $(e!==-1?e/0:0,t!==0?t/0:0),f=a.re;return a.re=gn(a.re,a.im)/2,a.im=Math.atan2(a.im,f)/2,r&&(a.im=-a.im),a},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new $(0,Math.PI/2);const r=e*e+t*t;return r!==0?new $(e/r,-t/r).atanh():new $(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0)return new $(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const r=e*e+t*t;return r!==0?new $(e/r,-t/r).asinh():new $(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return $.INFINITY;const r=e*e+t*t;return r!==0?new $(e/r,-t/r).acosh():new $(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return $.INFINITY;if(this.isInfinite())return $.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new $(e/r,-t/r)},conjugate:function(){return new $(this.re,-this.im)},neg:function(){return new $(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new $(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new $(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new $(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=Rt(e,t);return Math.abs(r.re-this.re)<=$.EPSILON&&Math.abs(r.im-this.im)<=$.EPSILON},clone:function(){return new $(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<$.EPSILON&&(e=0),Math.abs(t)<$.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};$.ZERO=new $(0,0);$.ONE=new $(1,0);$.I=new $(0,1);$.PI=new $(Math.PI,0);$.E=new $(Math.E,0);$.INFINITY=new $(1/0,1/0);$.NAN=new $(NaN,NaN);$.EPSILON=1e-15;var A0="Complex",b0=[],E0=k(A0,b0,()=>(Object.defineProperty($,"name",{value:"Complex"}),$.prototype.constructor=$,$.prototype.type="Complex",$.prototype.isComplex=!0,$.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},$.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},$.prototype.format=function(e){var t="",r=this.im,n=this.re,i=bn(this.re,e),u=bn(this.im,e),a=Me(e)?e:e?e.precision:null;if(a!==null){var f=Math.pow(10,-a);Math.abs(n/r)<f&&(n=0),Math.abs(r/n)<f&&(r=0)}return r===0?t=i:n===0?r===1?t="i":r===-1?t="-i":t=u+"i":r<0?r===-1?t=i+" - i":t=i+" - "+u.substring(1)+"i":r===1?t=i+" + i":t=i+" + "+u+"i",t},$.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return $(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(Me(r)){if(Nu(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Me(n))return new $({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},$.prototype.valueOf=$.prototype.toString,$.fromJSON=function(e){return new $(e)},$.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},$),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const ne=BigInt(0),ge=BigInt(1),dr=BigInt(2),xn=BigInt(5),ke=BigInt(10),C0=2e3,W={s:ge,n:ne,d:ge};function bt(e,t){try{e=BigInt(e)}catch{throw Bt()}return e*t}function ft(e){return typeof e=="bigint"?e:Math.floor(e)}function Te(e,t){if(t===ne)throw Vn();const r=Object.create(at.prototype);r.s=e<ne?-ge:ge,e=e<ne?-e:e;const n=qt(e,t);return r.n=e/n,r.d=t/n,r}function Yt(e){const t={};let r=e,n=dr,i=xn-ge;for(;i<=r;){for(;r%n===ne;)r/=n,t[n]=(t[n]||ne)+ge;i+=ge+dr*n++}return r!==e?r>1&&(t[r]=(t[r]||ne)+ge):t[e]=(t[e]||ne)+ge,t}const He=function(e,t){let r=ne,n=ge,i=ge;if(e!=null)if(t!==void 0){if(typeof e=="bigint")r=e;else{if(isNaN(e))throw Bt();if(e%1!==0)throw Di();r=BigInt(e)}if(typeof t=="bigint")n=t;else{if(isNaN(t))throw Bt();if(t%1!==0)throw Di();n=BigInt(t)}i=r*n}else if(typeof e=="object"){if("d"in e&&"n"in e)r=BigInt(e.n),n=BigInt(e.d),"s"in e&&(r*=BigInt(e.s));else if(0 in e)r=BigInt(e[0]),1 in e&&(n=BigInt(e[1]));else if(typeof e=="bigint")r=e;else throw Bt();i=r*n}else if(typeof e=="number"){if(isNaN(e))throw Bt();if(e<0&&(i=-ge,e=-e),e%1===0)r=BigInt(e);else if(e>0){let u=1,a=0,f=1,l=1,c=1,o=1e7;for(e>=1&&(u=10**Math.floor(1+Math.log10(e)),e/=u);f<=o&&c<=o;){let s=(a+l)/(f+c);if(e===s){f+c<=o?(r=a+l,n=f+c):c>f?(r=l,n=c):(r=a,n=f);break}else e>s?(a+=l,f+=c):(l+=a,c+=f),f>o?(r=l,n=c):(r=a,n=f)}r=BigInt(r)*BigInt(u),n=BigInt(n)}}else if(typeof e=="string"){let u=0,a=ne,f=ne,l=ne,c=ge,o=ge,s=e.replace(/_/g,"").match(/\d+|./g);if(s===null)throw Bt();if(s[u]==="-"?(i=-ge,u++):s[u]==="+"&&u++,s.length===u+1?f=bt(s[u++],i):s[u+1]==="."||s[u]==="."?(s[u]!=="."&&(a=bt(s[u++],i)),u++,(u+1===s.length||s[u+1]==="("&&s[u+3]===")"||s[u+1]==="'"&&s[u+3]==="'")&&(f=bt(s[u],i),c=ke**BigInt(s[u].length),u++),(s[u]==="("&&s[u+2]===")"||s[u]==="'"&&s[u+2]==="'")&&(l=bt(s[u+1],i),o=ke**BigInt(s[u+1].length)-ge,u+=3)):s[u+1]==="/"||s[u+1]===":"?(f=bt(s[u],i),c=bt(s[u+2],ge),u+=3):s[u+3]==="/"&&s[u+1]===" "&&(a=bt(s[u],i),f=bt(s[u+2],i),c=bt(s[u+4],ge),u+=5),s.length<=u)n=c*o,i=r=l+n*a+o*f;else throw Bt()}else if(typeof e=="bigint")r=e,i=e,n=ge;else throw Bt();if(n===ne)throw Vn();W.s=i<ne?-ge:ge,W.n=r<ne?-r:r,W.d=n<ne?-n:n};function S0(e,t,r){let n=ge;for(;t>ne;e=e*e%r,t>>=ge)t&ge&&(n=n*e%r);return n}function B0(e,t){for(;t%dr===ne;t/=dr);for(;t%xn===ne;t/=xn);if(t===ge)return ne;let r=ke%t,n=1;for(;r!==ge;n++)if(r=r*ke%t,n>C0)return ne;return BigInt(n)}function M0(e,t,r){let n=ge,i=S0(ke,r,t);for(let u=0;u<300;u++){if(n===i)return BigInt(u);n=n*ke%t,i=i*ke%t}return 0}function qt(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function at(e,t){if(He(e,t),this instanceof at)e=qt(W.d,W.n),this.s=W.s,this.n=W.n/e,this.d=W.d/e;else return Te(W.s*W.n,W.d)}var Vn=function(){return new Error("Division by Zero")},Bt=function(){return new Error("Invalid argument")},Di=function(){return new Error("Parameters must be integer")};at.prototype={s:ge,n:ne,d:ge,abs:function(){return Te(this.n,this.d)},neg:function(){return Te(-this.s*this.n,this.d)},add:function(e,t){return He(e,t),Te(this.s*this.n*W.d+W.s*this.d*W.n,this.d*W.d)},sub:function(e,t){return He(e,t),Te(this.s*this.n*W.d-W.s*this.d*W.n,this.d*W.d)},mul:function(e,t){return He(e,t),Te(this.s*W.s*this.n*W.n,this.d*W.d)},div:function(e,t){return He(e,t),Te(this.s*W.s*this.n*W.d,this.d*W.n)},clone:function(){return Te(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return Te(this.s*this.n%this.d,ge);if(He(e,t),ne===W.n*this.d)throw Vn();return Te(this.s*(W.d*this.n)%(W.n*this.d),W.d*this.d)},gcd:function(e,t){return He(e,t),Te(qt(W.n,this.n)*qt(W.d,this.d),W.d*this.d)},lcm:function(e,t){return He(e,t),W.n===ne&&this.n===ne?Te(ne,ge):Te(W.n*this.n,qt(W.n,this.n)*qt(W.d,this.d))},inverse:function(){return Te(this.s*this.d,this.n)},pow:function(e,t){if(He(e,t),W.d===ge)return W.s<ne?Te((this.s*this.d)**W.n,this.n**W.n):Te((this.s*this.n)**W.n,this.d**W.n);if(this.s<ne)return null;let r=Yt(this.n),n=Yt(this.d),i=ge,u=ge;for(let a in r)if(a!=="1"){if(a==="0"){i=ne;break}if(r[a]*=W.n,r[a]%W.d===ne)r[a]/=W.d;else return null;i*=BigInt(a)**r[a]}for(let a in n)if(a!=="1"){if(n[a]*=W.n,n[a]%W.d===ne)n[a]/=W.d;else return null;u*=BigInt(a)**n[a]}return W.s<ne?Te(u,i):Te(i,u)},log:function(e,t){if(He(e,t),this.s<=ne||W.s<=ne)return null;const r={},n=Yt(W.n),i=Yt(W.d),u=Yt(this.n),a=Yt(this.d);for(const c in i)n[c]=(n[c]||ne)-i[c];for(const c in a)u[c]=(u[c]||ne)-a[c];for(const c in n)c!=="1"&&(r[c]=!0);for(const c in u)c!=="1"&&(r[c]=!0);let f=null,l=null;for(const c in r){const o=n[c]||ne,s=u[c]||ne;if(o===ne){if(s!==ne)return null;continue}let d=s,v=o;const p=qt(d,v);if(d/=p,v/=p,f===null&&l===null)f=d,l=v;else if(d*l!==f*v)return null}return f!==null&&l!==null?Te(f,l):null},equals:function(e,t){return He(e,t),this.s*this.n*W.d===W.s*W.n*this.d},lt:function(e,t){return He(e,t),this.s*this.n*W.d<W.s*W.n*this.d},lte:function(e,t){return He(e,t),this.s*this.n*W.d<=W.s*W.n*this.d},gt:function(e,t){return He(e,t),this.s*this.n*W.d>W.s*W.n*this.d},gte:function(e,t){return He(e,t),this.s*this.n*W.d>=W.s*W.n*this.d},compare:function(e,t){He(e,t);let r=this.s*this.n*W.d-W.s*W.n*this.d;return(ne<r)-(r<ne)},ceil:function(e){return e=ke**BigInt(e||0),Te(ft(this.s*e*this.n/this.d)+(e*this.n%this.d>ne&&this.s>=ne?ge:ne),e)},floor:function(e){return e=ke**BigInt(e||0),Te(ft(this.s*e*this.n/this.d)-(e*this.n%this.d>ne&&this.s<ne?ge:ne),e)},round:function(e){return e=ke**BigInt(e||0),Te(ft(this.s*e*this.n/this.d)+this.s*((this.s>=ne?ge:ne)+dr*(e*this.n%this.d)>this.d?ge:ne),e)},roundTo:function(e,t){He(e,t);const r=this.n*W.d,n=this.d*W.n,i=r%n;let u=ft(r/n);return i+i>=n&&u++,Te(this.s*u*W.n,W.d)},divisible:function(e,t){return He(e,t),!(!(W.n*this.d)||this.n*W.d%(W.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let t=this.n,r=this.d;e=e||15;let n=B0(t,r),i=M0(t,r,n),u=this.s<ne?"-":"";if(u+=ft(t/r),t%=r,t*=ke,t&&(u+="."),n){for(let a=i;a--;)u+=ft(t/r),t%=r,t*=ke;u+="(";for(let a=n;a--;)u+=ft(t/r),t%=r,t*=ke;u+=")"}else for(let a=e;t&&a--;)u+=ft(t/r),t%=r,t*=ke;return u},toFraction:function(e){let t=this.n,r=this.d,n=this.s<ne?"-":"";if(r===ge)n+=t;else{let i=ft(t/r);e&&i>ne&&(n+=i,n+=" ",t%=r),n+=t,n+="/",n+=r}return n},toLatex:function(e){let t=this.n,r=this.d,n=this.s<ne?"-":"";if(r===ge)n+=t;else{let i=ft(t/r);e&&i>ne&&(n+=i,t%=r),n+="\\frac{",n+=t,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let e=this.n,t=this.d,r=[];do{r.push(ft(e/t));let n=e%t;e=t,t=n}while(e!==ge);return r},simplify:function(e){const t=BigInt(1/(e||.001)|0),r=this.abs(),n=r.toContinued();for(let i=1;i<n.length;i++){let u=Te(n[i-1],ge);for(let f=i-2;f>=0;f--)u=u.inverse().add(n[f]);let a=u.sub(r);if(a.n*t<a.d)return u.mul(this.s)}return this}};var x0="Fraction",N0=[],T0=k(x0,N0,()=>(Object.defineProperty(at,"name",{value:"Fraction"}),at.prototype.constructor=at,at.prototype.type="Fraction",at.prototype.isFraction=!0,at.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},at.fromJSON=function(e){return new at(e)},at),{isClass:!0}),z0="Matrix",I0=[],O0=k(z0,I0,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function mn(e,t,r){var n=e.constructor,i=new n(2),u="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!xe(r))throw new Error("size must be an integer");if(e.greaterThan(i.pow(r-1).sub(1))||e.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(r))),u="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(u);case 8:return"".concat(e.toOctal()).concat(u);case 16:return"".concat(e.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(t," not supported "))}}function P0(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=Ou(t);switch(r){case"fixed":return R0(e,n);case"exponential":return gi(e,n);case"engineering":return $0(e,n);case"bin":return mn(e,2,i);case"oct":return mn(e,8,i);case"hex":return mn(e,16,i);case"auto":{var u=mi(t==null?void 0:t.lowerExp,-3),a=mi(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var f,l=e.toSignificantDigits(n),c=l.e;return c>=u&&c<a?f=l.toFixed():f=gi(e,n),f.replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],s=arguments[4];return o!=="."?o+s:s})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function $0(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=e.mul(Math.pow(10,-n)),u=i.toPrecision(t);if(u.includes("e")){var a=e.constructor;u=new a(u).toFixed()}return u+"e"+(r>=0?"+":"")+n.toString()}function gi(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function R0(e,t){return e.toFixed(t)}function mi(e,t){return Me(e)?e:Re(e)?e.toNumber():t}function ze(e,t){var r=q0(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function q0(e,t){if(typeof e=="number")return bn(e,t);if(Re(e))return P0(e,t);if(L0(e))return!t||t.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return Wu(e,t);if(pt(e))return wi(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>wi(n)+": "+ze(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function wi(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);r+=i in yi?yi[i]:i,n++}return'"'+r+'"'}var yi={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Wu(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=Wu(e[i],t);return r+="]",r}else return ze(e,t)}function L0(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function Fe(e,t,r){if(!(this instanceof Fe))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}Fe.prototype=new RangeError;Fe.prototype.constructor=RangeError;Fe.prototype.name="DimensionError";Fe.prototype.isDimensionError=!0;function Ot(e,t,r){if(!(this instanceof Ot))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Ot.prototype=new RangeError;Ot.prototype.constructor=RangeError;Ot.prototype.name="IndexError";Ot.prototype.isIndexError=!0;function Xe(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Ku(e,t,r){var n,i=e.length;if(i!==t[r])throw new Fe(i,t[r]);if(r<t.length-1){var u=r+1;for(n=0;n<i;n++){var a=e[n];if(!Array.isArray(a))throw new Fe(t.length-1,t.length,"<");Ku(e[n],t,u)}}else for(n=0;n<i;n++)if(Array.isArray(e[n]))throw new Fe(t.length+1,t.length,">")}function _i(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new Fe(e.length,0)}else Ku(e,t,0)}function Pe(e,t){if(e!==void 0){if(!Me(e)||!xe(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new Ot(e,t)}}function Hr(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!Me(i)||!xe(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ze(t)+")")}),(Me(e)||Re(e))&&(e=[e]);var n=r!==void 0?r:0;return Nn(e,t,0,n),e}function Nn(e,t,r,n){var i,u,a=e.length,f=t[r],l=Math.min(a,f);if(e.length=f,r<t.length-1){var c=r+1;for(i=0;i<l;i++)u=e[i],Array.isArray(u)||(u=[u],e[i]=u),Nn(u,t,c,n);for(i=l;i<f;i++)u=[],e[i]=u,Nn(u,t,c,n)}else{for(i=0;i<l;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=l;i<f;i++)e[i]=n}}function Qu(e,t){var r=V0(e),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Fe(0,n,"!=");t=Zn(t,n);var i=ku(t);if(n!==i)throw new Fe(i,n,"!=");try{return U0(r,t)}catch(u){throw u instanceof Fe?new Fe(i,n,"!="):u}}function Zn(e,t){var r=ku(e),n=e.slice(),i=-1,u=e.indexOf(i),a=e.indexOf(i,u+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var f=u>=0,l=t%r===0;if(f)if(l)n[u]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function ku(e){return e.reduce((t,r)=>t*r,1)}function U0(e,t){for(var r=e,n,i=t.length-1;i>0;i--){var u=t[i];n=[];for(var a=r.length/u,f=0;f<a;f++)n.push(r.slice(f*u,(f+1)*u));r=n}return r}function ju(e,t,r,n){var i=n||Xe(e);if(r)for(var u=0;u<r;u++)e=[e],i.unshift(1);for(e=ea(e,t,0);i.length<t;)i.push(1);return e}function ea(e,t,r){var n,i;if(Array.isArray(e)){var u=r+1;for(n=0,i=e.length;n<i;n++)e[n]=ea(e[n],t,u)}else for(var a=r;a<t;a++)e=[e];return e}function V0(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(n){Array.isArray(n)?n.forEach(r):t.push(n)}),t}function Hn(e,t){for(var r,n=0,i=0;i<e.length;i++){var u=e[i],a=Array.isArray(u);if(i===0&&a&&(n=u.length),a&&u.length!==n)return;var f=a?Hn(u,t):t(u);if(r===void 0)r=f;else if(r!==f)return"mixed"}return r}function ta(e,t,r,n){if(n<r){if(e.length!==t.length)throw new Fe(e.length,t.length);for(var i=[],u=0;u<e.length;u++)i[u]=ta(e[u],t[u],r,n+1);return i}else return e.concat(t)}function ra(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,n){return ta(r,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function na(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(d=>d.length),i=Math.max(...n),u=new Array(i).fill(null),a=0;a<t.length;a++)for(var f=t[a],l=n[a],c=0;c<l;c++){var o=i-l+c;f[c]>u[o]&&(u[o]=f[c])}for(var s=0;s<t.length;s++)ia(t[s],u);return u}function ia(e,t){for(var r=t.length,n=e.length,i=0;i<n;i++){var u=r-n+i;if(e[i]<t[u]&&e[i]>1||e[i]>t[u])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[i]," to size ").concat(t[u]))}}function Tn(e,t){var r=Xe(e);if(Tt(r,t))return e;ia(r,t);var n=na(r,t),i=n.length,u=[...Array(i-r.length).fill(1),...r],a=H0(e);r.length<i&&(a=Qu(a,u),r=Xe(a));for(var f=0;f<i;f++)r[f]<n[f]&&(a=Z0(a,n[f],f),r=Xe(a));return a}function Z0(e,t,r){return ra(...Array(t).fill(e),r)}function ua(e,t){if(!Array.isArray(e))throw new Error("Array expected");var r=Xe(e);if(t.length!==r.length)throw new Fe(t.length,r.length);for(var n=0;n<t.length;n++)Pe(t[n],r[n]);return t.reduce((i,u)=>i[u],e)}function H0(e){return Rr([],e)}function Xr(e,t,r){if(Lr.isTypedFunction(e)){var n=(t.isMatrix?t.size():Xe(t)).map(()=>0),i=t.isMatrix?t.get(n):ua(t,n),u=Object.keys(e.signatures).length===1,a=X0(e,i,n,t),f=u?Object.values(e.signatures)[0]:e;return a>=1&&a<=3?function(){for(var l=arguments.length,c=new Array(l),o=0;o<l;o++)c[o]=arguments[o];return Fi(f,c.slice(0,a),r,e.name)}:function(){for(var l=arguments.length,c=new Array(l),o=0;o<l;o++)c[o]=arguments[o];return Fi(f,c,r,e.name)}}return e}function X0(e,t,r,n){for(var i=[t,r,n],u=3;u>0;u--){var a=i.slice(0,u);if(Lr.resolve(e,a)!==null)return u}}function Fi(e,t,r,n){try{return e(...t)}catch(i){Y0(i,t,r,n)}}function Y0(e,t,r,n){var i;if(e instanceof TypeError&&((i=e.data)===null||i===void 0?void 0:i.category)==="wrongType"){var u=[];throw u.push("value: ".concat(gt(t[0]))),t.length>=2&&u.push("index: ".concat(gt(t[1]))),t.length>=3&&u.push("array: ".concat(gt(t[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(u.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(e.message))}var G0="DenseMatrix",J0=["Matrix"],W0=k(G0,J0,e=>{var{Matrix:t}=e;function r(o,s){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!pt(s))throw new Error("Invalid datatype: "+s);if(Ie(o))o.type==="DenseMatrix"?(this._data=Be(o._data),this._size=Be(o._size),this._datatype=s||o._datatype):(this._data=o.toArray(),this._size=o.size(),this._datatype=s||o._datatype);else if(o&&$e(o.data)&&$e(o.size))this._data=o.data,this._size=o.size,_i(this._data,this._size),this._datatype=s||o.datatype;else if($e(o))this._data=c(o),this._size=Xe(this._data),_i(this._data,this._size),this._datatype=s;else{if(o)throw new TypeError("Unsupported type of data ("+gt(o)+")");this._data=[],this._size=[0],this._datatype=s}}r.prototype=new t,r.prototype.createDenseMatrix=function(o,s){return new r(o,s)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Hn(this._data,gt)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(o,s){return new r(o,s)},r.prototype.subset=function(o,s,d){switch(arguments.length){case 1:return n(this,o);case 2:case 3:return u(this,o,s,d);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(o){return ua(this._data,o)},r.prototype.set=function(o,s,d){if(!$e(o))throw new TypeError("Array expected");if(o.length<this._size.length)throw new Fe(o.length,this._size.length,"<");var v,p,h,D=o.map(function(y){return y+1});l(this,D,d);var m=this._data;for(v=0,p=o.length-1;v<p;v++)h=o[v],Pe(h,m.length),m=m[h];return h=o[o.length-1],Pe(h,m.length),m[h]=s,this};function n(o,s){if(!qn(s))throw new TypeError("Invalid index");var d=s.isScalar();if(d)return o.get(s.min());var v=s.size();if(v.length!==o._size.length)throw new Fe(v.length,o._size.length);for(var p=s.min(),h=s.max(),D=0,m=o._size.length;D<m;D++)Pe(p[D],o._size[D]),Pe(h[D],o._size[D]);return new r(i(o._data,s,v.length,0),o._datatype)}function i(o,s,d,v){var p=v===d-1,h=s.dimension(v);return p?h.map(function(D){return Pe(D,o.length),o[D]}).valueOf():h.map(function(D){Pe(D,o.length);var m=o[D];return i(m,s,d,v+1)}).valueOf()}function u(o,s,d,v){if(!s||s.isIndex!==!0)throw new TypeError("Invalid index");var p=s.size(),h=s.isScalar(),D;if(Ie(d)?(D=d.size(),d=d.valueOf()):D=Xe(d),h){if(D.length!==0)throw new TypeError("Scalar expected");o.set(s.min(),d,v)}else{if(!Tt(D,p))try{D.length===0?d=Tn([d],p):d=Tn(d,p),D=Xe(d)}catch{}if(p.length<o._size.length)throw new Fe(p.length,o._size.length,"<");if(D.length<p.length){for(var m=0,y=0;p[m]===1&&D[m]===1;)m++;for(;p[m]===1;)y++,m++;d=ju(d,p.length,y,D)}if(!Tt(p,D))throw new Fe(p,D,">");var w=s.max().map(function(g){return g+1});l(o,w,v);var F=p.length,_=0;a(o._data,s,d,F,_)}return o}function a(o,s,d,v,p){var h=p===v-1,D=s.dimension(p);h?D.forEach(function(m,y){Pe(m),o[m]=d[y[0]]}):D.forEach(function(m,y){Pe(m),a(o[m],s,d[y[0]],v,p+1)})}r.prototype.resize=function(o,s,d){if(!cr(o))throw new TypeError("Array or Matrix expected");var v=o.valueOf().map(h=>Array.isArray(h)&&h.length===1?h[0]:h),p=d?this.clone():this;return f(p,v,s)};function f(o,s,d){if(s.length===0){for(var v=o._data;$e(v);)v=v[0];return v}return o._size=s.slice(0),o._data=Hr(o._data,o._size,d),o}r.prototype.reshape=function(o,s){var d=s?this.clone():this;d._data=Qu(d._data,o);var v=d._size.reduce((p,h)=>p*h);return d._size=Zn(o,v),d};function l(o,s,d){for(var v=o._size.slice(0),p=!1;v.length<s.length;)v.push(0),p=!0;for(var h=0,D=s.length;h<D;h++)s[h]>v[h]&&(v[h]=s[h],p=!0);p&&f(o,v,d)}r.prototype.clone=function(){var o=new r({data:Be(this._data),size:Be(this._size),datatype:this._datatype});return o},r.prototype.size=function(){return this._size.slice(0)},r.prototype._forEach=function(o){var s=this,d=s.size();if(d.length===1){for(var v=0;v<d[0];v++)o(s._data,v,[v]);return}var p=Array(d.length).fill(0),h=Array(d.length-1),D=h.length-1;h[0]=s._data[0];for(var m=0;m<D;m++)h[m+1]=h[m][0];for(p[D]=-1;;){var y=void 0;for(y=D;y>=0;y--){if(p[y]++,p[y]===d[y]){p[y]=0;continue}h[y]=y===0?s._data[p[y]]:h[y-1][p[y]];for(var w=y;w<D;w++)h[w+1]=h[w][0];for(var F=0;F<d[h.length];F++)p[h.length]=F,o(h[D],F,p.slice(0));break}if(y===-1)break}},r.prototype.map=function(o){var s=this,d=new r(s),v=Xr(o,s._data,"map");return d._forEach(function(p,h,D){p[h]=v(p[h],D,s)}),d},r.prototype.forEach=function(o){var s=this,d=Xr(o,s._data,"map");s._forEach(function(v,p,h){d(v[p],h,s)})},r.prototype[Symbol.iterator]=function*(){var o=function*(d,v){if($e(d))for(var p=0;p<d.length;p++)yield*o(d[p],v.concat(p));else yield{value:d,index:v}};yield*o(this._data,[])},r.prototype.rows=function(){var o=[],s=this.size();if(s.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var d=this._data;for(var v of d)o.push(new r([v],this._datatype));return o},r.prototype.columns=function(){var o=this,s=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var v=this._data,p=function(m){var y=v.map(w=>[w[m]]);s.push(new r(y,o._datatype))},h=0;h<d[1];h++)p(h);return s},r.prototype.toArray=function(){return Be(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(o){return ze(this._data,o)},r.prototype.toString=function(){return ze(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(o){if(o){if(Re(o)&&(o=o.toNumber()),!Me(o)||!xe(o))throw new TypeError("The parameter k must be an integer number")}else o=0;for(var s=o>0?o:0,d=o<0?-o:0,v=this._size[0],p=this._size[1],h=Math.min(v-d,p-s),D=[],m=0;m<h;m++)D[m]=this._data[m+d][m+s];return new r({data:D,size:[h],datatype:this._datatype})},r.diagonal=function(o,s,d,v){if(!$e(o))throw new TypeError("Array expected, size parameter");if(o.length!==2)throw new Error("Only two dimensions matrix are supported");if(o=o.map(function(C){if(Re(C)&&(C=C.toNumber()),!Me(C)||!xe(C)||C<1)throw new Error("Size values must be positive integers");return C}),d){if(Re(d)&&(d=d.toNumber()),!Me(d)||!xe(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var p=d>0?d:0,h=d<0?-d:0,D=o[0],m=o[1],y=Math.min(D-h,m-p),w;if($e(s)){if(s.length!==y)throw new Error("Invalid value array length");w=function(b){return s[b]}}else if(Ie(s)){var F=s.size();if(F.length!==1||F[0]!==y)throw new Error("Invalid matrix length");w=function(b){return s.get([b])}}else w=function(){return s};v||(v=Re(w(0))?w(0).mul(0):0);var _=[];if(o.length>0){_=Hr(_,o,v);for(var g=0;g<y;g++)_[g+h][g+p]=w(g)}return new r({data:_,size:[D,m]})},r.fromJSON=function(o){return new r(o)},r.prototype.swapRows=function(o,s){if(!Me(o)||!xe(o)||!Me(s)||!xe(s))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Pe(o,this._size[0]),Pe(s,this._size[0]),r._swapRows(o,s,this._data),this},r._swapRows=function(o,s,d){var v=d[o];d[o]=d[s],d[s]=v};function c(o){return Ie(o)?c(o.valueOf()):$e(o)?o.map(c):o}return r},{isClass:!0});function K0(e){var t=e.length,r=e[0].length,n,i,u=[];for(i=0;i<r;i++){var a=[];for(n=0;n<t;n++)a.push(e[n][i]);u.push(a)}return u}function Q0(e){for(var t=0;t<e.length;t++)if(cr(e[t]))return!0;return!1}function aa(e,t){Ie(e)&&(e=e.valueOf());for(var r=0,n=e.length;r<n;r++){var i=e[r];Array.isArray(i)?aa(i,t):t(i)}}function yt(e,t,r){return e&&typeof e.map=="function"?e.map(function(n){return yt(n,t)}):t(e)}function k0(e,t,r){var n=Array.isArray(e)?Xe(e):e.size();if(t<0||t>=n.length)throw new Ot(t,n.length);return Ie(e)?e.create(Yr(e.valueOf(),t,r),e.datatype()):Yr(e,t,r)}function Yr(e,t,r){var n,i,u,a;if(t<=0)if(Array.isArray(e[0])){for(a=K0(e),i=[],n=0;n<a.length;n++)i[n]=Yr(a[n],t-1,r);return i}else{for(u=e[0],n=1;n<e.length;n++)u=r(u,e[n]);return u}else{for(i=[],n=0;n<e.length;n++)i[n]=Yr(e[n],t-1,r);return i}}var Ai="isInteger",j0=["typed"],eh=k(Ai,j0,e=>{var{typed:t}=e;return t(Ai,{number:xe,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1n},"Array | Matrix":t.referToSelf(r=>n=>yt(n,r))})}),Xn="number",fn="number, number";function oa(e){return Math.abs(e)}oa.signature=Xn;function sa(e,t){return e+t}sa.signature=fn;function fa(e,t){return e-t}fa.signature=fn;function ca(e,t){return e*t}ca.signature=fn;function la(e){return-e}la.signature=Xn;function ha(e){return Math.exp(e)}ha.signature=Xn;function da(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}da.signature=fn;var th="number";function va(e){return e>0}va.signature=th;function kt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n))}var bi="isPositive",rh=["typed","config"],nh=k(bi,rh,e=>{var{typed:t,config:r}=e;return t(bi,{number:n=>St(n,0,r.relTol,r.absTol)?!1:va(n),BigNumber:n=>kt(n,new n.constructor(0),r.relTol,r.absTol)?!1:!n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n>0n,Fraction:n=>n.s>0n&&n.n>0n,Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>yt(i,n))})}),Ei="isZero",ih=["typed","equalScalar"],uh=k(Ei,ih,e=>{var{typed:t,equalScalar:r}=e;return t(Ei,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>yt(i,n))})});function ah(e,t,r,n){return St(e.re,t.re,r,n)&&St(e.im,t.im,r,n)}var pr=k("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}}),Gr="equalScalar",oh=["typed","config"],sh=k(Gr,oh,e=>{var{typed:t,config:r}=e,n=pr({typed:t});return t(Gr,{"boolean, boolean":function(u,a){return u===a},"number, number":function(u,a){return St(u,a,r.relTol,r.absTol)},"BigNumber, BigNumber":function(u,a){return u.eq(a)||kt(u,a,r.relTol,r.absTol)},"bigint, bigint":function(u,a){return u===a},"Fraction, Fraction":function(u,a){return u.equals(a)},"Complex, Complex":function(u,a){return ah(u,a,r.relTol,r.absTol)}},n)});k(Gr,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Gr,{"number, number":function(i,u){return St(i,u,r.relTol,r.absTol)}})});var fh="SparseMatrix",ch=["typed","equalScalar","Matrix"],lh=k(fh,ch,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function i(h,D){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(D&&!pt(D))throw new Error("Invalid datatype: "+D);if(Ie(h))u(this,h,D);else if(h&&$e(h.index)&&$e(h.ptr)&&$e(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=D||h.datatype;else if($e(h))a(this,h,D);else{if(h)throw new TypeError("Unsupported type of data ("+gt(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=D}}function u(h,D,m){D.type==="SparseMatrix"?(h._values=D._values?Be(D._values):void 0,h._index=Be(D._index),h._ptr=Be(D._ptr),h._size=Be(D._size),h._datatype=m||D._datatype):a(h,D.valueOf(),m||D._datatype)}function a(h,D,m){h._values=[],h._index=[],h._ptr=[],h._datatype=m;var y=D.length,w=0,F=r,_=0;if(pt(m)&&(F=t.find(r,[m,m])||r,_=t.convert(0,m)),y>0){var g=0;do{h._ptr.push(h._index.length);for(var C=0;C<y;C++){var b=D[C];if($e(b)){if(g===0&&w<b.length&&(w=b.length),g<b.length){var A=b[g];F(A,_)||(h._values.push(A),h._index.push(C))}}else g===0&&w<1&&(w=1),F(b,_)||(h._values.push(b),h._index.push(C))}g++}while(g<w)}h._ptr.push(h._index.length),h._size=[y,w]}i.prototype=new n,i.prototype.createSparseMatrix=function(h,D){return new i(h,D)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Hn(this._values,gt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(h,D){return new i(h,D)},i.prototype.density=function(){var h=this._size[0],D=this._size[1];return h!==0&&D!==0?this._index.length/(h*D):0},i.prototype.subset=function(h,D,m){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return f(this,h);case 2:case 3:return l(this,h,D,m);default:throw new SyntaxError("Wrong number of arguments")}};function f(h,D){if(!qn(D))throw new TypeError("Invalid index");var m=D.isScalar();if(m)return h.get(D.min());var y=D.size();if(y.length!==h._size.length)throw new Fe(y.length,h._size.length);var w,F,_,g,C=D.min(),b=D.max();for(w=0,F=h._size.length;w<F;w++)Pe(C[w],h._size[w]),Pe(b[w],h._size[w]);var A=h._values,S=h._index,B=h._ptr,I=D.dimension(0),q=D.dimension(1),O=[],P=[];I.forEach(function(z,H){P[z]=H[0],O[z]=!0});var x=A?[]:void 0,G=[],Z=[];return q.forEach(function(z){for(Z.push(G.length),_=B[z],g=B[z+1];_<g;_++)w=S[_],O[w]===!0&&(G.push(P[w]),x&&x.push(A[_]))}),Z.push(G.length),new i({values:x,index:G,ptr:Z,size:y,datatype:h._datatype})}function l(h,D,m,y){if(!D||D.isIndex!==!0)throw new TypeError("Invalid index");var w=D.size(),F=D.isScalar(),_;if(Ie(m)?(_=m.size(),m=m.toArray()):_=Xe(m),F){if(_.length!==0)throw new TypeError("Scalar expected");h.set(D.min(),m,y)}else{if(w.length!==1&&w.length!==2)throw new Fe(w.length,h._size.length,"<");if(_.length<w.length){for(var g=0,C=0;w[g]===1&&_[g]===1;)g++;for(;w[g]===1;)C++,g++;m=ju(m,w.length,C,_)}if(!Tt(w,_))throw new Fe(w,_,">");if(w.length===1){var b=D.dimension(0);b.forEach(function(B,I){Pe(B),h.set([B,0],m[I[0]],y)})}else{var A=D.dimension(0),S=D.dimension(1);A.forEach(function(B,I){Pe(B),S.forEach(function(q,O){Pe(q),h.set([B,q],m[I[0]][O[0]],y)})})}}return h}i.prototype.get=function(h){if(!$e(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Fe(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var D=h[0],m=h[1];Pe(D,this._size[0]),Pe(m,this._size[1]);var y=c(D,this._ptr[m],this._ptr[m+1],this._index);return y<this._ptr[m+1]&&this._index[y]===D?this._values[y]:0},i.prototype.set=function(h,D,m){if(!$e(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Fe(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=h[0],w=h[1],F=this._size[0],_=this._size[1],g=r,C=0;pt(this._datatype)&&(g=t.find(r,[this._datatype,this._datatype])||r,C=t.convert(0,this._datatype)),(y>F-1||w>_-1)&&(d(this,Math.max(y+1,F),Math.max(w+1,_),m),F=this._size[0],_=this._size[1]),Pe(y,F),Pe(w,_);var b=c(y,this._ptr[w],this._ptr[w+1],this._index);return b<this._ptr[w+1]&&this._index[b]===y?g(D,C)?o(b,w,this._values,this._index,this._ptr):this._values[b]=D:g(D,C)||s(b,y,w,D,this._values,this._index,this._ptr),this};function c(h,D,m,y){if(m-D===0)return m;for(var w=D;w<m;w++)if(y[w]===h)return w;return D}function o(h,D,m,y,w){m.splice(h,1),y.splice(h,1);for(var F=D+1;F<w.length;F++)w[F]--}function s(h,D,m,y,w,F,_){w.splice(h,0,y),F.splice(h,0,D);for(var g=m+1;g<_.length;g++)_[g]++}i.prototype.resize=function(h,D,m){if(!cr(h))throw new TypeError("Array or Matrix expected");var y=h.valueOf().map(F=>Array.isArray(F)&&F.length===1?F[0]:F);if(y.length!==2)throw new Error("Only two dimensions matrix are supported");y.forEach(function(F){if(!Me(F)||!xe(F)||F<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ze(y)+")")});var w=m?this.clone():this;return d(w,y[0],y[1],D)};function d(h,D,m,y){var w=y||0,F=r,_=0;pt(h._datatype)&&(F=t.find(r,[h._datatype,h._datatype])||r,_=t.convert(0,h._datatype),w=t.convert(w,h._datatype));var g=!F(w,_),C=h._size[0],b=h._size[1],A,S,B;if(m>b){for(S=b;S<m;S++)if(h._ptr[S]=h._values.length,g)for(A=0;A<C;A++)h._values.push(w),h._index.push(A);h._ptr[m]=h._values.length}else m<b&&(h._ptr.splice(m+1,b-m),h._values.splice(h._ptr[m],h._values.length),h._index.splice(h._ptr[m],h._index.length));if(b=m,D>C){if(g){var I=0;for(S=0;S<b;S++){h._ptr[S]=h._ptr[S]+I,B=h._ptr[S+1]+I;var q=0;for(A=C;A<D;A++,q++)h._values.splice(B+q,0,w),h._index.splice(B+q,0,A),I++}h._ptr[b]=h._values.length}}else if(D<C){var O=0;for(S=0;S<b;S++){h._ptr[S]=h._ptr[S]-O;var P=h._ptr[S],x=h._ptr[S+1]-O;for(B=P;B<x;B++)A=h._index[B],A>D-1&&(h._values.splice(B,1),h._index.splice(B,1),O++)}h._ptr[S]=h._values.length}return h._size[0]=D,h._size[1]=m,h}i.prototype.reshape=function(h,D){if(!$e(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(z){if(!Me(z)||!xe(z)||z<=-2||z===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+ze(h)+")")});var m=this._size[0]*this._size[1];h=Zn(h,m);var y=h[0]*h[1];if(m!==y)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=D?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return w;for(var F=[],_=0;_<w._ptr.length;_++)for(var g=0;g<w._ptr[_+1]-w._ptr[_];g++)F.push(_);for(var C=w._values.slice(),b=w._index.slice(),A=0;A<w._index.length;A++){var S=b[A],B=F[A],I=S*w._size[1]+B;F[A]=I%h[1],b[A]=Math.floor(I/h[1])}w._values.length=0,w._index.length=0,w._ptr.length=h[1]+1,w._size=h.slice();for(var q=0;q<w._ptr.length;q++)w._ptr[q]=0;for(var O=0;O<C.length;O++){var P=b[O],x=F[O],G=C[O],Z=c(P,w._ptr[x],w._ptr[x+1],w._index);s(Z,P,x,G,w._values,w._index,w._ptr)}return w},i.prototype.clone=function(){var h=new i({values:this._values?Be(this._values):void 0,index:Be(this._index),ptr:Be(this._ptr),size:Be(this._size),datatype:this._datatype});return h},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(h,D){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var m=this,y=this._size[0],w=this._size[1],F=Xr(h,m,"map"),_=function(C,b,A){return F(C,[b,A],m)};return v(this,0,y-1,0,w-1,_,D)};function v(h,D,m,y,w,F,_){var g=[],C=[],b=[],A=r,S=0;pt(h._datatype)&&(A=t.find(r,[h._datatype,h._datatype])||r,S=t.convert(0,h._datatype));for(var B=function(oe,re,_e){var De=F(oe,re,_e);A(De,S)||(g.push(De),C.push(re))},I=y;I<=w;I++){b.push(g.length);var q=h._ptr[I],O=h._ptr[I+1];if(_)for(var P=q;P<O;P++){var x=h._index[P];x>=D&&x<=m&&B(h._values[P],x-D,I-y)}else{for(var G={},Z=q;Z<O;Z++){var z=h._index[Z];G[z]=h._values[Z]}for(var H=D;H<=m;H++){var j=H in G?G[H]:0;B(j,H-D,I-y)}}}return b.push(g.length),new i({values:g,index:C,ptr:b,size:[m-D+1,w-y+1]})}i.prototype.forEach=function(h,D){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var m=this,y=this._size[0],w=this._size[1],F=Xr(h,m,"forEach"),_=0;_<w;_++){var g=this._ptr[_],C=this._ptr[_+1];if(D)for(var b=g;b<C;b++){var A=this._index[b];F(this._values[b],[A,_],m)}else{for(var S={},B=g;B<C;B++){var I=this._index[B];S[I]=this._values[B]}for(var q=0;q<y;q++){var O=q in S?S[q]:0;F(O,[q,_],m)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],D=0;D<h;D++)for(var m=this._ptr[D],y=this._ptr[D+1],w=m;w<y;w++){var F=this._index[w];yield{value:this._values[w],index:[F,D]}}},i.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)};function p(h,D,m,y,w){var F=y[0],_=y[1],g=[],C,b;for(C=0;C<F;C++)for(g[C]=[],b=0;b<_;b++)g[C][b]=0;for(b=0;b<_;b++)for(var A=m[b],S=m[b+1],B=A;B<S;B++)C=D[B],g[C][b]=h?w?Be(h[B]):h[B]:1;return g}return i.prototype.format=function(h){for(var D=this._size[0],m=this._size[1],y=this.density(),w="Sparse Matrix ["+ze(D,h)+" x "+ze(m,h)+"] density: "+ze(y,h)+`
`,F=0;F<m;F++)for(var _=this._ptr[F],g=this._ptr[F+1],C=_;C<g;C++){var b=this._index[C];w+=`
    (`+ze(b,h)+", "+ze(F,h)+") ==> "+(this._values?ze(this._values[C],h):"X")}return w},i.prototype.toString=function(){return ze(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(h){if(h){if(Re(h)&&(h=h.toNumber()),!Me(h)||!xe(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var D=h>0?h:0,m=h<0?-h:0,y=this._size[0],w=this._size[1],F=Math.min(y-m,w-D),_=[],g=[],C=[];C[0]=0;for(var b=D;b<w&&_.length<F;b++)for(var A=this._ptr[b],S=this._ptr[b+1],B=A;B<S;B++){var I=this._index[B];if(I===b-D+m){_.push(this._values[B]),g[_.length-1]=I-m;break}}return C.push(_.length),new i({values:_,index:g,ptr:C,size:[F,1]})},i.fromJSON=function(h){return new i(h)},i.diagonal=function(h,D,m,y,w){if(!$e(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(z){if(Re(z)&&(z=z.toNumber()),!Me(z)||!xe(z)||z<1)throw new Error("Size values must be positive integers");return z}),m){if(Re(m)&&(m=m.toNumber()),!Me(m)||!xe(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var F=r,_=0;pt(w)&&(F=t.find(r,[w,w])||r,_=t.convert(0,w));var g=m>0?m:0,C=m<0?-m:0,b=h[0],A=h[1],S=Math.min(b-C,A-g),B;if($e(D)){if(D.length!==S)throw new Error("Invalid value array length");B=function(H){return D[H]}}else if(Ie(D)){var I=D.size();if(I.length!==1||I[0]!==S)throw new Error("Invalid matrix length");B=function(H){return D.get([H])}}else B=function(){return D};for(var q=[],O=[],P=[],x=0;x<A;x++){P.push(q.length);var G=x-g;if(G>=0&&G<S){var Z=B(G);F(Z,_)||(O.push(G+C),q.push(Z))}}return P.push(q.length),new i({values:q,index:O,ptr:P,size:[b,A]})},i.prototype.swapRows=function(h,D){if(!Me(h)||!xe(h)||!Me(D)||!xe(D))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Pe(h,this._size[0]),Pe(D,this._size[0]),i._swapRows(h,D,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(h,D,m,y,w){for(var F=y[h],_=y[h+1],g=F;g<_;g++)w(m[g],D[g])},i._swapRows=function(h,D,m,y,w,F){for(var _=0;_<m;_++){var g=F[_],C=F[_+1],b=c(h,g,C,w),A=c(D,g,C,w);if(b<C&&A<C&&w[b]===h&&w[A]===D){if(y){var S=y[b];y[b]=y[A],y[A]=S}continue}if(b<C&&w[b]===h&&(A>=C||w[A]!==D)){var B=y?y[b]:void 0;w.splice(A,0,D),y&&y.splice(A,0,B),w.splice(A<=b?b+1:b,1),y&&y.splice(A<=b?b+1:b,1);continue}if(A<C&&w[A]===D&&(b>=C||w[b]!==h)){var I=y?y[A]:void 0;w.splice(b,0,h),y&&y.splice(b,0,I),w.splice(b<=A?A+1:A,1),y&&y.splice(b<=A?A+1:A,1)}}},i},{isClass:!0}),hh="number",dh=["typed"];function vh(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],i=t[3];return{input:e,radix:r,integerPart:n,fractionalPart:i}}else return null}function ph(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++){var i=parseInt(e.fractionalPart[n],e.radix);r+=i/Math.pow(e.radix,n+1)}var u=t+r;if(isNaN(u))throw new SyntaxError('String "'+e.input+'" is not a valid number');return u}var Dh=k(hh,dh,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var u=vh(i);if(u)return ph(u);var a=0,f=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);f&&(a=Number(f[2]),i=f[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(f){if(l>2**a-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(a-1)&&(l=l-2**a)}return l},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),null:function(i){return 0},"Unit, string | Unit":function(i,u){return i.toNumber(u)},"Array | Matrix":t.referToSelf(n=>i=>yt(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),gh="bignumber",mh=["typed","BigNumber"],wh=k(gh,mh,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var a=u[2],f=r(u[1]),l=new r(2).pow(Number(a));if(f.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var c=new r(2).pow(Number(a)-1);return f.gte(c)?f.sub(l):f}return new r(i)},BigNumber:function(i){return i},bigint:function(i){return new r(i.toString())},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),Fraction:function(i){return new r(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new r(0)},"Array | Matrix":t.referToSelf(n=>i=>yt(i,n))})}),yh="fraction",_h=["typed","Fraction"],Fh=k(yh,_h,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,u){return new r(i,u)},"bigint, bigint":function(i,u){return new r(i,u)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},bigint:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),Object:function(i){return new r(i)},"Array | Matrix":t.referToSelf(n=>i=>yt(i,n))})}),Ci="matrix",Ah=["typed","Matrix","DenseMatrix","SparseMatrix"],bh=k(Ci,Ah,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t(Ci,{"":function(){return u([])},string:function(f){return u([],f)},"string, string":function(f,l){return u([],f,l)},Array:function(f){return u(f)},Matrix:function(f){return u(f,f.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(a,f,l){if(f==="dense"||f==="default"||f===void 0)return new n(a,l);if(f==="sparse")return new i(a,l);throw new TypeError("Unknown matrix type "+JSON.stringify(f)+".")}}),Si="unaryMinus",Eh=["typed"],Ch=k(Si,Eh,e=>{var{typed:t}=e;return t(Si,{number:la,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>n=>{var i=n.clone();return i.value=t.find(r,i.valueType())(n.value),i}),"Array | Matrix":t.referToSelf(r=>n=>yt(n,r))})}),Bi="abs",Sh=["typed"],Bh=k(Bi,Sh,e=>{var{typed:t}=e;return t(Bi,{number:oa,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>n=>yt(n,r))})}),Mi="addScalar",Mh=["typed"],xh=k(Mi,Mh,e=>{var{typed:t}=e;return t(Mi,{"number, number":sa,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var u=n.clone();return u.value=t.find(r,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),xi="subtractScalar",Nh=["typed"],Th=k(xi,Nh,e=>{var{typed:t}=e;return t(xi,{"number, number":fa,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"bigint, bigint":function(n,i){return n-i},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var u=n.clone();return u.value=t.find(r,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),zh="matAlgo11xS0s",Ih=["typed","equalScalar"],pa=k(zh,Ih,e=>{var{typed:t,equalScalar:r}=e;return function(i,u,a,f){var l=i._values,c=i._index,o=i._ptr,s=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=s[0],p=s[1],h,D=r,m=0,y=a;typeof d=="string"&&(h=d,D=t.find(r,[h,h]),m=t.convert(0,h),u=t.convert(u,h),y=t.find(a,[h,h]));for(var w=[],F=[],_=[],g=0;g<p;g++){_[g]=F.length;for(var C=o[g],b=o[g+1],A=C;A<b;A++){var S=c[A],B=f?y(u,l[A]):y(l[A],u);D(B,m)||(F.push(S),w.push(B))}}return _[p]=F.length,i.createSparseMatrix({values:w,index:F,ptr:_,size:[v,p],datatype:h})}}),Oh="matAlgo12xSfs",Ph=["typed","DenseMatrix"],jt=k(Oh,Ph,e=>{var{typed:t,DenseMatrix:r}=e;return function(i,u,a,f){var l=i._values,c=i._index,o=i._ptr,s=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=s[0],p=s[1],h,D=a;typeof d=="string"&&(h=d,u=t.convert(u,h),D=t.find(a,[h,h]));for(var m=[],y=[],w=[],F=0;F<p;F++){for(var _=F+1,g=o[F],C=o[F+1],b=g;b<C;b++){var A=c[b];y[A]=l[b],w[A]=_}for(var S=0;S<v;S++)F===0&&(m[S]=[]),w[S]===_?m[S][F]=f?D(u,y[S]):D(y[S],u):m[S][F]=f?D(u,0):D(0,u)}return new r({data:m,size:[v,p],datatype:h})}}),$h="matAlgo14xDs",Rh=["typed"],Da=k($h,Rh,e=>{var{typed:t}=e;return function(i,u,a,f){var l=i._data,c=i._size,o=i._datatype,s,d=a;typeof o=="string"&&(s=o,u=t.convert(u,s),d=t.find(a,[s,s]));var v=c.length>0?r(d,0,c,c[0],l,u,f):[];return i.createDenseMatrix({data:v,size:Be(c),datatype:s})};function r(n,i,u,a,f,l,c){var o=[];if(i===u.length-1)for(var s=0;s<a;s++)o[s]=c?n(l,f[s]):n(f[s],l);else for(var d=0;d<a;d++)o[d]=r(n,i+1,u,u[i+1],f[d],l,c);return o}}),Ni="exp",qh=["typed"],Lh=k(Ni,qh,e=>{var{typed:t}=e;return t(Ni,{number:ha,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})}),Uh="matAlgo03xDSf",Vh=["typed"],er=k(Uh,Vh,e=>{var{typed:t}=e;return function(n,i,u,a){var f=n._data,l=n._size,c=n._datatype||n.getDataType(),o=i._values,s=i._index,d=i._ptr,v=i._size,p=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==v.length)throw new Fe(l.length,v.length);if(l[0]!==v[0]||l[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+v+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=l[0],D=l[1],m,y=0,w=u;typeof c=="string"&&c===p&&c!=="mixed"&&(m=c,y=t.convert(0,m),w=t.find(u,[m,m]));for(var F=[],_=0;_<h;_++)F[_]=[];for(var g=[],C=[],b=0;b<D;b++){for(var A=b+1,S=d[b],B=d[b+1],I=S;I<B;I++){var q=s[I];g[q]=a?w(o[I],f[q][b]):w(f[q][b],o[I]),C[q]=A}for(var O=0;O<h;O++)C[O]===A?F[O][b]=g[O]:F[O][b]=a?w(y,f[O][b]):w(f[O][b],y)}return n.createDenseMatrix({data:F,size:[h,D],datatype:c===n._datatype&&p===i._datatype?m:void 0})}}),Zh="matAlgo05xSfSf",Hh=["typed","equalScalar"],Xh=k(Zh,Hh,e=>{var{typed:t,equalScalar:r}=e;return function(i,u,a){var f=i._values,l=i._index,c=i._ptr,o=i._size,s=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=u._values,v=u._index,p=u._ptr,h=u._size,D=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(o.length!==h.length)throw new Fe(o.length,h.length);if(o[0]!==h[0]||o[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+h+")");var m=o[0],y=o[1],w,F=r,_=0,g=a;typeof s=="string"&&s===D&&s!=="mixed"&&(w=s,F=t.find(r,[w,w]),_=t.convert(0,w),g=t.find(a,[w,w]));var C=f&&d?[]:void 0,b=[],A=[],S=C?[]:void 0,B=C?[]:void 0,I=[],q=[],O,P,x,G;for(P=0;P<y;P++){A[P]=b.length;var Z=P+1;for(x=c[P],G=c[P+1];x<G;x++)O=l[x],b.push(O),I[O]=Z,S&&(S[O]=f[x]);for(x=p[P],G=p[P+1];x<G;x++)O=v[x],I[O]!==Z&&b.push(O),q[O]=Z,B&&(B[O]=d[x]);if(C)for(x=A[P];x<b.length;){O=b[x];var z=I[O],H=q[O];if(z===Z||H===Z){var j=z===Z?S[O]:_,ve=H===Z?B[O]:_,oe=g(j,ve);F(oe,_)?b.splice(x,1):(C.push(oe),x++)}}}return A[y]=b.length,i.createSparseMatrix({values:C,index:b,ptr:A,size:[m,y],datatype:s===i._datatype&&D===u._datatype?w:void 0})}}),Yh="matAlgo13xDD",Gh=["typed"],Jh=k(Yh,Gh,e=>{var{typed:t}=e;return function(i,u,a){var f=i._data,l=i._size,c=i._datatype,o=u._data,s=u._size,d=u._datatype,v=[];if(l.length!==s.length)throw new Fe(l.length,s.length);for(var p=0;p<l.length;p++){if(l[p]!==s[p])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+s+")");v[p]=l[p]}var h,D=a;typeof c=="string"&&c===d&&(h=c,D=t.find(a,[h,h]));var m=v.length>0?r(D,0,v,v[0],f,o):[];return i.createDenseMatrix({data:m,size:v,datatype:h})};function r(n,i,u,a,f,l){var c=[];if(i===u.length-1)for(var o=0;o<a;o++)c[o]=n(f[o],l[o]);else for(var s=0;s<a;s++)c[s]=r(n,i+1,u,u[i+1],f[s],l[s]);return c}});function Ze(e,t){if(Tt(e.size(),t.size()))return[e,t];var r=na(e.size(),t.size());return[e,t].map(n=>Wh(n,r))}function Wh(e,t){return Tt(e.size(),t)?e:e.create(Tn(e.valueOf(),t),e.datatype())}var Kh="matrixAlgorithmSuite",Qh=["typed","matrix"],Ut=k(Kh,Qh,e=>{var{typed:t,matrix:r}=e,n=Jh({typed:t}),i=Da({typed:t});return function(a){var f=a.elop,l=a.SD||a.DS,c;f?(c={"DenseMatrix, DenseMatrix":(v,p)=>n(...Ze(v,p),f),"Array, Array":(v,p)=>n(...Ze(r(v),r(p)),f).valueOf(),"Array, DenseMatrix":(v,p)=>n(...Ze(r(v),p),f),"DenseMatrix, Array":(v,p)=>n(...Ze(v,r(p)),f)},a.SS&&(c["SparseMatrix, SparseMatrix"]=(v,p)=>a.SS(...Ze(v,p),f,!1)),a.DS&&(c["DenseMatrix, SparseMatrix"]=(v,p)=>a.DS(...Ze(v,p),f,!1),c["Array, SparseMatrix"]=(v,p)=>a.DS(...Ze(r(v),p),f,!1)),l&&(c["SparseMatrix, DenseMatrix"]=(v,p)=>l(...Ze(p,v),f,!0),c["SparseMatrix, Array"]=(v,p)=>l(...Ze(r(p),v),f,!0))):(c={"DenseMatrix, DenseMatrix":t.referToSelf(v=>(p,h)=>n(...Ze(p,h),v)),"Array, Array":t.referToSelf(v=>(p,h)=>n(...Ze(r(p),r(h)),v).valueOf()),"Array, DenseMatrix":t.referToSelf(v=>(p,h)=>n(...Ze(r(p),h),v)),"DenseMatrix, Array":t.referToSelf(v=>(p,h)=>n(...Ze(p,r(h)),v))},a.SS&&(c["SparseMatrix, SparseMatrix"]=t.referToSelf(v=>(p,h)=>a.SS(...Ze(p,h),v,!1))),a.DS&&(c["DenseMatrix, SparseMatrix"]=t.referToSelf(v=>(p,h)=>a.DS(...Ze(p,h),v,!1)),c["Array, SparseMatrix"]=t.referToSelf(v=>(p,h)=>a.DS(...Ze(r(p),h),v,!1))),l&&(c["SparseMatrix, DenseMatrix"]=t.referToSelf(v=>(p,h)=>l(...Ze(h,p),v,!0)),c["SparseMatrix, Array"]=t.referToSelf(v=>(p,h)=>l(...Ze(r(h),p),v,!0))));var o=a.scalar||"any",s=a.Ds||a.Ss;s&&(f?(c["DenseMatrix,"+o]=(v,p)=>i(v,p,f,!1),c[o+", DenseMatrix"]=(v,p)=>i(p,v,f,!0),c["Array,"+o]=(v,p)=>i(r(v),p,f,!1).valueOf(),c[o+", Array"]=(v,p)=>i(r(p),v,f,!0).valueOf()):(c["DenseMatrix,"+o]=t.referToSelf(v=>(p,h)=>i(p,h,v,!1)),c[o+", DenseMatrix"]=t.referToSelf(v=>(p,h)=>i(h,p,v,!0)),c["Array,"+o]=t.referToSelf(v=>(p,h)=>i(r(p),h,v,!1).valueOf()),c[o+", Array"]=t.referToSelf(v=>(p,h)=>i(r(h),p,v,!0).valueOf())));var d=a.sS!==void 0?a.sS:a.Ss;return f?(a.Ss&&(c["SparseMatrix,"+o]=(v,p)=>a.Ss(v,p,f,!1)),d&&(c[o+", SparseMatrix"]=(v,p)=>d(p,v,f,!0))):(a.Ss&&(c["SparseMatrix,"+o]=t.referToSelf(v=>(p,h)=>a.Ss(p,h,v,!1))),d&&(c[o+", SparseMatrix"]=t.referToSelf(v=>(p,h)=>d(h,p,v,!0)))),f&&f.signatures&&cl(c,f.signatures),c}}),kh="matAlgo01xDSid",jh=["typed"],ga=k(kh,jh,e=>{var{typed:t}=e;return function(n,i,u,a){var f=n._data,l=n._size,c=n._datatype||n.getDataType(),o=i._values,s=i._index,d=i._ptr,v=i._size,p=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==v.length)throw new Fe(l.length,v.length);if(l[0]!==v[0]||l[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+v+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=l[0],D=l[1],m=typeof c=="string"&&c!=="mixed"&&c===p?c:void 0,y=m?t.find(u,[m,m]):u,w,F,_=[];for(w=0;w<h;w++)_[w]=[];var g=[],C=[];for(F=0;F<D;F++){for(var b=F+1,A=d[F],S=d[F+1],B=A;B<S;B++)w=s[B],g[w]=a?y(o[B],f[w][F]):y(f[w][F],o[B]),C[w]=b;for(w=0;w<h;w++)C[w]===b?_[w][F]=g[w]:_[w][F]=f[w][F]}return n.createDenseMatrix({data:_,size:[h,D],datatype:c===n._datatype&&p===i._datatype?m:void 0})}}),ed="matAlgo04xSidSid",td=["typed","equalScalar"],rd=k(ed,td,e=>{var{typed:t,equalScalar:r}=e;return function(i,u,a){var f=i._values,l=i._index,c=i._ptr,o=i._size,s=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=u._values,v=u._index,p=u._ptr,h=u._size,D=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(o.length!==h.length)throw new Fe(o.length,h.length);if(o[0]!==h[0]||o[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+h+")");var m=o[0],y=o[1],w,F=r,_=0,g=a;typeof s=="string"&&s===D&&s!=="mixed"&&(w=s,F=t.find(r,[w,w]),_=t.convert(0,w),g=t.find(a,[w,w]));var C=f&&d?[]:void 0,b=[],A=[],S=f&&d?[]:void 0,B=f&&d?[]:void 0,I=[],q=[],O,P,x,G,Z;for(P=0;P<y;P++){A[P]=b.length;var z=P+1;for(G=c[P],Z=c[P+1],x=G;x<Z;x++)O=l[x],b.push(O),I[O]=z,S&&(S[O]=f[x]);for(G=p[P],Z=p[P+1],x=G;x<Z;x++)if(O=v[x],I[O]===z){if(S){var H=g(S[O],d[x]);F(H,_)?I[O]=null:S[O]=H}}else b.push(O),q[O]=z,B&&(B[O]=d[x]);if(S&&B)for(x=A[P];x<b.length;)O=b[x],I[O]===z?(C[x]=S[O],x++):q[O]===z?(C[x]=B[O],x++):b.splice(x,1)}return A[y]=b.length,i.createSparseMatrix({values:C,index:b,ptr:A,size:[m,y],datatype:s===i._datatype&&D===u._datatype?w:void 0})}}),nd="matAlgo10xSids",id=["typed","DenseMatrix"],ma=k(nd,id,e=>{var{typed:t,DenseMatrix:r}=e;return function(i,u,a,f){var l=i._values,c=i._index,o=i._ptr,s=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=s[0],p=s[1],h,D=a;typeof d=="string"&&(h=d,u=t.convert(u,h),D=t.find(a,[h,h]));for(var m=[],y=[],w=[],F=0;F<p;F++){for(var _=F+1,g=o[F],C=o[F+1],b=g;b<C;b++){var A=c[b];y[A]=l[b],w[A]=_}for(var S=0;S<v;S++)F===0&&(m[S]=[]),w[S]===_?m[S][F]=f?D(u,y[S]):D(y[S],u):m[S][F]=u}return new r({data:m,size:[v,p],datatype:h})}}),ud="multiplyScalar",ad=["typed"],od=k(ud,ad,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":ca,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),Ti="multiply",sd=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],fd=k(Ti,sd,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:u,dot:a}=e,f=pa({typed:t,equalScalar:u}),l=Da({typed:t});function c(_,g){switch(_.length){case 1:switch(g.length){case 1:if(_[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(_[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+_[0]+") must match Matrix rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;case 2:switch(g.length){case 1:if(_[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+_[1]+") must match Vector length ("+g[0]+")");break;case 2:if(_[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+_[1]+") must match Matrix B rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+_.length+" dimensions)")}}function o(_,g,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return a(_,g)}function s(_,g){if(g.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return d(_,g)}function d(_,g){var C=_._data,b=_._size,A=_._datatype||_.getDataType(),S=g._data,B=g._size,I=g._datatype||g.getDataType(),q=b[0],O=B[1],P,x=n,G=i;A&&I&&A===I&&typeof A=="string"&&A!=="mixed"&&(P=A,x=t.find(n,[P,P]),G=t.find(i,[P,P]));for(var Z=[],z=0;z<O;z++){for(var H=G(C[0],S[0][z]),j=1;j<q;j++)H=x(H,G(C[j],S[j][z]));Z[z]=H}return _.createDenseMatrix({data:Z,size:[O],datatype:A===_._datatype&&I===g._datatype?P:void 0})}var v=t("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":y}),p=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":D,"DenseMatrix, SparseMatrix":m,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":F});function h(_,g){var C=_._data,b=_._size,A=_._datatype||_.getDataType(),S=g._data,B=g._datatype||g.getDataType(),I=b[0],q=b[1],O,P=n,x=i;A&&B&&A===B&&typeof A=="string"&&A!=="mixed"&&(O=A,P=t.find(n,[O,O]),x=t.find(i,[O,O]));for(var G=[],Z=0;Z<I;Z++){for(var z=C[Z],H=x(z[0],S[0]),j=1;j<q;j++)H=P(H,x(z[j],S[j]));G[Z]=H}return _.createDenseMatrix({data:G,size:[I],datatype:A===_._datatype&&B===g._datatype?O:void 0})}function D(_,g){var C=_._data,b=_._size,A=_._datatype||_.getDataType(),S=g._data,B=g._size,I=g._datatype||g.getDataType(),q=b[0],O=b[1],P=B[1],x,G=n,Z=i;A&&I&&A===I&&typeof A=="string"&&A!=="mixed"&&A!=="mixed"&&(x=A,G=t.find(n,[x,x]),Z=t.find(i,[x,x]));for(var z=[],H=0;H<q;H++){var j=C[H];z[H]=[];for(var ve=0;ve<P;ve++){for(var oe=Z(j[0],S[0][ve]),re=1;re<O;re++)oe=G(oe,Z(j[re],S[re][ve]));z[H][ve]=oe}}return _.createDenseMatrix({data:z,size:[q,P],datatype:A===_._datatype&&I===g._datatype?x:void 0})}function m(_,g){var C=_._data,b=_._size,A=_._datatype||_.getDataType(),S=g._values,B=g._index,I=g._ptr,q=g._size,O=g._datatype||g._data===void 0?g._datatype:g.getDataType();if(!S)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var P=b[0],x=q[1],G,Z=n,z=i,H=u,j=0;A&&O&&A===O&&typeof A=="string"&&A!=="mixed"&&(G=A,Z=t.find(n,[G,G]),z=t.find(i,[G,G]),H=t.find(u,[G,G]),j=t.convert(0,G));for(var ve=[],oe=[],re=[],_e=g.createSparseMatrix({values:ve,index:oe,ptr:re,size:[P,x],datatype:A===_._datatype&&O===g._datatype?G:void 0}),De=0;De<x;De++){re[De]=oe.length;var ce=I[De],we=I[De+1];if(we>ce)for(var pe=0,ae=0;ae<P;ae++){for(var Ne=ae+1,N=void 0,J=ce;J<we;J++){var ee=B[J];pe!==Ne?(N=z(C[ae][ee],S[J]),pe=Ne):N=Z(N,z(C[ae][ee],S[J]))}pe===Ne&&!H(N,j)&&(oe.push(ae),ve.push(N))}}return re[x]=oe.length,_e}function y(_,g){var C=_._values,b=_._index,A=_._ptr,S=_._datatype||_._data===void 0?_._datatype:_.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var B=g._data,I=g._datatype||g.getDataType(),q=_._size[0],O=g._size[0],P=[],x=[],G=[],Z,z=n,H=i,j=u,ve=0;S&&I&&S===I&&typeof S=="string"&&S!=="mixed"&&(Z=S,z=t.find(n,[Z,Z]),H=t.find(i,[Z,Z]),j=t.find(u,[Z,Z]),ve=t.convert(0,Z));var oe=[],re=[];G[0]=0;for(var _e=0;_e<O;_e++){var De=B[_e];if(!j(De,ve))for(var ce=A[_e],we=A[_e+1],pe=ce;pe<we;pe++){var ae=b[pe];re[ae]?oe[ae]=z(oe[ae],H(De,C[pe])):(re[ae]=!0,x.push(ae),oe[ae]=H(De,C[pe]))}}for(var Ne=x.length,N=0;N<Ne;N++){var J=x[N];P[N]=oe[J]}return G[1]=x.length,_.createSparseMatrix({values:P,index:x,ptr:G,size:[q,1],datatype:S===_._datatype&&I===g._datatype?Z:void 0})}function w(_,g){var C=_._values,b=_._index,A=_._ptr,S=_._datatype||_._data===void 0?_._datatype:_.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var B=g._data,I=g._datatype||g.getDataType(),q=_._size[0],O=g._size[0],P=g._size[1],x,G=n,Z=i,z=u,H=0;S&&I&&S===I&&typeof S=="string"&&S!=="mixed"&&(x=S,G=t.find(n,[x,x]),Z=t.find(i,[x,x]),z=t.find(u,[x,x]),H=t.convert(0,x));for(var j=[],ve=[],oe=[],re=_.createSparseMatrix({values:j,index:ve,ptr:oe,size:[q,P],datatype:S===_._datatype&&I===g._datatype?x:void 0}),_e=[],De=[],ce=0;ce<P;ce++){oe[ce]=ve.length;for(var we=ce+1,pe=0;pe<O;pe++){var ae=B[pe][ce];if(!z(ae,H))for(var Ne=A[pe],N=A[pe+1],J=Ne;J<N;J++){var ee=b[J];De[ee]!==we?(De[ee]=we,ve.push(ee),_e[ee]=Z(ae,C[J])):_e[ee]=G(_e[ee],Z(ae,C[J]))}}for(var te=oe[ce],le=ve.length,he=te;he<le;he++){var ue=ve[he];j[he]=_e[ue]}}return oe[P]=ve.length,re}function F(_,g){var C=_._values,b=_._index,A=_._ptr,S=_._datatype||_._data===void 0?_._datatype:_.getDataType(),B=g._values,I=g._index,q=g._ptr,O=g._datatype||g._data===void 0?g._datatype:g.getDataType(),P=_._size[0],x=g._size[1],G=C&&B,Z,z=n,H=i;S&&O&&S===O&&typeof S=="string"&&S!=="mixed"&&(Z=S,z=t.find(n,[Z,Z]),H=t.find(i,[Z,Z]));for(var j=G?[]:void 0,ve=[],oe=[],re=_.createSparseMatrix({values:j,index:ve,ptr:oe,size:[P,x],datatype:S===_._datatype&&O===g._datatype?Z:void 0}),_e=G?[]:void 0,De=[],ce,we,pe,ae,Ne,N,J,ee,te=0;te<x;te++){oe[te]=ve.length;var le=te+1;for(Ne=q[te],N=q[te+1],ae=Ne;ae<N;ae++)if(ee=I[ae],G)for(we=A[ee],pe=A[ee+1],ce=we;ce<pe;ce++)J=b[ce],De[J]!==le?(De[J]=le,ve.push(J),_e[J]=H(B[ae],C[ce])):_e[J]=z(_e[J],H(B[ae],C[ce]));else for(we=A[ee],pe=A[ee+1],ce=we;ce<pe;ce++)J=b[ce],De[J]!==le&&(De[J]=le,ve.push(J));if(G)for(var he=oe[te],ue=ve.length,Ae=he;Ae<ue;Ae++){var qe=ve[Ae];j[Ae]=_e[qe]}}return oe[x]=ve.length,re}return t(Ti,i,{"Array, Array":t.referTo("Matrix, Matrix",_=>(g,C)=>{c(Xe(g),Xe(C));var b=_(r(g),r(C));return Ie(b)?b.valueOf():b}),"Matrix, Matrix":function(g,C){var b=g.size(),A=C.size();return c(b,A),b.length===1?A.length===1?o(g,C,b[0]):s(g,C):A.length===1?v(g,C):p(g,C)},"Matrix, Array":t.referTo("Matrix,Matrix",_=>(g,C)=>_(g,r(C))),"Array, Matrix":t.referToSelf(_=>(g,C)=>_(r(g,C.storage()),C)),"SparseMatrix, any":function(g,C){return f(g,C,i,!1)},"DenseMatrix, any":function(g,C){return l(g,C,i,!1)},"any, SparseMatrix":function(g,C){return f(C,g,i,!0)},"any, DenseMatrix":function(g,C){return l(C,g,i,!0)},"Array, any":function(g,C){return l(r(g),C,i,!1).valueOf()},"any, Array":function(g,C){return l(r(C),g,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(_=>(g,C,b)=>{for(var A=_(g,C),S=0;S<b.length;S++)A=_(A,b[S]);return A})})}),zi="subtract",cd=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],ld=k(zi,cd,e=>{var{typed:t,matrix:r,equalScalar:n,subtractScalar:i,unaryMinus:u,DenseMatrix:a,concat:f}=e,l=ga({typed:t}),c=er({typed:t}),o=Xh({typed:t,equalScalar:n}),s=ma({typed:t,DenseMatrix:a}),d=jt({typed:t,DenseMatrix:a}),v=Ut({typed:t,matrix:r,concat:f});return t(zi,{"any, any":i},v({elop:i,SS:o,DS:l,SD:c,Ss:d,sS:s}))}),hd="matAlgo07xSSf",dd=["typed","SparseMatrix"],Dr=k(hd,dd,e=>{var{typed:t,SparseMatrix:r}=e;return function(u,a,f){var l=u._size,c=u._datatype||u._data===void 0?u._datatype:u.getDataType(),o=a._size,s=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==o.length)throw new Fe(l.length,o.length);if(l[0]!==o[0]||l[1]!==o[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+o+")");var d=l[0],v=l[1],p,h=0,D=f;typeof c=="string"&&c===s&&c!=="mixed"&&(p=c,h=t.convert(0,p),D=t.find(f,[p,p]));for(var m=[],y=[],w=new Array(v+1).fill(0),F=[],_=[],g=[],C=[],b=0;b<v;b++){var A=b+1,S=0;n(u,b,g,F,A),n(a,b,C,_,A);for(var B=0;B<d;B++){var I=g[B]===A?F[B]:h,q=C[B]===A?_[B]:h,O=D(I,q);O!==0&&O!==!1&&(y.push(B),m.push(O),S++)}w[b+1]=w[b]+S}return new r({values:m,index:y,ptr:w,size:[d,v],datatype:c===u._datatype&&s===a._datatype?p:void 0})};function n(i,u,a,f,l){for(var c=i._values,o=i._index,s=i._ptr,d=s[u],v=s[u+1];d<v;d++){var p=o[d];a[p]=l,f[p]=c[d]}}}),Ii="conj",vd=["typed"],pd=k(Ii,vd,e=>{var{typed:t}=e;return t(Ii,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>n=>yt(n,r))})}),Oi="concat",Dd=["typed","matrix","isInteger"],gd=k(Oi,Dd,e=>{var{typed:t,matrix:r,isInteger:n}=e;return t(Oi,{"...Array | Matrix | number | BigNumber":function(u){var a,f=u.length,l=-1,c,o=!1,s=[];for(a=0;a<f;a++){var d=u[a];if(Ie(d)&&(o=!0),Me(d)||Re(d)){if(a!==f-1)throw new Error("Dimension must be specified as last argument");if(c=l,l=d.valueOf(),!n(l))throw new TypeError("Integer number expected for dimension");if(l<0||a>0&&l>c)throw new Ot(l,c+1)}else{var v=Be(d).valueOf(),p=Xe(v);if(s[a]=v,c=l,l=p.length-1,a>0&&l!==c)throw new Fe(c+1,l+1)}}if(s.length===0)throw new SyntaxError("At least one matrix expected");for(var h=s.shift();s.length;)h=ra(h,s.shift(),l);return o?r(h):h},"...string":function(u){return u.join("")}})}),Pi="identity",md=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],wd=k(Pi,md,e=>{var{typed:t,config:r,matrix:n,BigNumber:i,DenseMatrix:u,SparseMatrix:a}=e;return t(Pi,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(o){return n(o)},"number | BigNumber":function(o){return l(o,o,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(o,s){return l(o,o,s)},"number | BigNumber, number | BigNumber":function(o,s){return l(o,s,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(o,s,d){return l(o,s,d)},Array:function(o){return f(o)},"Array, string":function(o,s){return f(o,s)},Matrix:function(o){return f(o.valueOf(),o.storage())},"Matrix, string":function(o,s){return f(o.valueOf(),s)}});function f(c,o){switch(c.length){case 0:return o?n(o):[];case 1:return l(c[0],c[0],o);case 2:return l(c[0],c[1],o);default:throw new Error("Vector containing two values expected")}}function l(c,o,s){var d=Re(c)||Re(o)?i:null;if(Re(c)&&(c=c.toNumber()),Re(o)&&(o=o.toNumber()),!xe(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!xe(o)||o<1)throw new Error("Parameters in function identity must be positive integers");var v=d?new i(1):1,p=d?new d(0):0,h=[c,o];if(s){if(s==="sparse")return a.diagonal(h,v,0,p);if(s==="dense")return u.diagonal(h,v,0,p);throw new TypeError('Unknown matrix type "'.concat(s,'"'))}for(var D=Hr([],h,p),m=c<o?c:o,y=0;y<m;y++)D[y][y]=v;return D}});function wa(){throw new Error('No "bignumber" implementation available')}function yd(){throw new Error('No "fraction" implementation available')}function ya(){throw new Error('No "matrix" implementation available')}var $i="range",_d=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Fd=k($i,_d,e=>{var{typed:t,config:r,matrix:n,bignumber:i,smaller:u,smallerEq:a,larger:f,largerEq:l,add:c,isPositive:o}=e;return t($i,{string:d,"string, boolean":d,number:function(D){throw new TypeError("Too few arguments to function range(): ".concat(D))},boolean:function(D){throw new TypeError("Unexpected type of argument 1 to function range(): ".concat(D,", number|bigint|BigNumber|Fraction"))},"number, number":function(D,m){return s(v(D,m,1,!1))},"number, number, number":function(D,m,y){return s(v(D,m,y,!1))},"number, number, boolean":function(D,m,y){return s(v(D,m,1,y))},"number, number, number, boolean":function(D,m,y,w){return s(v(D,m,y,w))},"bigint, bigint|number":function(D,m){return s(v(D,m,1n,!1))},"number, bigint":function(D,m){return s(v(BigInt(D),m,1n,!1))},"bigint, bigint|number, bigint|number":function(D,m,y){return s(v(D,m,BigInt(y),!1))},"number, bigint, bigint|number":function(D,m,y){return s(v(BigInt(D),m,BigInt(y),!1))},"bigint, bigint|number, boolean":function(D,m,y){return s(v(D,m,1n,y))},"number, bigint, boolean":function(D,m,y){return s(v(BigInt(D),m,1n,y))},"bigint, bigint|number, bigint|number, boolean":function(D,m,y,w){return s(v(D,m,BigInt(y),w))},"number, bigint, bigint|number, boolean":function(D,m,y,w){return s(v(BigInt(D),m,BigInt(y),w))},"BigNumber, BigNumber":function(D,m){var y=D.constructor;return s(v(D,m,new y(1),!1))},"BigNumber, BigNumber, BigNumber":function(D,m,y){return s(v(D,m,y,!1))},"BigNumber, BigNumber, boolean":function(D,m,y){var w=D.constructor;return s(v(D,m,new w(1),y))},"BigNumber, BigNumber, BigNumber, boolean":function(D,m,y,w){return s(v(D,m,y,w))},"Fraction, Fraction":function(D,m){return s(v(D,m,1,!1))},"Fraction, Fraction, Fraction":function(D,m,y){return s(v(D,m,y,!1))},"Fraction, Fraction, boolean":function(D,m,y){return s(v(D,m,1,y))},"Fraction, Fraction, Fraction, boolean":function(D,m,y,w){return s(v(D,m,y,w))},"Unit, Unit, Unit":function(D,m,y){return s(v(D,m,y,!1))},"Unit, Unit, Unit, boolean":function(D,m,y,w){return s(v(D,m,y,w))}});function s(h){return r.matrix==="Matrix"?n?n(h):ya():h}function d(h,D){var m=p(h);if(!m)throw new SyntaxError('String "'+h+'" is no valid range');return r.number==="BigNumber"?(i===void 0&&wa(),s(v(i(m.start),i(m.end),i(m.step)))):s(v(m.start,m.end,m.step,D))}function v(h,D,m,y){for(var w=[],F=o(m)?y?a:u:y?l:f,_=h;F(_,D);)w.push(_),_=c(_,m);return w}function p(h){var D=h.split(":"),m=D.map(function(w){return Number(w)}),y=m.some(function(w){return isNaN(w)});if(y)return null;switch(m.length){case 2:return{start:m[0],end:m[1],step:1};case 3:return{start:m[0],end:m[2],step:m[1]};default:return null}}}),Ri="size",Ad=["typed","config","?matrix"],bd=k(Ri,Ad,e=>{var{typed:t,config:r,matrix:n}=e;return t(Ri,{Matrix:function(u){return u.create(u.size(),"number")},Array:Xe,string:function(u){return r.matrix==="Array"?[u.length]:n([u.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(u){return r.matrix==="Array"?[]:n?n([],"dense","number"):ya()}})}),qi="transpose",Ed=["typed","matrix"],Cd=k(qi,Ed,e=>{var{typed:t,matrix:r}=e;return t(qi,{Array:a=>n(r(a)).valueOf(),Matrix:n,any:Be});function n(a){var f=a.size(),l;switch(f.length){case 1:l=a.clone();break;case 2:{var c=f[0],o=f[1];if(o===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+ze(f)+")");switch(a.storage()){case"dense":l=i(a,c,o);break;case"sparse":l=u(a,c,o);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+ze(f)+")")}return l}function i(a,f,l){for(var c=a._data,o=[],s,d=0;d<l;d++){s=o[d]=[];for(var v=0;v<f;v++)s[v]=Be(c[v][d])}return a.createDenseMatrix({data:o,size:[l,f],datatype:a._datatype})}function u(a,f,l){for(var c=a._values,o=a._index,s=a._ptr,d=c?[]:void 0,v=[],p=[],h=[],D=0;D<f;D++)h[D]=0;var m,y,w;for(m=0,y=o.length;m<y;m++)h[o[m]]++;for(var F=0,_=0;_<f;_++)p.push(F),F+=h[_],h[_]=p[_];for(p.push(F),w=0;w<l;w++)for(var g=s[w],C=s[w+1],b=g;b<C;b++){var A=h[o[b]]++;v[A]=w,c&&(d[A]=Be(c[b]))}return a.createSparseMatrix({values:d,index:v,ptr:p,size:[l,f],datatype:a._datatype})}}),Li="zeros",Sd=["typed","config","matrix","BigNumber"],Bd=k(Li,Sd,e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t(Li,{"":function(){return r.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(c){var o=c[c.length-1];if(typeof o=="string"){var s=c.pop();return u(c,s)}else return r.matrix==="Array"?u(c):u(c,"default")},Array:u,Matrix:function(c){var o=c.storage();return u(c.valueOf(),o)},"Array | Matrix, string":function(c,o){return u(c.valueOf(),o)}});function u(l,c){var o=a(l),s=o?new i(0):0;if(f(l),c){var d=n(c);return l.length>0?d.resize(l,s):d}else{var v=[];return l.length>0?Hr(v,l,s):v}}function a(l){var c=!1;return l.forEach(function(o,s,d){Re(o)&&(c=!0,d[s]=o.toNumber())}),c}function f(l){l.forEach(function(c){if(typeof c!="number"||!xe(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}});function Ui(e,t,r){var n;return String(e).includes("Unexpected type")?(n=arguments.length>2?" (type: "+gt(r)+", value: "+JSON.stringify(r)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+n)):String(e).includes("complex numbers")?(n=arguments.length>2?" (type: "+gt(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+n)):e}var Md="numeric",xd=["number","?bignumber","?fraction"],Nd=k(Md,xd,e=>{var{number:t,bignumber:r,fraction:n}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:a=>t(a),BigNumber:r?a=>r(a):wa,bigint:a=>BigInt(a),Fraction:n?a=>n(a):yd};return function(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(c!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var o=gt(f);if(!(o in i))throw new TypeError("Cannot convert "+f+' of type "'+o+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in u))throw new TypeError("Cannot convert "+f+' to type "'+l+'"; valid output types are '+Object.keys(u).join(", "));return l===o?f:u[l](f)}}),Vi="divideScalar",Td=["typed","numeric"],zd=k(Vi,Td,e=>{var{typed:t,numeric:r}=e;return t(Vi,{"number, number":function(i,u){return i/u},"Complex, Complex":function(i,u){return i.div(u)},"BigNumber, BigNumber":function(i,u){return i.div(u)},"bigint, bigint":function(i,u){return i/u},"Fraction, Fraction":function(i,u){return i.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),Zi="pow",Id=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],Od=k(Zi,Id,e=>{var{typed:t,config:r,identity:n,multiply:i,matrix:u,inv:a,number:f,fraction:l,Complex:c}=e;return t(Zi,{"number, number":o,"Complex, Complex":function(p,h){return p.pow(h)},"BigNumber, BigNumber":function(p,h){return h.isInteger()||p>=0||r.predictable?p.pow(h):new c(p.toNumber(),0).pow(h.toNumber(),0)},"bigint, bigint":(v,p)=>v**p,"Fraction, Fraction":function(p,h){var D=p.pow(h);if(D!=null)return D;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return o(p.valueOf(),h.valueOf())},"Array, number":s,"Array, BigNumber":function(p,h){return s(p,h.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(p,h){return d(p,h.toNumber())},"Unit, number | BigNumber":function(p,h){return p.pow(h)}});function o(v,p){if(r.predictable&&!xe(p)&&v<0)try{var h=l(p),D=f(h);if((p===D||Math.abs((p-D)/p)<1e-14)&&h.d%2n===1n)return(h.n%2n===0n?1:-1)*Math.pow(-v,p)}catch{}return r.predictable&&(v<-1&&p===1/0||v>-1&&v<0&&p===-1/0)?NaN:xe(p)||v>=0||r.predictable?da(v,p):v*v<1&&p===1/0||v*v>1&&p===-1/0?0:new c(v,0).pow(p,0)}function s(v,p){if(!xe(p))throw new TypeError("For A^b, b must be an integer (value is "+p+")");var h=Xe(v);if(h.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+h.length+" dimensions)");if(h[0]!==h[1])throw new Error("For A^b, A must be square (size is "+h[0]+"x"+h[1]+")");if(p<0)try{return s(a(v),-p)}catch(y){throw y.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+p+")"):y}for(var D=n(h[0]).valueOf(),m=v;p>=1;)(p&1)===1&&(D=i(m,D)),p>>=1,m=i(m,m);return D}function d(v,p){return u(s(v.valueOf(),p))}}),Hi="dotPow",Pd=["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],$d=k(Hi,Pd,e=>{var{typed:t,equalScalar:r,matrix:n,pow:i,DenseMatrix:u,concat:a,SparseMatrix:f}=e,l=er({typed:t}),c=Dr({typed:t,SparseMatrix:f}),o=pa({typed:t,equalScalar:r}),s=jt({typed:t,DenseMatrix:u}),d=Ut({typed:t,matrix:n,concat:a}),v={};for(var p in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,p)&&!p.includes("Matrix")&&!p.includes("Array")&&(v[p]=i.signatures[p]);var h=t(v);return t(Hi,d({elop:h,SS:c,DS:l,Ss:o,sS:s}))});function Yn(e){var{DenseMatrix:t}=e;return function(n,i,u){var a=n.size();if(a.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+ze(a)+")");var f=a[0],l=a[1];if(f!==l)throw new RangeError("Matrix must be square (size: "+ze(a)+")");var c=[];if(Ie(i)){var o=i.size(),s=i._data;if(o.length===1){if(o[0]!==f)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var d=0;d<f;d++)c[d]=[s[d]];return new t({data:c,size:[f,1],datatype:i._datatype})}if(o.length===2){if(o[0]!==f||o[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Tu(i)){if(u){c=[];for(var v=0;v<f;v++)c[v]=[s[v][0]];return new t({data:c,size:[f,1],datatype:i._datatype})}return i}if(zu(i)){for(var p=0;p<f;p++)c[p]=[0];for(var h=i._values,D=i._index,m=i._ptr,y=m[1],w=m[0];w<y;w++){var F=D[w];c[F][0]=h[w]}return new t({data:c,size:[f,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if($e(i)){var _=Xe(i);if(_.length===1){if(_[0]!==f)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var g=0;g<f;g++)c[g]=[i[g]];return new t({data:c,size:[f,1]})}if(_.length===2){if(_[0]!==f||_[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var C=0;C<f;C++)c[C]=[i[C][0]];return new t({data:c,size:[f,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Xi="lsolve",Rd=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],qd=k(Xi,Rd,e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:u,equalScalar:a,DenseMatrix:f}=e,l=Yn({DenseMatrix:f});return t(Xi,{"SparseMatrix, Array | Matrix":function(d,v){return o(d,v)},"DenseMatrix, Array | Matrix":function(d,v){return c(d,v)},"Array, Array | Matrix":function(d,v){var p=r(d),h=c(p,v);return h.valueOf()}});function c(s,d){d=l(s,d,!0);for(var v=d._data,p=s._size[0],h=s._size[1],D=[],m=s._data,y=0;y<h;y++){var w=v[y][0]||0,F=void 0;if(a(w,0))F=0;else{var _=m[y][y];if(a(_,0))throw new Error("Linear system cannot be solved since matrix is singular");F=n(w,_);for(var g=y+1;g<p;g++)v[g]=[u(v[g][0]||0,i(F,m[g][y]))]}D[y]=[F]}return new f({data:D,size:[p,1]})}function o(s,d){d=l(s,d,!0);for(var v=d._data,p=s._size[0],h=s._size[1],D=s._values,m=s._index,y=s._ptr,w=[],F=0;F<h;F++){var _=v[F][0]||0;if(a(_,0))w[F]=[0];else{for(var g=0,C=[],b=[],A=y[F],S=y[F+1],B=A;B<S;B++){var I=m[B];I===F?g=D[B]:I>F&&(C.push(D[B]),b.push(I))}if(a(g,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var q=n(_,g),O=0,P=b.length;O<P;O++){var x=b[O];v[x]=[u(v[x][0]||0,i(q,C[O]))]}w[F]=[q]}}return new f({data:w,size:[p,1]})}}),Yi="usolve",Ld=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Ud=k(Yi,Ld,e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:u,equalScalar:a,DenseMatrix:f}=e,l=Yn({DenseMatrix:f});return t(Yi,{"SparseMatrix, Array | Matrix":function(d,v){return o(d,v)},"DenseMatrix, Array | Matrix":function(d,v){return c(d,v)},"Array, Array | Matrix":function(d,v){var p=r(d),h=c(p,v);return h.valueOf()}});function c(s,d){d=l(s,d,!0);for(var v=d._data,p=s._size[0],h=s._size[1],D=[],m=s._data,y=h-1;y>=0;y--){var w=v[y][0]||0,F=void 0;if(a(w,0))F=0;else{var _=m[y][y];if(a(_,0))throw new Error("Linear system cannot be solved since matrix is singular");F=n(w,_);for(var g=y-1;g>=0;g--)v[g]=[u(v[g][0]||0,i(F,m[g][y]))]}D[y]=[F]}return new f({data:D,size:[p,1]})}function o(s,d){d=l(s,d,!0);for(var v=d._data,p=s._size[0],h=s._size[1],D=s._values,m=s._index,y=s._ptr,w=[],F=h-1;F>=0;F--){var _=v[F][0]||0;if(a(_,0))w[F]=[0];else{for(var g=0,C=[],b=[],A=y[F],S=y[F+1],B=S-1;B>=A;B--){var I=m[B];I===F?g=D[B]:I<F&&(C.push(D[B]),b.push(I))}if(a(g,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var q=n(_,g),O=0,P=b.length;O<P;O++){var x=b[O];v[x]=[u(v[x][0],i(q,C[O]))]}w[F]=[q]}}return new f({data:w,size:[p,1]})}}),Jr="smaller",Vd=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],Zd=k(Jr,Vd,e=>{var{typed:t,config:r,bignumber:n,matrix:i,DenseMatrix:u,concat:a,SparseMatrix:f}=e,l=er({typed:t}),c=Dr({typed:t,SparseMatrix:f}),o=jt({typed:t,DenseMatrix:u}),s=Ut({typed:t,matrix:i,concat:a}),d=pr({typed:t});function v(p,h){return p.lt(h)&&!kt(p,h,r.relTol,r.absTol)}return t(Jr,Hd({typed:t,config:r}),{"boolean, boolean":(p,h)=>p<h,"BigNumber, BigNumber":v,"bigint, bigint":(p,h)=>p<h,"Fraction, Fraction":(p,h)=>p.compare(h)===-1,"Fraction, BigNumber":function(h,D){return v(n(h),D)},"BigNumber, Fraction":function(h,D){return v(h,n(D))},"Complex, Complex":function(h,D){throw new TypeError("No ordering relation is defined for complex numbers")}},d,s({SS:c,DS:l,Ss:o}))}),Hd=k(Jr,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Jr,{"number, number":function(i,u){return i<u&&!St(i,u,r.relTol,r.absTol)}})}),Wr="smallerEq",Xd=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],Yd=k(Wr,Xd,e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i,concat:u,SparseMatrix:a}=e,f=er({typed:t}),l=Dr({typed:t,SparseMatrix:a}),c=jt({typed:t,DenseMatrix:i}),o=Ut({typed:t,matrix:n,concat:u}),s=pr({typed:t});return t(Wr,Gd({typed:t,config:r}),{"boolean, boolean":(d,v)=>d<=v,"BigNumber, BigNumber":function(v,p){return v.lte(p)||kt(v,p,r.relTol,r.absTol)},"bigint, bigint":(d,v)=>d<=v,"Fraction, Fraction":(d,v)=>d.compare(v)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},s,o({SS:l,DS:f,Ss:c}))}),Gd=k(Wr,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Wr,{"number, number":function(i,u){return i<=u||St(i,u,r.relTol,r.absTol)}})}),Kr="larger",Jd=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],Wd=k(Kr,Jd,e=>{var{typed:t,config:r,bignumber:n,matrix:i,DenseMatrix:u,concat:a,SparseMatrix:f}=e,l=er({typed:t}),c=Dr({typed:t,SparseMatrix:f}),o=jt({typed:t,DenseMatrix:u}),s=Ut({typed:t,matrix:i,concat:a}),d=pr({typed:t});function v(p,h){return p.gt(h)&&!kt(p,h,r.relTol,r.absTol)}return t(Kr,Kd({typed:t,config:r}),{"boolean, boolean":(p,h)=>p>h,"BigNumber, BigNumber":v,"bigint, bigint":(p,h)=>p>h,"Fraction, Fraction":(p,h)=>p.compare(h)===1,"Fraction, BigNumber":function(h,D){return v(n(h),D)},"BigNumber, Fraction":function(h,D){return v(h,n(D))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,s({SS:c,DS:l,Ss:o}))}),Kd=k(Kr,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Kr,{"number, number":function(i,u){return i>u&&!St(i,u,r.relTol,r.absTol)}})}),Qr="largerEq",Qd=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],kd=k(Qr,Qd,e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i,concat:u,SparseMatrix:a}=e,f=er({typed:t}),l=Dr({typed:t,SparseMatrix:a}),c=jt({typed:t,DenseMatrix:i}),o=Ut({typed:t,matrix:n,concat:u}),s=pr({typed:t});return t(Qr,jd({typed:t,config:r}),{"boolean, boolean":(d,v)=>d>=v,"BigNumber, BigNumber":function(v,p){return v.gte(p)||kt(v,p,r.relTol,r.absTol)},"bigint, bigint":function(v,p){return v>=p},"Fraction, Fraction":(d,v)=>d.compare(v)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},s,o({SS:l,DS:f,Ss:c}))}),jd=k(Qr,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Qr,{"number, number":function(i,u){return i>=u||St(i,u,r.relTol,r.absTol)}})}),ev="FibonacciHeap",tv=["smaller","larger"],rv=k(ev,tv,e=>{var{smaller:t,larger:r}=e,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(o,s){var d={key:o,value:s,degree:0};if(this._minimum){var v=this._minimum;d.left=v,d.right=v.right,v.right=d,d.right.left=d,t(o,v.key)&&(this._minimum=d)}else d.left=d,d.right=d,this._minimum=d;return this._size++,d},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var o=this._minimum;if(o===null)return o;for(var s=this._minimum,d=o.degree,v=o.child;d>0;){var p=v.right;v.left.right=v.right,v.right.left=v.left,v.left=s,v.right=s.right,s.right=v,v.right.left=v,v.parent=null,v=p,d--}return o.left.right=o.right,o.right.left=o.left,o===o.right?s=null:(s=o.right,s=c(s,this._size)),this._size--,this._minimum=s,o},i.prototype.remove=function(o){this._minimum=u(this._minimum,o,-1),this.extractMinimum()};function u(o,s,d){s.key=d;var v=s.parent;return v&&t(s.key,v.key)&&(a(o,s,v),f(o,v)),t(s.key,o.key)&&(o=s),o}function a(o,s,d){s.left.right=s.right,s.right.left=s.left,d.degree--,d.child===s&&(d.child=s.right),d.degree===0&&(d.child=null),s.left=o,s.right=o.right,o.right=s,s.right.left=s,s.parent=null,s.mark=!1}function f(o,s){var d=s.parent;d&&(s.mark?(a(o,s,d),f(d)):s.mark=!0)}var l=function(s,d){s.left.right=s.right,s.right.left=s.left,s.parent=d,d.child?(s.left=d.child,s.right=d.child.right,d.child.right=s,s.right.left=s):(d.child=s,s.right=s,s.left=s),d.degree++,s.mark=!1};function c(o,s){var d=Math.floor(Math.log(s)*n)+1,v=new Array(d),p=0,h=o;if(h)for(p++,h=h.right;h!==o;)p++,h=h.right;for(var D;p>0;){for(var m=h.degree,y=h.right;D=v[m],!!D;){if(r(h.key,D.key)){var w=D;D=h,h=w}l(D,h),v[m]=null,m++}v[m]=h,h=y,p--}o=null;for(var F=0;F<d;F++)D=v[F],D&&(o?(D.left.right=D.right,D.right.left=D.left,D.left=o,D.right=o.right,o.right=D,D.right.left=D,t(D.key,o.key)&&(o=D)):o=D);return o}return i},{isClass:!0}),nv="Spa",iv=["addScalar","equalScalar","FibonacciHeap"],uv=k(nv,iv,e=>{var{addScalar:t,equalScalar:r,FibonacciHeap:n}=e;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(u,a){if(this._values[u])this._values[u].value=a;else{var f=this._heap.insert(u,a);this._values[u]=f}},i.prototype.get=function(u){var a=this._values[u];return a?a.value:0},i.prototype.accumulate=function(u,a){var f=this._values[u];f?f.value=t(f.value,a):(f=this._heap.insert(u,a),this._values[u]=f)},i.prototype.forEach=function(u,a,f){var l=this._heap,c=this._values,o=[],s=l.extractMinimum();for(s&&o.push(s);s&&s.key<=a;)s.key>=u&&(r(s.value,0)||f(s.key,s.value,this)),s=l.extractMinimum(),s&&o.push(s);for(var d=0;d<o.length;d++){var v=o[d];s=l.insert(v.key,v.value),c[s.key]=s}},i.prototype.swap=function(u,a){var f=this._values[u],l=this._values[a];if(!f&&l)f=this._heap.insert(u,l.value),this._heap.remove(l),this._values[u]=f,this._values[a]=void 0;else if(f&&!l)l=this._heap.insert(a,f.value),this._heap.remove(f),this._values[a]=l,this._values[u]=void 0;else if(f&&l){var c=f.value;f.value=l.value,l.value=c}},i},{isClass:!0}),Gi="add",av=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],ov=k(Gi,av,e=>{var{typed:t,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:u,SparseMatrix:a,concat:f}=e,l=ga({typed:t}),c=rd({typed:t,equalScalar:i}),o=ma({typed:t,DenseMatrix:u}),s=Ut({typed:t,matrix:r,concat:f});return t(Gi,{"any, any":n,"any, any, ...any":t.referToSelf(d=>(v,p,h)=>{for(var D=d(v,p),m=0;m<h.length;m++)D=d(D,h[m]);return D})},s({elop:n,DS:l,SS:c,Ss:o}))}),Ji="dot",sv=["typed","addScalar","multiplyScalar","conj","size"],fv=k(Ji,sv,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:i,size:u}=e;return t(Ji,{"Array | DenseMatrix, Array | DenseMatrix":f,"SparseMatrix, SparseMatrix":l});function a(o,s){var d=c(o),v=c(s),p,h;if(d.length===1)p=d[0];else if(d.length===2&&d[1]===1)p=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(v.length===1)h=v[0];else if(v.length===2&&v[1]===1)h=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(p!==h)throw new RangeError("Vectors must have equal length ("+p+" != "+h+")");if(p===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return p}function f(o,s){var d=a(o,s),v=Ie(o)?o._data:o,p=Ie(o)?o._datatype||o.getDataType():void 0,h=Ie(s)?s._data:s,D=Ie(s)?s._datatype||s.getDataType():void 0,m=c(o).length===2,y=c(s).length===2,w=r,F=n;if(p&&D&&p===D&&typeof p=="string"&&p!=="mixed"){var _=p;w=t.find(r,[_,_]),F=t.find(n,[_,_])}if(!m&&!y){for(var g=F(i(v[0]),h[0]),C=1;C<d;C++)g=w(g,F(i(v[C]),h[C]));return g}if(!m&&y){for(var b=F(i(v[0]),h[0][0]),A=1;A<d;A++)b=w(b,F(i(v[A]),h[A][0]));return b}if(m&&!y){for(var S=F(i(v[0][0]),h[0]),B=1;B<d;B++)S=w(S,F(i(v[B][0]),h[B]));return S}if(m&&y){for(var I=F(i(v[0][0]),h[0][0]),q=1;q<d;q++)I=w(I,F(i(v[q][0]),h[q][0]));return I}}function l(o,s){a(o,s);for(var d=o._index,v=o._values,p=s._index,h=s._values,D=0,m=r,y=n,w=0,F=0;w<d.length&&F<p.length;){var _=d[w],g=p[F];if(_<g){w++;continue}if(_>g){F++;continue}_===g&&(D=m(D,y(v[w],h[F])),w++,F++)}return D}function c(o){return Ie(o)?o.size():u(o)}}),Wi="lup",cv=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],lv=k(Wi,cv,e=>{var{typed:t,matrix:r,abs:n,addScalar:i,divideScalar:u,multiplyScalar:a,subtractScalar:f,larger:l,equalScalar:c,unaryMinus:o,DenseMatrix:s,SparseMatrix:d,Spa:v}=e;return t(Wi,{DenseMatrix:function(m){return p(m)},SparseMatrix:function(m){return h(m)},Array:function(m){var y=r(m),w=p(y);return{L:w.L.valueOf(),U:w.U.valueOf(),p:w.p}}});function p(D){var m=D._size[0],y=D._size[1],w=Math.min(m,y),F=Be(D._data),_=[],g=[m,w],C=[],b=[w,y],A,S,B,I=[];for(A=0;A<m;A++)I[A]=A;for(S=0;S<y;S++){if(S>0)for(A=0;A<m;A++){var q=Math.min(A,S),O=0;for(B=0;B<q;B++)O=i(O,a(F[A][B],F[B][S]));F[A][S]=f(F[A][S],O)}var P=S,x=0,G=0;for(A=S;A<m;A++){var Z=F[A][S],z=n(Z);l(z,x)&&(P=A,x=z,G=Z)}if(S!==P&&(I[S]=[I[P],I[P]=I[S]][0],s._swapRows(S,P,F)),S<m)for(A=S+1;A<m;A++){var H=F[A][S];c(H,0)||(F[A][S]=u(F[A][S],G))}}for(S=0;S<y;S++)for(A=0;A<m;A++){if(S===0&&(A<y&&(C[A]=[]),_[A]=[]),A<S){A<y&&(C[A][S]=F[A][S]),S<m&&(_[A][S]=0);continue}if(A===S){A<y&&(C[A][S]=F[A][S]),S<m&&(_[A][S]=1);continue}A<y&&(C[A][S]=0),S<m&&(_[A][S]=F[A][S])}var j=new s({data:_,size:g}),ve=new s({data:C,size:b}),oe=[];for(A=0,w=I.length;A<w;A++)oe[I[A]]=A;return{L:j,U:ve,p:oe,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function h(D){var m=D._size[0],y=D._size[1],w=Math.min(m,y),F=D._values,_=D._index,g=D._ptr,C=[],b=[],A=[],S=[m,w],B=[],I=[],q=[],O=[w,y],P,x,G,Z=[],z=[];for(P=0;P<m;P++)Z[P]=P,z[P]=P;var H=function(oe,re){var _e=z[oe],De=z[re];Z[_e]=re,Z[De]=oe,z[oe]=De,z[re]=_e},j=function(){var oe=new v;x<m&&(A.push(C.length),C.push(1),b.push(x)),q.push(B.length);var re=g[x],_e=g[x+1];for(G=re;G<_e;G++)P=_[G],oe.set(Z[P],F[G]);x>0&&oe.forEach(0,x-1,function(pe,ae){d._forEachRow(pe,C,b,A,function(Ne,N){Ne>pe&&oe.accumulate(Ne,o(a(N,ae)))})});var De=x,ce=oe.get(x),we=n(ce);oe.forEach(x+1,m-1,function(pe,ae){var Ne=n(ae);l(Ne,we)&&(De=pe,we=Ne,ce=ae)}),x!==De&&(d._swapRows(x,De,S[1],C,b,A),d._swapRows(x,De,O[1],B,I,q),oe.swap(x,De),H(x,De)),oe.forEach(0,m-1,function(pe,ae){pe<=x?(B.push(ae),I.push(pe)):(ae=u(ae,ce),c(ae,0)||(C.push(ae),b.push(pe)))})};for(x=0;x<y;x++)j();return q.push(B.length),A.push(C.length),{L:new d({values:C,index:b,ptr:A,size:S}),U:new d({values:B,index:I,ptr:q,size:O}),p:Z,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});function hv(e,t,r,n){e._values;for(var i=e._index,u=e._ptr,a=e._size,f=e._datatype,l=a[0],c=a[1],o=null,s=[],d=[],v=0,p=0;p<c;p++){d[p]=v;for(var h=r?r[p]:p,D=u[h],m=u[h+1],y=D;y<m;y++){var w=i[y];s[v]=w,v++}}return d[c]=v,e.createSparseMatrix({values:o,index:s,ptr:d,size:[l,c],datatype:f})}function _a(e,t,r,n,i,u,a){var f=0;for(r[a]=e;f>=0;){var l=r[a+f],c=r[n+l];c===-1?(f--,u[t++]=l):(r[n+l]=r[i+c],++f,r[a+f]=c)}return t}function dv(e,t){if(!e)return null;var r=0,n,i=[],u=[],a=0,f=t,l=2*t;for(n=0;n<t;n++)u[a+n]=-1;for(n=t-1;n>=0;n--)e[n]!==-1&&(u[f+n]=u[a+e[n]],u[a+e[n]]=n);for(n=0;n<t;n++)e[n]===-1&&(r=_a(n,r,u,a,f,i,l));return i}function vv(e,t){if(!e)return null;var r=e._index,n=e._ptr,i=e._size,u=i[0],a=i[1],f=[],l=[],c=0,o=a,s,d;for(s=0;s<u;s++)l[o+s]=-1;for(var v=0;v<a;v++){f[v]=-1,l[c+v]=-1;for(var p=n[v],h=n[v+1],D=p;D<h;D++){var m=r[D];for(s=l[o+m];s!==-1&&s<v;s=d)d=l[c+s],l[c+s]=v,d===-1&&(f[s]=v);l[o+m]=v}}return f}function pv(e,t,r){for(var n=e._values,i=e._index,u=e._ptr,a=e._size,f=a[1],l=0,c=0;c<f;c++){var o=u[c];for(u[c]=l;o<u[c+1];o++)t(i[o],c,n?n[o]:1,r)&&(i[l]=i[o],n&&(n[l]=n[o]),l++)}return u[f]=l,i.splice(l,i.length-l),n&&n.splice(l,n.length-l),l}function xt(e){return-e-2}var Dv="csAmd",gv=["add","multiply","transpose"],mv=k(Dv,gv,e=>{var{add:t,multiply:r,transpose:n}=e;return function(o,s){if(!s||o<=0||o>3)return null;var d=s._size,v=d[0],p=d[1],h=0,D=Math.max(16,10*Math.sqrt(p));D=Math.min(p-2,D);var m=i(o,s,v,p,D);pv(m,l,null);for(var y=m._index,w=m._ptr,F=w[p],_=[],g=[],C=0,b=p+1,A=2*(p+1),S=3*(p+1),B=4*(p+1),I=5*(p+1),q=6*(p+1),O=7*(p+1),P=_,x=u(p,w,g,C,S,P,A,O,b,q,B,I),G=a(p,w,g,I,B,q,D,b,S,P,A),Z=0,z,H,j,ve,oe,re,_e,De,ce,we,pe,ae,Ne,N,J,ee;G<p;){for(j=-1;Z<p&&(j=g[S+Z])===-1;Z++);g[A+j]!==-1&&(P[g[A+j]]=-1),g[S+Z]=g[A+j];var te=g[B+j],le=g[b+j];G+=le;var he=0;g[b+j]=-le;var ue=w[j],Ae=te===0?ue:F,qe=Ae;for(ve=1;ve<=te+1;ve++){for(ve>te?(re=j,_e=ue,De=g[C+j]-te):(re=y[ue++],_e=w[re],De=g[C+re]),oe=1;oe<=De;oe++)z=y[_e++],!((ce=g[b+z])<=0)&&(he+=ce,g[b+z]=-ce,y[qe++]=z,g[A+z]!==-1&&(P[g[A+z]]=P[z]),P[z]!==-1?g[A+P[z]]=g[A+z]:g[S+g[I+z]]=g[A+z]);re!==j&&(w[re]=xt(j),g[q+re]=0)}for(te!==0&&(F=qe),g[I+j]=he,w[j]=Ae,g[C+j]=qe-Ae,g[B+j]=-2,x=f(x,h,g,q,p),we=Ae;we<qe;we++)if(z=y[we],!((pe=g[B+z])<=0)){ce=-g[b+z];var fe=x-ce;for(ue=w[z],ae=w[z]+pe-1;ue<=ae;ue++)re=y[ue],g[q+re]>=x?g[q+re]-=ce:g[q+re]!==0&&(g[q+re]=g[I+re]+fe)}for(we=Ae;we<qe;we++){for(z=y[we],ae=w[z],Ne=ae+g[B+z]-1,N=ae,J=0,ee=0,ue=ae;ue<=Ne;ue++)if(re=y[ue],g[q+re]!==0){var Oe=g[q+re]-x;Oe>0?(ee+=Oe,y[N++]=re,J+=re):(w[re]=xt(j),g[q+re]=0)}g[B+z]=N-ae+1;var E=N,M=ae+g[C+z];for(ue=Ne+1;ue<M;ue++){H=y[ue];var T=g[b+H];T<=0||(ee+=T,y[N++]=H,J+=H)}ee===0?(w[z]=xt(j),ce=-g[b+z],he-=ce,le+=ce,G+=ce,g[b+z]=0,g[B+z]=-1):(g[I+z]=Math.min(g[I+z],ee),y[N]=y[E],y[E]=y[ae],y[ae]=j,g[C+z]=N-ae+1,J=(J<0?-J:J)%p,g[A+z]=g[O+J],g[O+J]=z,P[z]=J)}for(g[I+j]=he,h=Math.max(h,he),x=f(x+h,h,g,q,p),we=Ae;we<qe;we++)if(z=y[we],!(g[b+z]>=0))for(J=P[z],z=g[O+J],g[O+J]=-1;z!==-1&&g[A+z]!==-1;z=g[A+z],x++){for(De=g[C+z],pe=g[B+z],ue=w[z]+1;ue<=w[z]+De-1;ue++)g[q+y[ue]]=x;var R=z;for(H=g[A+z];H!==-1;){var V=g[C+H]===De&&g[B+H]===pe;for(ue=w[H]+1;V&&ue<=w[H]+De-1;ue++)g[q+y[ue]]!==x&&(V=0);V?(w[H]=xt(z),g[b+z]+=g[b+H],g[b+H]=0,g[B+H]=-1,H=g[A+H],g[A+R]=H):(R=H,H=g[A+H])}}for(ue=Ae,we=Ae;we<qe;we++)z=y[we],!((ce=-g[b+z])<=0)&&(g[b+z]=ce,ee=g[I+z]+he-ce,ee=Math.min(ee,p-G-ce),g[S+ee]!==-1&&(P[g[S+ee]]=z),g[A+z]=g[S+ee],P[z]=-1,g[S+ee]=z,Z=Math.min(Z,ee),g[I+z]=ee,y[ue++]=z);g[b+j]=le,(g[C+j]=ue-Ae)===0&&(w[j]=-1,g[q+j]=0),te!==0&&(F=ue)}for(z=0;z<p;z++)w[z]=xt(w[z]);for(H=0;H<=p;H++)g[S+H]=-1;for(H=p;H>=0;H--)g[b+H]>0||(g[A+H]=g[S+w[H]],g[S+w[H]]=H);for(re=p;re>=0;re--)g[b+re]<=0||w[re]!==-1&&(g[A+re]=g[S+w[re]],g[S+w[re]]=re);for(j=0,z=0;z<=p;z++)w[z]===-1&&(j=_a(z,j,g,S,A,_,q));return _.splice(_.length-1,1),_};function i(c,o,s,d,v){var p=n(o);if(c===1&&d===s)return t(o,p);if(c===2){for(var h=p._index,D=p._ptr,m=0,y=0;y<s;y++){var w=D[y];if(D[y]=m,!(D[y+1]-w>v))for(var F=D[y+1];w<F;w++)h[m++]=h[w]}return D[s]=m,o=n(p),r(p,o)}return r(p,o)}function u(c,o,s,d,v,p,h,D,m,y,w,F){for(var _=0;_<c;_++)s[d+_]=o[_+1]-o[_];s[d+c]=0;for(var g=0;g<=c;g++)s[v+g]=-1,p[g]=-1,s[h+g]=-1,s[D+g]=-1,s[m+g]=1,s[y+g]=1,s[w+g]=0,s[F+g]=s[d+g];var C=f(0,0,s,y,c);return s[w+c]=-2,o[c]=-1,s[y+c]=0,C}function a(c,o,s,d,v,p,h,D,m,y,w){for(var F=0,_=0;_<c;_++){var g=s[d+_];if(g===0)s[v+_]=-2,F++,o[_]=-1,s[p+_]=0;else if(g>h)s[D+_]=0,s[v+_]=-1,F++,o[_]=xt(c),s[D+c]++;else{var C=s[m+g];C!==-1&&(y[C]=_),s[w+_]=s[m+g],s[m+g]=_}}return F}function f(c,o,s,d,v){if(c<2||c+o<0){for(var p=0;p<v;p++)s[d+p]!==0&&(s[d+p]=1);c=2}return c}function l(c,o){return c!==o}});function wv(e,t,r,n,i,u,a){var f,l,c=0,o;if(e<=t||r[n+t]<=r[i+e])return-1;r[i+e]=r[n+t];var s=r[u+e];if(r[u+e]=t,s===-1)c=1,o=e;else{for(c=2,o=s;o!==r[a+o];o=r[a+o]);for(f=s;f!==o;f=l)l=r[a+f],r[a+f]=o}return{jleaf:c,q:o}}var yv="csCounts",_v=["transpose"],Fv=k(yv,_v,e=>{var{transpose:t}=e;return function(r,n,i,u){if(!r||!n||!i)return null;var a=r._size,f=a[0],l=a[1],c,o,s,d,v,p,h,D=4*l+(u?l+f+1:0),m=[],y=0,w=l,F=2*l,_=3*l,g=4*l,C=5*l+1;for(s=0;s<D;s++)m[s]=-1;var b=[],A=t(r),S=A._index,B=A._ptr;for(s=0;s<l;s++)for(o=i[s],b[o]=m[_+o]===-1?1:0;o!==-1&&m[_+o]===-1;o=n[o])m[_+o]=s;if(u){for(s=0;s<l;s++)m[i[s]]=s;for(c=0;c<f;c++){for(s=l,p=B[c],h=B[c+1],v=p;v<h;v++)s=Math.min(s,m[S[v]]);m[C+c]=m[g+s],m[g+s]=c}}for(c=0;c<l;c++)m[y+c]=c;for(s=0;s<l;s++){for(o=i[s],n[o]!==-1&&b[n[o]]--,d=u?m[g+s]:o;d!==-1;d=u?m[C+d]:-1)for(v=B[d];v<B[d+1];v++){c=S[v];var I=wv(c,o,m,_,w,F,y);I.jleaf>=1&&b[o]++,I.jleaf===2&&b[I.q]--}n[o]!==-1&&(m[y+o]=n[o])}for(o=0;o<l;o++)n[o]!==-1&&(b[n[o]]+=b[o]);return b}}),Av="csSqr",bv=["add","multiply","transpose"],Ev=k(Av,bv,e=>{var{add:t,multiply:r,transpose:n}=e,i=mv({add:t,multiply:r,transpose:n}),u=Fv({transpose:n});return function(l,c,o){var s=c._ptr,d=c._size,v=d[1],p,h={};if(h.q=i(l,c),l&&!h.q)return null;if(o){var D=l?hv(c,null,h.q):c;h.parent=vv(D);var m=dv(h.parent,v);if(h.cp=u(D,h.parent,m,1),D&&h.parent&&h.cp&&a(D,h))for(h.unz=0,p=0;p<v;p++)h.unz+=h.cp[p]}else h.unz=4*s[v]+v,h.lnz=h.unz;return h};function a(f,l){var c=f._ptr,o=f._index,s=f._size,d=s[0],v=s[1];l.pinv=[],l.leftmost=[];var p=l.parent,h=l.pinv,D=l.leftmost,m=[],y=0,w=d,F=d+v,_=d+2*v,g,C,b,A,S;for(C=0;C<v;C++)m[w+C]=-1,m[F+C]=-1,m[_+C]=0;for(g=0;g<d;g++)D[g]=-1;for(C=v-1;C>=0;C--)for(A=c[C],S=c[C+1],b=A;b<S;b++)D[o[b]]=C;for(g=d-1;g>=0;g--)h[g]=-1,C=D[g],C!==-1&&(m[_+C]++===0&&(m[F+C]=g),m[y+g]=m[w+C],m[w+C]=g);for(l.lnz=0,l.m2=d,C=0;C<v;C++)if(g=m[w+C],l.lnz++,g<0&&(g=l.m2++),h[g]=C,!(--_[C]<=0)){l.lnz+=m[_+C];var B=p[C];B!==-1&&(m[_+B]===0&&(m[F+B]=m[F+C]),m[y+m[F+C]]=m[w+B],m[w+B]=m[y+g],m[_+B]+=m[_+C])}for(g=0;g<d;g++)h[g]<0&&(h[g]=C++);return!0}});function zn(e,t){return e[t]<0}function Fa(e,t){e[t]=xt(e[t])}function Ki(e){return e<0?xt(e):e}function Cv(e,t,r,n,i){var u=t._index,a=t._ptr,f=t._size,l=f[1],c,o,s,d=0;for(n[0]=e;d>=0;){e=n[d];var v=i?i[e]:e;zn(a,e)||(Fa(a,e),n[l+d]=v<0?0:Ki(a[v]));var p=1;for(o=n[l+d],s=v<0?0:Ki(a[v+1]);o<s;o++)if(c=u[o],!zn(a,c)){n[l+d]=o,n[++d]=c,p=0;break}p&&(d--,n[--r]=e)}return r}function Sv(e,t,r,n,i){var u=e._ptr,a=e._size,f=t._index,l=t._ptr,c=a[1],o,s,d,v=c;for(s=l[r],d=l[r+1],o=s;o<d;o++){var p=f[o];zn(u,p)||(v=Cv(p,e,v,n,i))}for(o=v;o<c;o++)Fa(u,n[o]);return v}var Bv="csSpsolve",Mv=["divideScalar","multiply","subtract"],xv=k(Bv,Mv,e=>{var{divideScalar:t,multiply:r,subtract:n}=e;return function(u,a,f,l,c,o,s){var d=u._values,v=u._index,p=u._ptr,h=u._size,D=h[1],m=a._values,y=a._index,w=a._ptr,F,_,g,C,b=Sv(u,a,f,l,o);for(F=b;F<D;F++)c[l[F]]=0;for(_=w[f],g=w[f+1],F=_;F<g;F++)c[y[F]]=m[F];for(var A=b;A<D;A++){var S=l[A],B=o?o[S]:S;if(!(B<0))for(_=p[B],g=p[B+1],c[S]=t(c[S],d[s?_:g-1]),F=s?_+1:_,C=s?g:g-1;F<C;F++){var I=v[F];c[I]=n(c[I],r(d[F],c[S]))}}return b}}),Nv="csLu",Tv=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],zv=k(Nv,Tv,e=>{var{abs:t,divideScalar:r,multiply:n,subtract:i,larger:u,largerEq:a,SparseMatrix:f}=e,l=xv({divideScalar:r,multiply:n,subtract:i});return function(o,s,d){if(!o)return null;var v=o._size,p=v[1],h,D=100,m=100;s&&(h=s.q,D=s.lnz||D,m=s.unz||m);var y=[],w=[],F=[],_=new f({values:y,index:w,ptr:F,size:[p,p]}),g=[],C=[],b=[],A=new f({values:g,index:C,ptr:b,size:[p,p]}),S=[],B,I,q=[],O=[];for(B=0;B<p;B++)q[B]=0,S[B]=-1,F[B+1]=0;D=0,m=0;for(var P=0;P<p;P++){F[P]=D,b[P]=m;var x=h?h[P]:P,G=l(_,o,x,O,q,S,1),Z=-1,z=-1;for(I=G;I<p;I++)if(B=O[I],S[B]<0){var H=t(q[B]);u(H,z)&&(z=H,Z=B)}else C[m]=S[B],g[m++]=q[B];if(Z===-1||z<=0)return null;S[x]<0&&a(t(q[x]),n(z,d))&&(Z=x);var j=q[Z];for(C[m]=P,g[m++]=j,S[Z]=P,w[D]=Z,y[D++]=1,I=G;I<p;I++)B=O[I],S[B]<0&&(w[D]=B,y[D++]=r(q[B],j)),q[B]=0}for(F[p]=D,b[p]=m,I=0;I<D;I++)w[I]=S[w[I]];return y.splice(D,y.length-D),w.splice(D,w.length-D),g.splice(m,g.length-m),C.splice(m,C.length-m),{L:_,U:A,pinv:S}}}),Qi="slu",Iv=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Ov=k(Qi,Iv,e=>{var{typed:t,abs:r,add:n,multiply:i,transpose:u,divideScalar:a,subtract:f,larger:l,largerEq:c,SparseMatrix:o}=e,s=Ev({add:n,multiply:i,transpose:u}),d=zv({abs:r,divideScalar:a,multiply:i,subtract:f,larger:l,largerEq:c,SparseMatrix:o});return t(Qi,{"SparseMatrix, number, number":function(p,h,D){if(!xe(h)||h<0||h>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(D<0||D>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var m=s(h,p,!1),y=d(p,m,D);return{L:y.L,U:y.U,p:y.pinv,q:m.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function ki(e,t){var r,n=t.length,i=[];if(e)for(r=0;r<n;r++)i[e[r]]=t[r];else for(r=0;r<n;r++)i[r]=t[r];return i}var ji="lusolve",Pv=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],$v=k(ji,Pv,e=>{var{typed:t,matrix:r,lup:n,slu:i,usolve:u,lsolve:a,DenseMatrix:f}=e,l=Yn({DenseMatrix:f});return t(ji,{"Array, Array | Matrix":function(d,v){d=r(d);var p=n(d),h=o(p.L,p.U,p.p,null,v);return h.valueOf()},"DenseMatrix, Array | Matrix":function(d,v){var p=n(d);return o(p.L,p.U,p.p,null,v)},"SparseMatrix, Array | Matrix":function(d,v){var p=n(d);return o(p.L,p.U,p.p,null,v)},"SparseMatrix, Array | Matrix, number, number":function(d,v,p,h){var D=i(d,p,h);return o(D.L,D.U,D.p,D.q,v)},"Object, Array | Matrix":function(d,v){return o(d.L,d.U,d.p,d.q,v)}});function c(s){if(Ie(s))return s;if($e(s))return r(s);throw new TypeError("Invalid Matrix LU decomposition")}function o(s,d,v,p,h){s=c(s),d=c(d),v&&(h=l(s,h,!0),h._data=ki(v,h._data));var D=a(s,h),m=u(d,D);return p&&(m._data=ki(p,m._data)),m}}),eu="det",Rv=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],qv=k(eu,Rv,e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:i,divideScalar:u,isZero:a,unaryMinus:f}=e;return t(eu,{any:function(o){return Be(o)},"Array | Matrix":function(o){var s;switch(Ie(o)?s=o.size():Array.isArray(o)?(o=r(o),s=o.size()):s=[],s.length){case 0:return Be(o);case 1:if(s[0]===1)return Be(o.valueOf()[0]);if(s[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+ze(s)+")");case 2:{var d=s[0],v=s[1];if(d===v)return l(o.clone().valueOf(),d);if(v===0)return 1;throw new RangeError("Matrix must be square (size: "+ze(s)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ze(s)+")")}}});function l(c,o,s){if(o===1)return Be(c[0][0]);if(o===2)return n(i(c[0][0],c[1][1]),i(c[1][0],c[0][1]));for(var d=!1,v=new Array(o).fill(0).map((C,b)=>b),p=0;p<o;p++){var h=v[p];if(a(c[h][p])){var D=void 0;for(D=p+1;D<o;D++)if(!a(c[v[D]][p])){h=v[D],v[D]=v[p],v[p]=h,d=!d;break}if(D===o)return c[h][p]}for(var m=c[h][p],y=p===0?1:c[v[p-1]][p-1],w=p+1;w<o;w++)for(var F=v[w],_=p+1;_<o;_++)c[F][_]=u(n(i(c[F][_],m),i(c[F][p],c[h][_])),y)}var g=c[v[o-1]][o-1];return d?f(g):g}}),tu="inv",Lv=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Uv=k(tu,Lv,e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:i,multiply:u,unaryMinus:a,det:f,identity:l,abs:c}=e;return t(tu,{"Array | Matrix":function(d){var v=Ie(d)?d.size():Xe(d);switch(v.length){case 1:if(v[0]===1)return Ie(d)?r([n(1,d.valueOf()[0])]):[n(1,d[0])];throw new RangeError("Matrix must be square (size: "+ze(v)+")");case 2:{var p=v[0],h=v[1];if(p===h)return Ie(d)?r(o(d.valueOf(),p,h),d.storage()):o(d,p,h);throw new RangeError("Matrix must be square (size: "+ze(v)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ze(v)+")")}},any:function(d){return n(1,d)}});function o(s,d,v){var p,h,D,m,y;if(d===1){if(m=s[0][0],m===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,m)]]}else if(d===2){var w=f(s);if(w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(s[1][1],w),n(a(s[0][1]),w)],[n(a(s[1][0]),w),n(s[0][0],w)]]}else{var F=s.concat();for(p=0;p<d;p++)F[p]=F[p].concat();for(var _=l(d).valueOf(),g=0;g<v;g++){var C=c(F[g][g]),b=g;for(p=g+1;p<d;)c(F[p][g])>C&&(C=c(F[p][g]),b=p),p++;if(C===0)throw Error("Cannot calculate inverse, determinant is zero");p=b,p!==g&&(y=F[g],F[g]=F[p],F[p]=y,y=_[g],_[g]=_[p],_[p]=y);var A=F[g],S=_[g];for(p=0;p<d;p++){var B=F[p],I=_[p];if(p!==g){if(B[g]!==0){for(D=n(a(B[g]),A[g]),h=g;h<v;h++)B[h]=i(B[h],u(D,A[h]));for(h=0;h<v;h++)I[h]=i(I[h],u(D,S[h]))}}else{for(D=A[g],h=g;h<v;h++)B[h]=n(B[h],D);for(h=0;h<v;h++)I[h]=n(I[h],D)}}}return _}}}),ru="sum",Vv=["typed","config","add","numeric"],Zv=k(ru,Vv,e=>{var{typed:t,config:r,add:n,numeric:i}=e;return t(ru,{"Array | Matrix":u,"Array | Matrix, number | BigNumber":a,"...":function(l){if(Q0(l))throw new TypeError("Scalar values expected in function sum");return u(l)}});function u(f){var l;return aa(f,function(c){try{l=l===void 0?c:n(l,c)}catch(o){throw Ui(o,"sum",c)}}),l===void 0&&(l=i(0,r.number)),typeof l=="string"&&(l=i(l,gl(l,r))),l}function a(f,l){try{var c=k0(f,l,n);return c}catch(o){throw Ui(o,"sum")}}}),cn=y0({config:et}),Aa=E0({}),ba=T0({}),Gn=O0({}),tt=W0({Matrix:Gn}),me=Al({BigNumber:cn,Complex:Aa,DenseMatrix:tt,Fraction:ba}),Jn=Bh({typed:me}),tr=xh({typed:me}),Hv=pd({typed:me}),_t=sh({config:et,typed:me}),Xv=Lh({typed:me}),Yv=eh({typed:me}),Gv=nh({config:et,typed:me}),Jv=uh({equalScalar:_t,typed:me}),gr=od({typed:me}),Ea=Dh({typed:me}),Ft=lh({Matrix:Gn,equalScalar:_t,typed:me}),mr=Th({typed:me}),ln=wh({BigNumber:cn,typed:me}),Le=bh({DenseMatrix:tt,Matrix:Gn,SparseMatrix:Ft,typed:me}),Wv=Cd({matrix:Le,typed:me}),nu=Bd({BigNumber:cn,config:et,matrix:Le,typed:me}),Vt=gd({isInteger:Yv,matrix:Le,typed:me}),Ca=Fh({Fraction:ba,typed:me}),Sa=wd({BigNumber:cn,DenseMatrix:tt,SparseMatrix:Ft,config:et,matrix:Le,typed:me}),Ba=kd({DenseMatrix:tt,SparseMatrix:Ft,concat:Vt,config:et,matrix:Le,typed:me}),Ma=Nd({bignumber:ln,fraction:Ca,number:Ea}),Kv=bd({matrix:Le,config:et,typed:me}),xa=Zd({DenseMatrix:tt,SparseMatrix:Ft,bignumber:ln,concat:Vt,config:et,matrix:Le,typed:me}),hn=Ch({typed:me}),Wn=ov({DenseMatrix:tt,SparseMatrix:Ft,addScalar:tr,concat:Vt,equalScalar:_t,matrix:Le,typed:me}),rr=zd({numeric:Ma,typed:me}),dn=Wd({DenseMatrix:tt,SparseMatrix:Ft,bignumber:ln,concat:Vt,config:et,matrix:Le,typed:me}),Qv=qd({DenseMatrix:tt,divideScalar:rr,equalScalar:_t,matrix:Le,multiplyScalar:gr,subtractScalar:mr,typed:me}),kv=Yd({DenseMatrix:tt,SparseMatrix:Ft,concat:Vt,config:et,matrix:Le,typed:me}),Na=ld({DenseMatrix:tt,concat:Vt,equalScalar:_t,matrix:Le,subtractScalar:mr,typed:me,unaryMinus:hn}),jv=Ud({DenseMatrix:tt,divideScalar:rr,equalScalar:_t,matrix:Le,multiplyScalar:gr,subtractScalar:mr,typed:me}),e1=fv({addScalar:tr,conj:Hv,multiplyScalar:gr,size:Kv,typed:me}),t1=rv({larger:dn,smaller:xa}),wr=fd({addScalar:tr,dot:e1,equalScalar:_t,matrix:Le,multiplyScalar:gr,typed:me}),Br=Fd({bignumber:ln,matrix:Le,add:Wn,config:et,isPositive:Gv,larger:dn,largerEq:Ba,smaller:xa,smallerEq:kv,typed:me}),r1=Ov({SparseMatrix:Ft,abs:Jn,add:Wn,divideScalar:rr,larger:dn,largerEq:Ba,multiply:wr,subtract:Na,transpose:Wv,typed:me}),n1=qv({divideScalar:rr,isZero:Jv,matrix:Le,multiply:wr,subtractScalar:mr,typed:me,unaryMinus:hn}),i1=Uv({abs:Jn,addScalar:tr,det:n1,divideScalar:rr,identity:Sa,matrix:Le,multiply:wr,typed:me,unaryMinus:hn}),u1=Od({Complex:Aa,config:et,fraction:Ca,identity:Sa,inv:i1,matrix:Le,multiply:wr,number:Ea,typed:me}),a1=uv({FibonacciHeap:t1,addScalar:tr,equalScalar:_t}),o1=Zv({add:Wn,config:et,numeric:Ma,typed:me}),s1=$d({DenseMatrix:tt,SparseMatrix:Ft,concat:Vt,equalScalar:_t,matrix:Le,pow:u1,typed:me}),f1=lv({DenseMatrix:tt,Spa:a1,SparseMatrix:Ft,abs:Jn,addScalar:tr,divideScalar:rr,equalScalar:_t,larger:dn,matrix:Le,multiplyScalar:gr,subtractScalar:mr,typed:me,unaryMinus:hn}),c1=$v({DenseMatrix:tt,lsolve:Qv,lup:f1,matrix:Le,slu:r1,typed:me,usolve:jv}),l1=iu('<button class="svelte-lzu280">Clear Samples</button>'),h1=iu('<main class="svelte-lzu280"><h1 class="svelte-lzu280">Protein Backbone Conformation Explorer</h1> <div class="container svelte-lzu280"><div class="panel svelte-lzu280"><h2 class="svelte-lzu280">Backbone Angles</h2> <canvas class="svelte-lzu280"></canvas> <div class="Other"></div></div> <div class="panel svelte-lzu280"><h2 class="svelte-lzu280">Energy Landscape</h2> <div class="contour-container svelte-lzu280"><canvas></canvas></div> <div class="info svelte-lzu280"><p class="svelte-lzu280"> </p> <p class="svelte-lzu280"> </p> <div class="instruction svelte-lzu280"><p class="highlight svelte-lzu280">Click on the plot above to add sample points and update the GP model</p></div> <div class="button-group svelte-lzu280"><!> <button class="info-button svelte-lzu280"> </button></div> <div class="energy-function svelte-lzu280"><h3 class="svelte-lzu280">About the Visualization:</h3> <p class="svelte-lzu280"> </p> <p class="svelte-lzu280">The energy function represents different stable conformations of the protein backbone. Darker regions indicate lower energy (more stable conformations).</p> <p class="svelte-lzu280">Click directly on the plot to add sample points and build a GP model that learns this energy landscape.</p></div></div></div></div></main>');function _1(e,t){so(t,!1);let r=Pt(0),n=Pt(0),i=Pt([]),u=[],a=Pt(),f=Pt(),l=Pt(!1),c=Pt(!1);const o=400,s=400,d=40,v=o-2*d,p=ti([-Math.PI,Math.PI],[d,o-d]),h=ti([-Math.PI,Math.PI],[s-d,d]),D={primary:"#3c6382",secondary:"#82ccdd",accent:"#60a3bc",highlight:"#6a89cc",text:"#2c3e50",bond1:"#38ada9",bond2:"#6a89cc",atom1:"#3c6382",atom2:"#60a3bc",atom3:"#82ccdd",atom4:"#38ada9"};let m=1/0,y=-1/0;function w(){const J=Br(-Math.PI,Math.PI,2*Math.PI/50).toArray(),ee=Br(-Math.PI,Math.PI,2*Math.PI/50).toArray();for(const te of J)for(const le of ee){const he=F(te,le);m=Math.min(m,he),y=Math.max(y,he)}m=Math.floor(m*10)/10,y=Math.ceil(y*10)/10,console.log(`Energy range: ${m} to ${y}`)}function F(N,J){const ee=Math.exp(-((N+Math.PI/2)**2)-(J-Math.PI/2)**2/.5),te=Math.exp(-((N+Math.PI/2)**2)-(J+.5)**2/.3),le=Math.exp(-((N-Math.PI/2)**2)-(J+Math.PI/2)**2/.5),he=Math.exp(-((N-Math.PI/2)**2)-(J-.5)**2/.3),ue=Math.exp(-((N-0)**2)/.3-(J-Math.PI/4)**2/.2),Ae=ee+te+le+he+ue;return-Math.log(Ae+1e-6)}function _(){vt(i,[]),u=[],b()}function g(N){if(ye(l))return;const J=ye(f).getBoundingClientRect(),ee=N.clientX-J.left,te=N.clientY-J.top,le=p.invert(ee),he=h.invert(te);if(ee>=d&&ee<=o-d&&te>=d&&te<=s-d){vt(r,le),vt(n,he);const ue=F(ye(r),ye(n));vt(i,[...ye(i),{phi:ye(r),psi:ye(n),energy:ue}]),C(),S()}}function C(){if(vt(l,!0),ye(i).length===0){vt(l,!1),b();return}setTimeout(()=>{const N=ye(i).map(fe=>[fe.phi,fe.psi]),J=ye(i).map(fe=>fe.energy),ee=(fe,Oe,E=1)=>{const M=o1(s1(Na(fe,Oe),2));return Xv(-.5*M/(E*E))},te=N.length,le=nu(te,te);for(let fe=0;fe<te;fe++)for(let Oe=0;Oe<te;Oe++)le.set([fe,Oe],ee(N[fe],N[Oe]));const he=.01;for(let fe=0;fe<te;fe++)le.set([fe,fe],le.get([fe,fe])+he);const ue=40,Ae=Br(-Math.PI,Math.PI,2*Math.PI/ue).toArray(),qe=Br(-Math.PI,Math.PI,2*Math.PI/ue).toArray();u=[];for(const fe of Ae)for(const Oe of qe){const E=[fe,Oe],M=nu(1,te);for(let T=0;T<te;T++)M.set([0,T],ee(E,N[T]));try{const T=c1(le,J),R=wr(M,T).get([0,0]);u.push({phi:fe,psi:Oe,predicted:R})}catch(T){console.error("Error in GP calculation:",T)}}b(),vt(l,!1)},50)}function b(){if(!ye(f))return;const N=ye(f).getContext("2d");N.clearRect(0,0,o+60,s);const J=su().domain([y,m]).interpolator(No);if(ye(c)||u.length===0){const te=v/80;for(let le=0;le<80;le++)for(let he=0;he<80;he++){const ue=-Math.PI+2*Math.PI*le/80,Ae=-Math.PI+2*Math.PI*he/80,qe=F(ue,Ae),fe=p(ue),Oe=h(Ae);N.fillStyle=J(qe),N.fillRect(fe-te/2,Oe-te/2,te,te)}}else{const ee=v/Math.sqrt(u.length);u.forEach(te=>{const le=p(te.phi),he=h(te.psi);N.fillStyle=J(te.predicted),N.fillRect(le-ee/2,he-ee/2,ee,ee)})}A(N,J),N.strokeStyle=D.primary,N.lineWidth=2,N.beginPath(),N.moveTo(d,s-d),N.lineTo(o-d,s-d),N.moveTo(d,d),N.lineTo(d,s-d),N.stroke(),N.fillStyle=D.text,N.font="bold 14px Arial, sans-serif",N.textAlign="center",N.fillText("-",d,s-d+15),N.fillText("0",o/2,s-d+15),N.fillText("",o-d,s-d+15),N.fillText("",o-d+15,s-d+5),N.textAlign="right",N.fillText("-",d-5,s-d),N.fillText("0",d-5,s/2),N.fillText("",d-5,d),N.fillText("",d-15,d-10),ye(i).forEach(ee=>{const te=p(ee.phi),le=h(ee.psi),he=8,ue=N.createRadialGradient(te,le,2,te,le,he);ue.addColorStop(0,D.highlight),ue.addColorStop(1,"rgba(106, 137, 204, 0)"),N.fillStyle=ue,N.beginPath(),N.arc(te,le,he,0,2*Math.PI),N.fill(),N.fillStyle=D.accent,N.beginPath(),N.arc(te,le,4,0,2*Math.PI),N.fill(),N.strokeStyle=D.primary,N.lineWidth=1,N.stroke()})}function A(N,J){const te=s-2*d,le=o-d+20,he=d,ue=100,Ae=te/ue;for(let fe=0;fe<ue;fe++){const Oe=m+(y-m)*(ue-fe-1)/ue;N.fillStyle=J(Oe),N.fillRect(le,he+fe*Ae,20,Ae+1)}N.strokeStyle=D.text,N.lineWidth=1,N.strokeRect(le,he,20,te),N.fillStyle=D.text,N.font="12px Arial, sans-serif",N.textAlign="left",N.fillText(m.toFixed(1),le+20+5,he+te),N.fillText(y.toFixed(1),le+20+5,he);const qe=(m+y)/2;N.fillText(qe.toFixed(1),le+20+5,he+te/2),N.save(),N.translate(le+20+25,he+te/2),N.rotate(-Math.PI/2),N.textAlign="center",N.fillText("Energy",0,0),N.restore()}function S(){if(!ye(a))return;const N=ye(a).getContext("2d");N.clearRect(0,0,o,s);const J=o/2,ee=s/2,te=120,le=N.createRadialGradient(J,ee,0,J,ee,te*1.5);le.addColorStop(0,"rgba(60, 99, 130, 0.1)"),le.addColorStop(1,"rgba(245, 246, 250, 0.05)"),N.fillStyle=le,N.fillRect(0,0,o,s);const he=N.createLinearGradient(J-te,ee,J+te,ee);he.addColorStop(0,D.secondary),he.addColorStop(.5,D.primary),he.addColorStop(1,D.secondary),N.strokeStyle=he,N.lineWidth=3,N.beginPath(),N.moveTo(J-te,ee),N.lineTo(J+te,ee),N.stroke();const ue=[{x:J-te,y:ee,color:D.atom1,label:"N",size:24},{x:J-te/2,y:ee,color:D.atom2,label:"C",size:26},{x:J,y:ee,color:D.atom3,label:"C",size:24},{x:J+te/2,y:ee,color:D.atom4,label:"O",size:24},{x:J+te,y:ee,color:D.atom1,label:"N",size:24}];N.save(),N.translate(J-te/2,ee),N.rotate(ye(r));const Ae=N.createLinearGradient(0,0,0,-60);Ae.addColorStop(0,D.bond1),Ae.addColorStop(1,D.secondary),N.strokeStyle=Ae,N.lineWidth=3,N.beginPath(),N.moveTo(0,0),N.lineTo(0,-60),N.stroke(),N.fillStyle=D.text,N.font="bold 14px Arial, sans-serif",N.fillText(" = "+ye(r).toFixed(2),5,-30),N.restore(),N.save(),N.translate(J,ee),N.rotate(ye(n));const qe=N.createLinearGradient(0,0,0,-60);qe.addColorStop(0,D.bond2),qe.addColorStop(1,D.highlight),N.strokeStyle=qe,N.lineWidth=3,N.beginPath(),N.moveTo(0,0),N.lineTo(0,-60),N.stroke(),N.fillStyle=D.text,N.font="bold 14px Arial, sans-serif",N.fillText(" = "+ye(n).toFixed(2),5,-30),N.restore(),ue.forEach(fe=>{const Oe=N.createRadialGradient(fe.x,fe.y,0,fe.x,fe.y,fe.size*1.2);Oe.addColorStop(0,fe.color),Oe.addColorStop(1,"rgba(255, 255, 255, 0)"),N.fillStyle=Oe,N.beginPath(),N.arc(fe.x,fe.y,fe.size*1.2,0,2*Math.PI),N.fill(),N.fillStyle=fe.color,N.beginPath(),N.arc(fe.x,fe.y,fe.size,0,2*Math.PI),N.fill(),N.fillStyle="#fff",N.font="bold 14px Arial, sans-serif",N.textAlign="center",N.textBaseline="middle",N.fillText(fe.label,fe.x,fe.y)})}function B(){vt(c,!ye(c)),b()}bo(()=>{w(),S(),b()}),fo(()=>(ye(a),ye(r),ye(n)),()=>{ye(a)&&(ye(r)||ye(n))&&S()}),co(),Ao();var I=h1(),q=dt(rt(I),2),O=rt(q),P=dt(rt(O),2);Ar(P,"width",o),Ar(P,"height",s),kn(P,N=>vt(a,N),()=>ye(a)),Qn(2),nt(O);var x=dt(O,2),G=dt(rt(x),2),Z=rt(G);Ar(Z,"width",o+60),Ar(Z,"height",s),kn(Z,N=>vt(f,N),()=>ye(f)),nt(G);var z=dt(G,2),H=rt(z),j=rt(H);nt(H);var ve=dt(H,2),oe=rt(ve);nt(ve);var re=dt(ve,4),_e=rt(re);{var De=N=>{var J=l1();vn("click",J,_),Kn(N,J)};po(_e,N=>{ye(i).length>0&&N(De)})}var ce=dt(_e,2),we=rt(ce,!0);nt(ce),nt(re);var pe=dt(re,2),ae=dt(rt(pe),2),Ne=rt(ae,!0);nt(ae),Qn(4),nt(pe),nt(z),nt(x),nt(q),nt(I),lo(N=>{_o(Z,1,Fo(ye(l)?"loading":""),"svelte-lzu280"),Fr(j,`Samples: ${ye(i).length??""}`),Fr(oe,`Current energy: ${N??""}`),Fr(we,ye(c)?"Show GP Prediction":"Show Energy Function"),Fr(Ne,ye(c)?"Showing actual energy function":"Showing Gaussian Process prediction")},[()=>F(ye(r),ye(n)).toFixed(2)],vo),vn("click",Z,g),vn("click",ce,B),Kn(e,I),ho()}export{_1 as component};
