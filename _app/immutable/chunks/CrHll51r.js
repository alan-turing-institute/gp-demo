import{O as N,Q as h,R,T as k,V as L,W as O,X as Y,Y as T,Z as d,_ as E,$ as A,U as g,a0 as o,a1 as q,a2 as v,b as x,a3 as D,S as F}from"./Dq82j-jo.js";function Z(s,f,e=!1){h&&R();var i=s,r=null,a=null,c=g,b=e?k:0,l=!1;const y=(n,t=!0)=>{l=!0,u(t,n)},u=(n,t)=>{if(c===(c=n))return;let _=!1;if(h){const I=i.data===L;!!c===I&&(i=O(),Y(i),T(!1),_=!0)}c?(r?d(r):t&&(r=E(()=>t(i))),a&&A(a,()=>{a=null})):(a?d(a):t&&(a=E(()=>t(i))),r&&A(r,()=>{r=null})),_&&T(!0)};N(()=>{l=!1,f(y),l||u(null,null)},b),h&&(i=o)}function S(s,f){return s===f||(s==null?void 0:s[F])===f}function B(s={},f,e,i){return q(()=>{var r,a;return v(()=>{r=a,a=[],x(()=>{s!==e(...a)&&(f(s,...a),r&&S(e(...r),s)&&f(null,...r))})}),()=>{D(()=>{a&&S(e(...a),s)&&f(null,...a)})}}),s}export{B as b,Z as i};
