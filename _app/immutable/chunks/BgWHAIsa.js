import{z as y,A as h,B as k,E as L,H as R,C as D,D as F,F as T,G as d,I as E,J as A,U as g,K as o,L as q,M as v,b as x,N as B,S as C}from"./Dk8vFEre.js";function M(a,f,e=!1){h&&k();var i=a,r=null,s=null,c=g,N=e?L:0,l=!1;const S=(n,t=!0)=>{l=!0,u(t,n)},u=(n,t)=>{if(c===(c=n))return;let _=!1;if(h){const b=i.data===R;!!c===b&&(i=D(),F(i),T(!1),_=!0)}c?(r?d(r):t&&(r=E(()=>t(i))),s&&A(s,()=>{s=null})):(s?d(s):t&&(s=E(()=>t(i))),r&&A(r,()=>{r=null})),_&&T(!0)};y(()=>{l=!1,f(S),l||u(null,null)},N),h&&(i=o)}function I(a,f){return a===f||(a==null?void 0:a[C])===f}function O(a={},f,e,i){return q(()=>{var r,s;return v(()=>{r=s,s=[],x(()=>{a!==e(...s)&&(f(a,...s),r&&I(e(...r),a)&&f(null,...r))})}),()=>{B(()=>{s&&I(e(...s),a)&&f(null,...s)})}}),a}export{O as b,M as i};
