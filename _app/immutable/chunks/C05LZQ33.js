import{l as N,m as h,o as k,E as R,H as o,p as q,q as v,t as T,v as d,w as E,x as A,U as x,y as L,z as g,A as B,b as D,B as F,S as H}from"./eDbGWMUz.js";function U(a,f,e=!1){h&&k();var i=a,r=null,s=null,l=x,S=e?R:0,c=!1;const b=(n,t=!0)=>{c=!0,u(t,n)},u=(n,t)=>{if(l===(l=n))return;let _=!1;if(h){const I=i.data===o;!!l===I&&(i=q(),v(i),T(!1),_=!0)}l?(r?d(r):t&&(r=E(()=>t(i))),s&&A(s,()=>{s=null})):(s?d(s):t&&(s=E(()=>t(i))),r&&A(r,()=>{r=null})),_&&T(!0)};N(()=>{c=!1,f(b),c||u(null,null)},S),h&&(i=L)}function y(a,f){return a===f||(a==null?void 0:a[H])===f}function Y(a={},f,e,i){return g(()=>{var r,s;return B(()=>{r=s,s=[],D(()=>{a!==e(...s)&&(f(a,...s),r&&y(e(...r),a)&&f(null,...r))})}),()=>{F(()=>{s&&y(e(...s),a)&&f(null,...s)})}}),a}export{Y as b,U as i};
